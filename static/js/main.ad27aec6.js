/*! For license information please see main.ad27aec6.js.LICENSE.txt */
!function(){var e={7653:function(e,t,n){"use strict";var r=n(4836);t.Z=void 0;var i=r(n(5649)),a=n(184),o=(0,i.default)((0,a.jsx)("path",{d:"M10 16v-1H3.01L3 19c0 1.11.89 2 2 2h14c1.11 0 2-.89 2-2v-4h-7v1h-4zm10-9h-4.01V5l-2-2h-4l-2 2v2H4c-1.1 0-2 .9-2 2v3c0 1.11.89 2 2 2h6v-2h4v2h6c1.1 0 2-.9 2-2V9c0-1.1-.9-2-2-2zm-6 0h-4V5h4v2z"}),"BusinessCenter");t.Z=o},2503:function(e,t,n){"use strict";var r=n(4836);t.Z=void 0;var i=r(n(5649)),a=n(184),o=(0,i.default)((0,a.jsx)("path",{d:"M3 17h18v2H3zm0-7h18v5H3zm0-4h18v2H3z"}),"CalendarViewDay");t.Z=o},9287:function(e,t,n){"use strict";var r=n(4836);t.Z=void 0;var i=r(n(5649)),a=n(184),o=(0,i.default)((0,a.jsx)("path",{d:"M4 4h16v12H5.17L4 17.17V4m0-2c-1.1 0-1.99.9-1.99 2L2 22l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2H4zm2 10h8v2H6v-2zm0-3h12v2H6V9zm0-3h12v2H6V6z"}),"ChatOutlined");t.Z=o},9e3:function(e,t,n){"use strict";var r=n(4836);t.Z=void 0;var i=r(n(5649)),a=n(184),o=(0,i.default)((0,a.jsx)("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"}),"Create");t.Z=o},8196:function(e,t,n){"use strict";var r=n(4836);t.Z=void 0;var i=r(n(5649)),a=n(184),o=(0,i.default)((0,a.jsx)("path",{d:"M17 10H7v2h10v-2zm2-7h-1V1h-2v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V8h14v11zm-5-5H7v2h7v-2z"}),"EventNote");t.Z=o},7267:function(e,t,n){"use strict";var r=n(4836);t.Z=void 0;var i=r(n(5649)),a=n(184),o=(0,i.default)((0,a.jsx)("circle",{cx:"12",cy:"12",r:"8"}),"FiberManualRecord");t.Z=o},7541:function(e,t,n){"use strict";var r=n(4836);t.Z=void 0;var i=r(n(5649)),a=n(184),o=(0,i.default)((0,a.jsx)("path",{d:"M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"}),"Home");t.Z=o},5764:function(e,t,n){"use strict";var r=n(4836);t.Z=void 0;var i=r(n(5649)),a=n(184),o=(0,i.default)((0,a.jsx)("path",{d:"M21 19V5c0-1.1-.9-2-2-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2zM8.5 13.5l2.5 3.01L14.5 12l4.5 6H5l3.5-4.5z"}),"Image");t.Z=o},5584:function(e,t,n){"use strict";var r=n(4836);t.Z=void 0;var i=r(n(5649)),a=n(184),o=(0,i.default)((0,a.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-6h2v6zm0-8h-2V7h2v2z"}),"Info");t.Z=o},52:function(e,t,n){"use strict";var r=n(4836);t.Z=void 0;var i=r(n(5649)),a=n(184),o=(0,i.default)((0,a.jsx)("path",{d:"M20 2H4c-1.1 0-1.99.9-1.99 2L2 22l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm-2 12H6v-2h12v2zm0-3H6V9h12v2zm0-3H6V6h12v2z"}),"Message");t.Z=o},8128:function(e,t,n){"use strict";var r=n(4836);t.Z=void 0;var i=r(n(5649)),a=n(184),o=(0,i.default)((0,a.jsx)("path",{d:"M12 22c1.1 0 2-.9 2-2h-4c0 1.1.89 2 2 2zm6-6v-5c0-3.07-1.64-5.64-4.5-6.32V4c0-.83-.67-1.5-1.5-1.5s-1.5.67-1.5 1.5v.68C7.63 5.36 6 7.92 6 11v5l-2 2v1h16v-1l-2-2z"}),"Notifications");t.Z=o},2216:function(e,t,n){"use strict";var r=n(4836);t.Z=void 0;var i=r(n(5649)),a=n(184),o=(0,i.default)((0,a.jsx)("path",{d:"M16 11c1.66 0 2.99-1.34 2.99-3S17.66 5 16 5c-1.66 0-3 1.34-3 3s1.34 3 3 3zm-8 0c1.66 0 2.99-1.34 2.99-3S9.66 5 8 5C6.34 5 5 6.34 5 8s1.34 3 3 3zm0 2c-2.33 0-7 1.17-7 3.5V19h14v-2.5c0-2.33-4.67-3.5-7-3.5zm8 0c-.29 0-.62.02-.97.05 1.16.84 1.97 1.97 1.97 3.45V19h6v-2.5c0-2.33-4.67-3.5-7-3.5z"}),"People");t.Z=o},5403:function(e,t,n){"use strict";var r=n(4836);t.Z=void 0;var i=r(n(5649)),a=n(184),o=(0,i.default)((0,a.jsx)("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"}),"Search");t.Z=o},376:function(e,t,n){"use strict";var r=n(4836);t.Z=void 0;var i=r(n(5649)),a=n(184),o=(0,i.default)((0,a.jsx)("path",{d:"m4.01 6.03 7.51 3.22-7.52-1 .01-2.22m7.5 8.72L4 17.97v-2.22l7.51-1M2.01 3 2 10l15 2-15 2 .01 7L23 12 2.01 3z"}),"SendOutlined");t.Z=o},4949:function(e,t,n){"use strict";var r=n(4836);t.Z=void 0;var i=r(n(5649)),a=n(184),o=(0,i.default)((0,a.jsx)("path",{d:"M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81 1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9c-1.66 0-3 1.34-3 3s1.34 3 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.16c-.05.21-.08.43-.08.65 0 1.61 1.31 2.92 2.92 2.92s2.92-1.31 2.92-2.92c0-1.61-1.31-2.92-2.92-2.92zM18 4c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zM6 13c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1-.45 1-1 1zm12 7.02c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1-.45 1-1 1z"}),"ShareOutlined");t.Z=o},7466:function(e,t,n){"use strict";var r=n(4836);t.Z=void 0;var i=r(n(5649)),a=n(184),o=(0,i.default)((0,a.jsx)("path",{d:"M20 8H4V6h16v2zm-2-6H6v2h12V2zm4 10v8c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2v-8c0-1.1.9-2 2-2h16c1.1 0 2 .9 2 2zm-6 4-6-3.27v6.53L16 16z"}),"Subscriptions");t.Z=o},2430:function(e,t,n){"use strict";var r=n(4836);t.Z=void 0;var i=r(n(5649)),a=n(184),o=(0,i.default)((0,a.jsx)("path",{d:"m13.11 5.72-.57 2.89c-.12.59.04 1.2.42 1.66.38.46.94.73 1.54.73H20v1.08L17.43 18H9.34c-.18 0-.34-.16-.34-.34V9.82l4.11-4.1M14 2 7.59 8.41C7.21 8.79 7 9.3 7 9.83v7.83C7 18.95 8.05 20 9.34 20h8.1c.71 0 1.36-.37 1.72-.97l2.67-6.15c.11-.25.17-.52.17-.8V11c0-1.1-.9-2-2-2h-5.5l.92-4.65c.05-.22.02-.46-.08-.66-.23-.45-.52-.86-.88-1.22L14 2zM4 9H2v11h2c.55 0 1-.45 1-1v-9c0-.55-.45-1-1-1z"}),"ThumbUpOffAlt");t.Z=o},5649:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return r.createSvgIcon}});var r=n(2231)},9330:function(e,t,n){"use strict";n.d(t,{Z:function(){return Q}});var r=n(7462),i=n(3366),a=n(6189),o=n(2466),u=n(5080),s=n(7416),c=n(104),l=n(4942);function f(e,t){var n;return(0,r.Z)({toolbar:(n={minHeight:56},(0,l.Z)(n,e.up("xs"),{"@media (orientation: landscape)":{minHeight:48}}),(0,l.Z)(n,e.up("sm"),{minHeight:64}),n)},t)}function h(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return Math.min(Math.max(t,e),n)}function d(e){if(e.type)return e;if("#"===e.charAt(0))return d(function(e){e=e.slice(1);var t=new RegExp(".{1,".concat(e.length>=6?2:1,"}"),"g"),n=e.match(t);return n&&1===n[0].length&&(n=n.map((function(e){return e+e}))),n?"rgb".concat(4===n.length?"a":"","(").concat(n.map((function(e,t){return t<3?parseInt(e,16):Math.round(parseInt(e,16)/255*1e3)/1e3})).join(", "),")"):""}(e));var t=e.indexOf("("),n=e.substring(0,t);if(-1===["rgb","rgba","hsl","hsla","color"].indexOf(n))throw new Error((0,a.Z)(9,e));var r,i=e.substring(t+1,e.length-1);if("color"===n){if(r=(i=i.split(" ")).shift(),4===i.length&&"/"===i[3].charAt(0)&&(i[3]=i[3].slice(1)),-1===["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(r))throw new Error((0,a.Z)(10,r))}else i=i.split(",");return{type:n,values:i=i.map((function(e){return parseFloat(e)})),colorSpace:r}}function p(e){var t=e.type,n=e.colorSpace,r=e.values;return-1!==t.indexOf("rgb")?r=r.map((function(e,t){return t<3?parseInt(e,10):e})):-1!==t.indexOf("hsl")&&(r[1]="".concat(r[1],"%"),r[2]="".concat(r[2],"%")),r=-1!==t.indexOf("color")?"".concat(n," ").concat(r.join(" ")):"".concat(r.join(", ")),"".concat(t,"(").concat(r,")")}function v(e){var t="hsl"===(e=d(e)).type||"hsla"===e.type?d(function(e){var t=(e=d(e)).values,n=t[0],r=t[1]/100,i=t[2]/100,a=r*Math.min(i,1-i),o=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(e+n/30)%12;return i-a*Math.max(Math.min(t-3,9-t,1),-1)},u="rgb",s=[Math.round(255*o(0)),Math.round(255*o(8)),Math.round(255*o(4))];return"hsla"===e.type&&(u+="a",s.push(t[3])),p({type:u,values:s})}(e)).values:e.values;return t=t.map((function(t){return"color"!==e.type&&(t/=255),t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4)})),Number((.2126*t[0]+.7152*t[1]+.0722*t[2]).toFixed(3))}function y(e,t){if(e=d(e),t=h(t),-1!==e.type.indexOf("hsl"))e.values[2]*=1-t;else if(-1!==e.type.indexOf("rgb")||-1!==e.type.indexOf("color"))for(var n=0;n<3;n+=1)e.values[n]*=1-t;return p(e)}function m(e,t){if(e=d(e),t=h(t),-1!==e.type.indexOf("hsl"))e.values[2]+=(100-e.values[2])*t;else if(-1!==e.type.indexOf("rgb"))for(var n=0;n<3;n+=1)e.values[n]+=(255-e.values[n])*t;else if(-1!==e.type.indexOf("color"))for(var r=0;r<3;r+=1)e.values[r]+=(1-e.values[r])*t;return p(e)}var g={black:"#000",white:"#fff"},k={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},b={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},w={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},x={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},_={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},I={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},S={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},E=["mode","contrastThreshold","tonalOffset"],T={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:g.white,default:g.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},C={text:{primary:g.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:g.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function A(e,t,n,r){var i=r.light||r,a=r.dark||1.5*r;e[t]||(e.hasOwnProperty(n)?e[t]=e[n]:"light"===t?e.light=m(e.main,i):"dark"===t&&(e.dark=y(e.main,a)))}function N(e){var t=e.mode,n=void 0===t?"light":t,u=e.contrastThreshold,s=void 0===u?3:u,c=e.tonalOffset,l=void 0===c?.2:c,f=(0,i.Z)(e,E),h=e.primary||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:_[200],light:_[50],dark:_[400]}:{main:_[700],light:_[400],dark:_[800]}}(n),d=e.secondary||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:b[200],light:b[50],dark:b[400]}:{main:b[500],light:b[300],dark:b[700]}}(n),p=e.error||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:w[500],light:w[300],dark:w[700]}:{main:w[700],light:w[400],dark:w[800]}}(n),y=e.info||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:I[400],light:I[300],dark:I[700]}:{main:I[700],light:I[500],dark:I[900]}}(n),m=e.success||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:S[400],light:S[300],dark:S[700]}:{main:S[800],light:S[500],dark:S[900]}}(n),N=e.warning||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:x[400],light:x[300],dark:x[700]}:{main:"#ed6c02",light:x[500],dark:x[900]}}(n);function O(e){var t=function(e,t){var n=v(e),r=v(t);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}(e,C.text.primary)>=s?C.text.primary:T.text.primary;return t}var D=function(e){var t=e.color,n=e.name,i=e.mainShade,o=void 0===i?500:i,u=e.lightShade,s=void 0===u?300:u,c=e.darkShade,f=void 0===c?700:c;if(!(t=(0,r.Z)({},t)).main&&t[o]&&(t.main=t[o]),!t.hasOwnProperty("main"))throw new Error((0,a.Z)(11,n?" (".concat(n,")"):"",o));if("string"!==typeof t.main)throw new Error((0,a.Z)(12,n?" (".concat(n,")"):"",JSON.stringify(t.main)));return A(t,"light",s,l),A(t,"dark",f,l),t.contrastText||(t.contrastText=O(t.main)),t},P={dark:C,light:T};return(0,o.Z)((0,r.Z)({common:(0,r.Z)({},g),mode:n,primary:D({color:h,name:"primary"}),secondary:D({color:d,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:D({color:p,name:"error"}),warning:D({color:N,name:"warning"}),info:D({color:y,name:"info"}),success:D({color:m,name:"success"}),grey:k,contrastThreshold:s,getContrastText:O,augmentColor:D,tonalOffset:l},P[n]),f)}var O=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];var D={textTransform:"uppercase"},P='"Roboto", "Helvetica", "Arial", sans-serif';function R(e,t){var n="function"===typeof t?t(e):t,a=n.fontFamily,u=void 0===a?P:a,s=n.fontSize,c=void 0===s?14:s,l=n.fontWeightLight,f=void 0===l?300:l,h=n.fontWeightRegular,d=void 0===h?400:h,p=n.fontWeightMedium,v=void 0===p?500:p,y=n.fontWeightBold,m=void 0===y?700:y,g=n.htmlFontSize,k=void 0===g?16:g,b=n.allVariants,w=n.pxToRem,x=(0,i.Z)(n,O);var _=c/14,I=w||function(e){return"".concat(e/k*_,"rem")},S=function(e,t,n,i,a){return(0,r.Z)({fontFamily:u,fontWeight:e,fontSize:I(t),lineHeight:n},u===P?{letterSpacing:"".concat((o=i/t,Math.round(1e5*o)/1e5),"em")}:{},a,b);var o},E={h1:S(f,96,1.167,-1.5),h2:S(f,60,1.2,-.5),h3:S(d,48,1.167,0),h4:S(d,34,1.235,.25),h5:S(d,24,1.334,0),h6:S(v,20,1.6,.15),subtitle1:S(d,16,1.75,.15),subtitle2:S(v,14,1.57,.1),body1:S(d,16,1.5,.15),body2:S(d,14,1.43,.15),button:S(v,14,1.75,.4,D),caption:S(d,12,1.66,.4),overline:S(d,12,2.66,1,D)};return(0,o.Z)((0,r.Z)({htmlFontSize:k,pxToRem:I,fontFamily:u,fontSize:c,fontWeightLight:f,fontWeightRegular:d,fontWeightMedium:v,fontWeightBold:m},E),x,{clone:!1})}var L=.2,M=.14,F=.12;function V(){return["".concat(arguments.length<=0?void 0:arguments[0],"px ").concat(arguments.length<=1?void 0:arguments[1],"px ").concat(arguments.length<=2?void 0:arguments[2],"px ").concat(arguments.length<=3?void 0:arguments[3],"px rgba(0,0,0,").concat(L,")"),"".concat(arguments.length<=4?void 0:arguments[4],"px ").concat(arguments.length<=5?void 0:arguments[5],"px ").concat(arguments.length<=6?void 0:arguments[6],"px ").concat(arguments.length<=7?void 0:arguments[7],"px rgba(0,0,0,").concat(M,")"),"".concat(arguments.length<=8?void 0:arguments[8],"px ").concat(arguments.length<=9?void 0:arguments[9],"px ").concat(arguments.length<=10?void 0:arguments[10],"px ").concat(arguments.length<=11?void 0:arguments[11],"px rgba(0,0,0,").concat(F,")")].join(",")}var j=["none",V(0,2,1,-1,0,1,1,0,0,1,3,0),V(0,3,1,-2,0,2,2,0,0,1,5,0),V(0,3,3,-2,0,3,4,0,0,1,8,0),V(0,2,4,-1,0,4,5,0,0,1,10,0),V(0,3,5,-1,0,5,8,0,0,1,14,0),V(0,3,5,-1,0,6,10,0,0,1,18,0),V(0,4,5,-2,0,7,10,1,0,2,16,1),V(0,5,5,-3,0,8,10,1,0,3,14,2),V(0,5,6,-3,0,9,12,1,0,3,16,2),V(0,6,6,-3,0,10,14,1,0,4,18,3),V(0,6,7,-4,0,11,15,1,0,4,20,3),V(0,7,8,-4,0,12,17,2,0,5,22,4),V(0,7,8,-4,0,13,19,2,0,5,24,4),V(0,7,9,-4,0,14,21,2,0,5,26,4),V(0,8,9,-5,0,15,22,2,0,6,28,5),V(0,8,10,-5,0,16,24,2,0,6,30,5),V(0,8,11,-5,0,17,26,2,0,6,32,5),V(0,9,11,-5,0,18,28,2,0,7,34,6),V(0,9,12,-6,0,19,29,2,0,7,36,6),V(0,10,13,-6,0,20,31,3,0,8,38,7),V(0,10,13,-6,0,21,33,3,0,8,40,7),V(0,10,14,-6,0,22,35,3,0,8,42,7),V(0,11,14,-7,0,23,36,3,0,9,44,8),V(0,11,15,-7,0,24,38,3,0,9,46,8)],U=["duration","easing","delay"],z={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},B={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function q(e){return"".concat(Math.round(e),"ms")}function Z(e){if(!e)return 0;var t=e/36;return Math.round(10*(4+15*Math.pow(t,.25)+t/5))}function K(e){var t=(0,r.Z)({},z,e.easing),n=(0,r.Z)({},B,e.duration);return(0,r.Z)({getAutoHeightDuration:Z,create:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["all"],r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=r.duration,o=void 0===a?n.standard:a,u=r.easing,s=void 0===u?t.easeInOut:u,c=r.delay,l=void 0===c?0:c;(0,i.Z)(r,U);return(Array.isArray(e)?e:[e]).map((function(e){return"".concat(e," ").concat("string"===typeof o?o:q(o)," ").concat(s," ").concat("string"===typeof l?l:q(l))})).join(",")}},e,{easing:t,duration:n})}var W={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},G=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function H(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.mixins,n=void 0===t?{}:t,l=e.palette,h=void 0===l?{}:l,d=e.transitions,p=void 0===d?{}:d,v=e.typography,y=void 0===v?{}:v,m=(0,i.Z)(e,G);if(e.vars)throw new Error((0,a.Z)(18));var g=N(h),k=(0,u.Z)(e),b=(0,o.Z)(k,{mixins:f(k.breakpoints,n),palette:g,shadows:j.slice(),typography:R(g,y),transitions:K(p),zIndex:(0,r.Z)({},W)});b=(0,o.Z)(b,m);for(var w=arguments.length,x=new Array(w>1?w-1:0),_=1;_<w;_++)x[_-1]=arguments[_];return(b=x.reduce((function(e,t){return(0,o.Z)(e,t)}),b)).unstable_sxConfig=(0,r.Z)({},s.Z,null==m?void 0:m.unstable_sxConfig),b.unstable_sx=function(e){return(0,c.Z)({sx:e,theme:this})},b}var Q=H()},1543:function(e,t,n){"use strict";n.d(t,{ZP:function(){return it}});var r=n(3433),i=n(9439),a=n(3366),o=n(7462),u=n(2791),s=n.t(u,2);var c=function(e){var t=Object.create(null);return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}},l=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,f=c((function(e){return l.test(e)||111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)<91}));var h=function(){function e(e){var t=this;this._insertTag=function(e){var n;n=0===t.tags.length?t.insertionPoint?t.insertionPoint.nextSibling:t.prepend?t.container.firstChild:t.before:t.tags[t.tags.length-1].nextSibling,t.container.insertBefore(e,n),t.tags.push(e)},this.isSpeedy=void 0===e.speedy||e.speedy,this.tags=[],this.ctr=0,this.nonce=e.nonce,this.key=e.key,this.container=e.container,this.prepend=e.prepend,this.insertionPoint=e.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(e){e.forEach(this._insertTag)},t.insert=function(e){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(function(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),void 0!==e.nonce&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}(this));var t=this.tags[this.tags.length-1];if(this.isSpeedy){var n=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}(t);try{n.insertRule(e,n.cssRules.length)}catch(r){0}}else t.appendChild(document.createTextNode(e));this.ctr++},t.flush=function(){this.tags.forEach((function(e){return e.parentNode&&e.parentNode.removeChild(e)})),this.tags=[],this.ctr=0},e}(),d=Math.abs,p=String.fromCharCode,v=Object.assign;function y(e){return e.trim()}function m(e,t,n){return e.replace(t,n)}function g(e,t){return e.indexOf(t)}function k(e,t){return 0|e.charCodeAt(t)}function b(e,t,n){return e.slice(t,n)}function w(e){return e.length}function x(e){return e.length}function _(e,t){return t.push(e),e}var I=1,S=1,E=0,T=0,C=0,A="";function N(e,t,n,r,i,a,o){return{value:e,root:t,parent:n,type:r,props:i,children:a,line:I,column:S,length:o,return:""}}function O(e,t){return v(N("",null,null,"",null,null,0),e,{length:-e.length},t)}function D(){return C=T>0?k(A,--T):0,S--,10===C&&(S=1,I--),C}function P(){return C=T<E?k(A,T++):0,S++,10===C&&(S=1,I++),C}function R(){return k(A,T)}function L(){return T}function M(e,t){return b(A,e,t)}function F(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function V(e){return I=S=1,E=w(A=e),T=0,[]}function j(e){return A="",e}function U(e){return y(M(T-1,q(91===e?e+2:40===e?e+1:e)))}function z(e){for(;(C=R())&&C<33;)P();return F(e)>2||F(C)>3?"":" "}function B(e,t){for(;--t&&P()&&!(C<48||C>102||C>57&&C<65||C>70&&C<97););return M(e,L()+(t<6&&32==R()&&32==P()))}function q(e){for(;P();)switch(C){case e:return T;case 34:case 39:34!==e&&39!==e&&q(C);break;case 40:41===e&&q(e);break;case 92:P()}return T}function Z(e,t){for(;P()&&e+C!==57&&(e+C!==84||47!==R()););return"/*"+M(t,T-1)+"*"+p(47===e?e:P())}function K(e){for(;!F(R());)P();return M(e,T)}var W="-ms-",G="-moz-",H="-webkit-",Q="comm",$="rule",Y="decl",X="@import",J="@keyframes";function ee(e,t){for(var n="",r=x(e),i=0;i<r;i++)n+=t(e[i],i,e,t)||"";return n}function te(e,t,n,r){switch(e.type){case X:case Y:return e.return=e.return||e.value;case Q:return"";case J:return e.return=e.value+"{"+ee(e.children,r)+"}";case $:e.value=e.props.join(",")}return w(n=ee(e.children,r))?e.return=e.value+"{"+n+"}":""}function ne(e){return j(re("",null,null,null,[""],e=V(e),0,[0],e))}function re(e,t,n,r,i,a,o,u,s){for(var c=0,l=0,f=o,h=0,d=0,v=0,y=1,b=1,x=1,I=0,S="",E=i,T=a,C=r,A=S;b;)switch(v=I,I=P()){case 40:if(108!=v&&58==k(A,f-1)){-1!=g(A+=m(U(I),"&","&\f"),"&\f")&&(x=-1);break}case 34:case 39:case 91:A+=U(I);break;case 9:case 10:case 13:case 32:A+=z(v);break;case 92:A+=B(L()-1,7);continue;case 47:switch(R()){case 42:case 47:_(ae(Z(P(),L()),t,n),s);break;default:A+="/"}break;case 123*y:u[c++]=w(A)*x;case 125*y:case 59:case 0:switch(I){case 0:case 125:b=0;case 59+l:d>0&&w(A)-f&&_(d>32?oe(A+";",r,n,f-1):oe(m(A," ","")+";",r,n,f-2),s);break;case 59:A+=";";default:if(_(C=ie(A,t,n,c,l,i,u,S,E=[],T=[],f),a),123===I)if(0===l)re(A,t,C,C,E,a,f,u,T);else switch(99===h&&110===k(A,3)?100:h){case 100:case 109:case 115:re(e,C,C,r&&_(ie(e,C,C,0,0,i,u,S,i,E=[],f),T),i,T,f,u,r?E:T);break;default:re(A,C,C,C,[""],T,0,u,T)}}c=l=d=0,y=x=1,S=A="",f=o;break;case 58:f=1+w(A),d=v;default:if(y<1)if(123==I)--y;else if(125==I&&0==y++&&125==D())continue;switch(A+=p(I),I*y){case 38:x=l>0?1:(A+="\f",-1);break;case 44:u[c++]=(w(A)-1)*x,x=1;break;case 64:45===R()&&(A+=U(P())),h=R(),l=f=w(S=A+=K(L())),I++;break;case 45:45===v&&2==w(A)&&(y=0)}}return a}function ie(e,t,n,r,i,a,o,u,s,c,l){for(var f=i-1,h=0===i?a:[""],p=x(h),v=0,g=0,k=0;v<r;++v)for(var w=0,_=b(e,f+1,f=d(g=o[v])),I=e;w<p;++w)(I=y(g>0?h[w]+" "+_:m(_,/&\f/g,h[w])))&&(s[k++]=I);return N(e,t,n,0===i?$:u,s,c,l)}function ae(e,t,n){return N(e,t,n,Q,p(C),b(e,2,-2),0)}function oe(e,t,n,r){return N(e,t,n,Y,b(e,0,r),b(e,r+1,-1),r)}var ue=function(e,t,n){for(var r=0,i=0;r=i,i=R(),38===r&&12===i&&(t[n]=1),!F(i);)P();return M(e,T)},se=function(e,t){return j(function(e,t){var n=-1,r=44;do{switch(F(r)){case 0:38===r&&12===R()&&(t[n]=1),e[n]+=ue(T-1,t,n);break;case 2:e[n]+=U(r);break;case 4:if(44===r){e[++n]=58===R()?"&\f":"",t[n]=e[n].length;break}default:e[n]+=p(r)}}while(r=P());return e}(V(e),t))},ce=new WeakMap,le=function(e){if("rule"===e.type&&e.parent&&!(e.length<1)){for(var t=e.value,n=e.parent,r=e.column===n.column&&e.line===n.line;"rule"!==n.type;)if(!(n=n.parent))return;if((1!==e.props.length||58===t.charCodeAt(0)||ce.get(n))&&!r){ce.set(e,!0);for(var i=[],a=se(t,i),o=n.props,u=0,s=0;u<a.length;u++)for(var c=0;c<o.length;c++,s++)e.props[s]=i[u]?a[u].replace(/&\f/g,o[c]):o[c]+" "+a[u]}}},fe=function(e){if("decl"===e.type){var t=e.value;108===t.charCodeAt(0)&&98===t.charCodeAt(2)&&(e.return="",e.value="")}};function he(e,t){switch(function(e,t){return 45^k(e,0)?(((t<<2^k(e,0))<<2^k(e,1))<<2^k(e,2))<<2^k(e,3):0}(e,t)){case 5103:return H+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return H+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return H+e+G+e+W+e+e;case 6828:case 4268:return H+e+W+e+e;case 6165:return H+e+W+"flex-"+e+e;case 5187:return H+e+m(e,/(\w+).+(:[^]+)/,H+"box-$1$2"+W+"flex-$1$2")+e;case 5443:return H+e+W+"flex-item-"+m(e,/flex-|-self/,"")+e;case 4675:return H+e+W+"flex-line-pack"+m(e,/align-content|flex-|-self/,"")+e;case 5548:return H+e+W+m(e,"shrink","negative")+e;case 5292:return H+e+W+m(e,"basis","preferred-size")+e;case 6060:return H+"box-"+m(e,"-grow","")+H+e+W+m(e,"grow","positive")+e;case 4554:return H+m(e,/([^-])(transform)/g,"$1"+H+"$2")+e;case 6187:return m(m(m(e,/(zoom-|grab)/,H+"$1"),/(image-set)/,H+"$1"),e,"")+e;case 5495:case 3959:return m(e,/(image-set\([^]*)/,H+"$1$`$1");case 4968:return m(m(e,/(.+:)(flex-)?(.*)/,H+"box-pack:$3"+W+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+H+e+e;case 4095:case 3583:case 4068:case 2532:return m(e,/(.+)-inline(.+)/,H+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(w(e)-1-t>6)switch(k(e,t+1)){case 109:if(45!==k(e,t+4))break;case 102:return m(e,/(.+:)(.+)-([^]+)/,"$1"+H+"$2-$3$1"+G+(108==k(e,t+3)?"$3":"$2-$3"))+e;case 115:return~g(e,"stretch")?he(m(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(115!==k(e,t+1))break;case 6444:switch(k(e,w(e)-3-(~g(e,"!important")&&10))){case 107:return m(e,":",":"+H)+e;case 101:return m(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+H+(45===k(e,14)?"inline-":"")+"box$3$1"+H+"$2$3$1"+W+"$2box$3")+e}break;case 5936:switch(k(e,t+11)){case 114:return H+e+W+m(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return H+e+W+m(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return H+e+W+m(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return H+e+W+e+e}return e}var de=[function(e,t,n,r){if(e.length>-1&&!e.return)switch(e.type){case Y:e.return=he(e.value,e.length);break;case J:return ee([O(e,{value:m(e.value,"@","@"+H)})],r);case $:if(e.length)return function(e,t){return e.map(t).join("")}(e.props,(function(t){switch(function(e,t){return(e=t.exec(e))?e[0]:e}(t,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return ee([O(e,{props:[m(t,/:(read-\w+)/,":"+G+"$1")]})],r);case"::placeholder":return ee([O(e,{props:[m(t,/:(plac\w+)/,":"+H+"input-$1")]}),O(e,{props:[m(t,/:(plac\w+)/,":"+G+"$1")]}),O(e,{props:[m(t,/:(plac\w+)/,W+"input-$1")]})],r)}return""}))}}],pe=function(e){var t=e.key;if("css"===t){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,(function(e){-1!==e.getAttribute("data-emotion").indexOf(" ")&&(document.head.appendChild(e),e.setAttribute("data-s",""))}))}var r=e.stylisPlugins||de;var i,a,o={},u=[];i=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),(function(e){for(var t=e.getAttribute("data-emotion").split(" "),n=1;n<t.length;n++)o[t[n]]=!0;u.push(e)}));var s,c,l=[te,(c=function(e){s.insert(e)},function(e){e.root||(e=e.return)&&c(e)})],f=function(e){var t=x(e);return function(n,r,i,a){for(var o="",u=0;u<t;u++)o+=e[u](n,r,i,a)||"";return o}}([le,fe].concat(r,l));a=function(e,t,n,r){s=n,ee(ne(e?e+"{"+t.styles+"}":t.styles),f),r&&(d.inserted[t.name]=!0)};var d={key:t,sheet:new h({key:t,container:i,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:o,registered:{},insert:a};return d.sheet.hydrate(u),d};var ve=function(e){for(var t,n=0,r=0,i=e.length;i>=4;++r,i-=4)t=1540483477*(65535&(t=255&e.charCodeAt(r)|(255&e.charCodeAt(++r))<<8|(255&e.charCodeAt(++r))<<16|(255&e.charCodeAt(++r))<<24))+(59797*(t>>>16)<<16),n=1540483477*(65535&(t^=t>>>24))+(59797*(t>>>16)<<16)^1540483477*(65535&n)+(59797*(n>>>16)<<16);switch(i){case 3:n^=(255&e.charCodeAt(r+2))<<16;case 2:n^=(255&e.charCodeAt(r+1))<<8;case 1:n=1540483477*(65535&(n^=255&e.charCodeAt(r)))+(59797*(n>>>16)<<16)}return(((n=1540483477*(65535&(n^=n>>>13))+(59797*(n>>>16)<<16))^n>>>15)>>>0).toString(36)},ye={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},me=/[A-Z]|^ms/g,ge=/_EMO_([^_]+?)_([^]*?)_EMO_/g,ke=function(e){return 45===e.charCodeAt(1)},be=function(e){return null!=e&&"boolean"!==typeof e},we=c((function(e){return ke(e)?e:e.replace(me,"-$&").toLowerCase()})),xe=function(e,t){switch(e){case"animation":case"animationName":if("string"===typeof t)return t.replace(ge,(function(e,t,n){return Ie={name:t,styles:n,next:Ie},t}))}return 1===ye[e]||ke(e)||"number"!==typeof t||0===t?t:t+"px"};function _e(e,t,n){if(null==n)return"";if(void 0!==n.__emotion_styles)return n;switch(typeof n){case"boolean":return"";case"object":if(1===n.anim)return Ie={name:n.name,styles:n.styles,next:Ie},n.name;if(void 0!==n.styles){var r=n.next;if(void 0!==r)for(;void 0!==r;)Ie={name:r.name,styles:r.styles,next:Ie},r=r.next;return n.styles+";"}return function(e,t,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=_e(e,t,n[i])+";";else for(var a in n){var o=n[a];if("object"!==typeof o)null!=t&&void 0!==t[o]?r+=a+"{"+t[o]+"}":be(o)&&(r+=we(a)+":"+xe(a,o)+";");else if(!Array.isArray(o)||"string"!==typeof o[0]||null!=t&&void 0!==t[o[0]]){var u=_e(e,t,o);switch(a){case"animation":case"animationName":r+=we(a)+":"+u+";";break;default:r+=a+"{"+u+"}"}}else for(var s=0;s<o.length;s++)be(o[s])&&(r+=we(a)+":"+xe(a,o[s])+";")}return r}(e,t,n);case"function":if(void 0!==e){var i=Ie,a=n(e);return Ie=i,_e(e,t,a)}}if(null==t)return n;var o=t[n];return void 0!==o?o:n}var Ie,Se=/label:\s*([^\s;\n{]+)\s*(;|$)/g;var Ee=function(e,t,n){if(1===e.length&&"object"===typeof e[0]&&null!==e[0]&&void 0!==e[0].styles)return e[0];var r=!0,i="";Ie=void 0;var a=e[0];null==a||void 0===a.raw?(r=!1,i+=_e(n,t,a)):i+=a[0];for(var o=1;o<e.length;o++)i+=_e(n,t,e[o]),r&&(i+=a[o]);Se.lastIndex=0;for(var u,s="";null!==(u=Se.exec(i));)s+="-"+u[1];return{name:ve(i)+s,styles:i,next:Ie}},Te=!!s.useInsertionEffect&&s.useInsertionEffect,Ce=Te||function(e){return e()},Ae=(Te||u.useLayoutEffect,(0,u.createContext)("undefined"!==typeof HTMLElement?pe({key:"css"}):null));Ae.Provider;var Ne=function(e){return(0,u.forwardRef)((function(t,n){var r=(0,u.useContext)(Ae);return e(t,r,n)}))},Oe=(0,u.createContext)({});var De=function(e,t,n){var r=e.key+"-"+t.name;!1===n&&void 0===e.registered[r]&&(e.registered[r]=t.styles)},Pe=f,Re=function(e){return"theme"!==e},Le=function(e){return"string"===typeof e&&e.charCodeAt(0)>96?Pe:Re},Me=function(e,t,n){var r;if(t){var i=t.shouldForwardProp;r=e.__emotion_forwardProp&&i?function(t){return e.__emotion_forwardProp(t)&&i(t)}:i}return"function"!==typeof r&&n&&(r=e.__emotion_forwardProp),r},Fe=function(e){var t=e.cache,n=e.serialized,r=e.isStringTag;De(t,n,r);Ce((function(){return function(e,t,n){De(e,t,n);var r=e.key+"-"+t.name;if(void 0===e.inserted[t.name]){var i=t;do{e.insert(t===i?"."+r:"",i,e.sheet,!0),i=i.next}while(void 0!==i)}}(t,n,r)}));return null},Ve=function e(t,n){var r,i,a=t.__emotion_real===t,s=a&&t.__emotion_base||t;void 0!==n&&(r=n.label,i=n.target);var c=Me(t,n,a),l=c||Le(s),f=!l("as");return function(){var h=arguments,d=a&&void 0!==t.__emotion_styles?t.__emotion_styles.slice(0):[];if(void 0!==r&&d.push("label:"+r+";"),null==h[0]||void 0===h[0].raw)d.push.apply(d,h);else{0,d.push(h[0][0]);for(var p=h.length,v=1;v<p;v++)d.push(h[v],h[0][v])}var y=Ne((function(e,t,n){var r=f&&e.as||s,a="",o=[],h=e;if(null==e.theme){for(var p in h={},e)h[p]=e[p];h.theme=(0,u.useContext)(Oe)}"string"===typeof e.className?a=function(e,t,n){var r="";return n.split(" ").forEach((function(n){void 0!==e[n]?t.push(e[n]+";"):r+=n+" "})),r}(t.registered,o,e.className):null!=e.className&&(a=e.className+" ");var v=Ee(d.concat(o),t.registered,h);a+=t.key+"-"+v.name,void 0!==i&&(a+=" "+i);var y=f&&void 0===c?Le(r):l,m={};for(var g in e)f&&"as"===g||y(g)&&(m[g]=e[g]);return m.className=a,m.ref=n,(0,u.createElement)(u.Fragment,null,(0,u.createElement)(Fe,{cache:t,serialized:v,isStringTag:"string"===typeof r}),(0,u.createElement)(r,m))}));return y.displayName=void 0!==r?r:"Styled("+("string"===typeof s?s:s.displayName||s.name||"Component")+")",y.defaultProps=t.defaultProps,y.__emotion_real=y,y.__emotion_base=s,y.__emotion_styles=d,y.__emotion_forwardProp=c,Object.defineProperty(y,"toString",{value:function(){return"."+i}}),y.withComponent=function(t,r){return e(t,(0,o.Z)({},n,r,{shouldForwardProp:Me(y,r,!0)})).apply(void 0,d)},y}},je=Ve.bind();["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"].forEach((function(e){je[e]=je(e)}));var Ue=je;var ze=function(e,t){Array.isArray(e.__emotion_styles)&&(e.__emotion_styles=t(e.__emotion_styles))},Be=n(5080),qe=n(7312),Ze=["variant"];function Ke(e){return 0===e.length}function We(e){var t=e.variant,n=(0,a.Z)(e,Ze),r=t||"";return Object.keys(n).sort().forEach((function(t){r+="color"===t?Ke(r)?e[t]:(0,qe.Z)(e[t]):"".concat(Ke(r)?t:(0,qe.Z)(t)).concat((0,qe.Z)(e[t].toString()))})),r}var Ge=n(104),He=["name","slot","skipVariantsResolver","skipSx","overridesResolver"],Qe=["theme"],$e=["theme"];function Ye(e){return 0===Object.keys(e).length}var Xe=function(e,t){return t.components&&t.components[e]&&t.components[e].styleOverrides?t.components[e].styleOverrides:null},Je=function(e,t){var n=[];t&&t.components&&t.components[e]&&t.components[e].variants&&(n=t.components[e].variants);var r={};return n.forEach((function(e){var t=We(e.props);r[t]=e.style})),r},et=function(e,t,n,r){var i,a,o=e.ownerState,u=void 0===o?{}:o,s=[],c=null==n||null==(i=n.components)||null==(a=i[r])?void 0:a.variants;return c&&c.forEach((function(n){var r=!0;Object.keys(n.props).forEach((function(t){u[t]!==n.props[t]&&e[t]!==n.props[t]&&(r=!1)})),r&&s.push(t[We(n.props)])})),s};function tt(e){return"ownerState"!==e&&"theme"!==e&&"sx"!==e&&"as"!==e}var nt=(0,Be.Z)();var rt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.defaultTheme,n=void 0===t?nt:t,u=e.rootShouldForwardProp,s=void 0===u?tt:u,c=e.slotShouldForwardProp,l=void 0===c?tt:c,f=function(e){var t=Ye(e.theme)?n:e.theme;return(0,Ge.Z)((0,o.Z)({},e,{theme:t}))};return f.__mui_systemSx=!0,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};ze(e,(function(e){return e.filter((function(e){return!(null!=e&&e.__mui_systemSx)}))}));var u=t.name,c=t.slot,h=t.skipVariantsResolver,d=t.skipSx,p=t.overridesResolver,v=(0,a.Z)(t,He),y=void 0!==h?h:c&&"Root"!==c||!1,m=d||!1;var g=tt;"Root"===c?g=s:c?g=l:function(e){return"string"===typeof e&&e.charCodeAt(0)>96}(e)&&(g=void 0);var k=function(e,t){return Ue(e,t)}(e,(0,o.Z)({shouldForwardProp:g,label:undefined},v)),b=function(e){for(var t=arguments.length,s=new Array(t>1?t-1:0),c=1;c<t;c++)s[c-1]=arguments[c];var l=s?s.map((function(e){return"function"===typeof e&&e.__emotion_real!==e?function(t){var r=t.theme,i=(0,a.Z)(t,Qe);return e((0,o.Z)({theme:Ye(r)?n:r},i))}:e})):[],h=e;u&&p&&l.push((function(e){var t=Ye(e.theme)?n:e.theme,r=Xe(u,t);if(r){var a={};return Object.entries(r).forEach((function(n){var r=(0,i.Z)(n,2),u=r[0],s=r[1];a[u]="function"===typeof s?s((0,o.Z)({},e,{theme:t})):s})),p(e,a)}return null})),u&&!y&&l.push((function(e){var t=Ye(e.theme)?n:e.theme;return et(e,Je(u,t),t,u)})),m||l.push(f);var d=l.length-s.length;if(Array.isArray(e)&&d>0){var v=new Array(d).fill("");(h=[].concat((0,r.Z)(e),(0,r.Z)(v))).raw=[].concat((0,r.Z)(e.raw),(0,r.Z)(v))}else"function"===typeof e&&e.__emotion_real!==e&&(h=function(t){var r=t.theme,i=(0,a.Z)(t,$e);return e((0,o.Z)({theme:Ye(r)?n:r},i))});return k.apply(void 0,[h].concat((0,r.Z)(l)))};return k.withConfig&&(b.withConfig=k.withConfig),b}}({defaultTheme:n(9330).Z,rootShouldForwardProp:function(e){return tt(e)&&"classes"!==e}}),it=rt},1388:function(e,t,n){"use strict";n.d(t,{Z:function(){return d}});var r=n(7462);function i(e,t){var n=(0,r.Z)({},t);return Object.keys(e).forEach((function(a){if(a.toString().match(/^(components|slots)$/))n[a]=(0,r.Z)({},e[a],n[a]);else if(a.toString().match(/^(componentsProps|slotProps)$/)){var o=e[a]||{},u=t[a];n[a]={},u&&Object.keys(u)?o&&Object.keys(o)?(n[a]=(0,r.Z)({},u),Object.keys(o).forEach((function(e){n[a][e]=i(o[e],u[e])}))):n[a]=u:n[a]=o}else void 0===n[a]&&(n[a]=e[a])})),n}function a(e){var t=e.theme,n=e.name,r=e.props;return t&&t.components&&t.components[n]&&t.components[n].defaultProps?i(t.components[n].defaultProps,r):r}var o=n(5080),u=n(2791);var s=u.createContext(null);var c=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=u.useContext(s);return n&&(e=n,0!==Object.keys(e).length)?n:t},l=(0,o.Z)();var f=function(){return c(arguments.length>0&&void 0!==arguments[0]?arguments[0]:l)};var h=n(9330);function d(e){return function(e){var t=e.props,n=e.name,r=e.defaultTheme;return a({theme:f(r),name:n,props:t})}({props:e.props,name:e.name,defaultTheme:h.Z})}},4036:function(e,t,n){"use strict";var r=n(7312);t.Z=r.Z},9201:function(e,t,n){"use strict";n.d(t,{Z:function(){return k}});var r=n(7462),i=n(2791),a=n(3366),o=n(8182),u=n(4419),s=n(4036),c=n(1388),l=n(1543),f=n(5878),h=n(1217);function d(e){return(0,h.Z)("MuiSvgIcon",e)}(0,f.Z)("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);var p=n(184),v=["children","className","color","component","fontSize","htmlColor","inheritViewBox","titleAccess","viewBox"],y=(0,l.ZP)("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,"inherit"!==n.color&&t["color".concat((0,s.Z)(n.color))],t["fontSize".concat((0,s.Z)(n.fontSize))]]}})((function(e){var t,n,r,i,a,o,u,s,c,l,f,h,d,p,v,y,m,g=e.theme,k=e.ownerState;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:"currentColor",flexShrink:0,transition:null==(t=g.transitions)||null==(n=t.create)?void 0:n.call(t,"fill",{duration:null==(r=g.transitions)||null==(i=r.duration)?void 0:i.shorter}),fontSize:{inherit:"inherit",small:(null==(a=g.typography)||null==(o=a.pxToRem)?void 0:o.call(a,20))||"1.25rem",medium:(null==(u=g.typography)||null==(s=u.pxToRem)?void 0:s.call(u,24))||"1.5rem",large:(null==(c=g.typography)||null==(l=c.pxToRem)?void 0:l.call(c,35))||"2.1875rem"}[k.fontSize],color:null!=(f=null==(h=(g.vars||g).palette)||null==(d=h[k.color])?void 0:d.main)?f:{action:null==(p=(g.vars||g).palette)||null==(v=p.action)?void 0:v.active,disabled:null==(y=(g.vars||g).palette)||null==(m=y.action)?void 0:m.disabled,inherit:void 0}[k.color]}})),m=i.forwardRef((function(e,t){var n=(0,c.Z)({props:e,name:"MuiSvgIcon"}),i=n.children,l=n.className,f=n.color,h=void 0===f?"inherit":f,m=n.component,g=void 0===m?"svg":m,k=n.fontSize,b=void 0===k?"medium":k,w=n.htmlColor,x=n.inheritViewBox,_=void 0!==x&&x,I=n.titleAccess,S=n.viewBox,E=void 0===S?"0 0 24 24":S,T=(0,a.Z)(n,v),C=(0,r.Z)({},n,{color:h,component:g,fontSize:b,instanceFontSize:e.fontSize,inheritViewBox:_,viewBox:E}),A={};_||(A.viewBox=E);var N=function(e){var t=e.color,n=e.fontSize,r=e.classes,i={root:["root","inherit"!==t&&"color".concat((0,s.Z)(t)),"fontSize".concat((0,s.Z)(n))]};return(0,u.Z)(i,d,r)}(C);return(0,p.jsxs)(y,(0,r.Z)({as:g,className:(0,o.Z)(N.root,l),focusable:"false",color:w,"aria-hidden":!I||void 0,role:I?"img":void 0,ref:t},A,T,{ownerState:C,children:[i,I?(0,p.jsx)("title",{children:I}):null]}))}));m.muiName="SvgIcon";var g=m;function k(e,t){function n(n,i){return(0,p.jsx)(g,(0,r.Z)({"data-testid":"".concat(t,"Icon"),ref:i},n,{children:e}))}return n.muiName=g.muiName,i.memo(i.forwardRef(n))}},2231:function(e,t,n){"use strict";n.r(t),n.d(t,{capitalize:function(){return i.Z},createChainedFunction:function(){return a},createSvgIcon:function(){return o.Z},debounce:function(){return u},deprecatedPropType:function(){return s},isMuiElement:function(){return f},ownerDocument:function(){return d},ownerWindow:function(){return p},requirePropFactory:function(){return v},setRef:function(){return m},unstable_ClassNameGenerator:function(){return F},unstable_useEnhancedEffect:function(){return k},unstable_useId:function(){return _},unsupportedProp:function(){return I},useControlled:function(){return S},useEventCallback:function(){return E},useForkRef:function(){return C},useIsFocusVisible:function(){return M}});var r=n(5902),i=n(4036);var a=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce((function(e,t){return null==t?e:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];e.apply(this,r),t.apply(this,r)}}),(function(){}))},o=n(9201);var u=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:166;function r(){for(var r=this,i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];clearTimeout(t),t=setTimeout((function(){e.apply(r,a)}),n)}return r.clear=function(){clearTimeout(t)},r};var s=function(e,t){return function(){return null}},c=n(2791),l=n.t(c,2);var f=function(e,t){return c.isValidElement(e)&&-1!==t.indexOf(e.type.muiName)};function h(e){return e&&e.ownerDocument||document}var d=h;var p=function(e){return h(e).defaultView||window};n(7462);var v=function(e,t){return function(){return null}};function y(e,t){"function"===typeof e?e(t):e&&(e.current=t)}var m=y,g="undefined"!==typeof window?c.useLayoutEffect:c.useEffect,k=g,b=n(9439),w=0;var x=l.useId;var _=function(e){if(void 0!==x){var t=x();return null!=e?e:t}return function(e){var t=c.useState(e),n=(0,b.Z)(t,2),r=n[0],i=n[1],a=e||r;return c.useEffect((function(){null==r&&i("mui-".concat(w+=1))}),[r]),a}(e)};var I=function(e,t,n,r,i){return null};var S=function(e){var t=e.controlled,n=e.default,r=(e.name,e.state,c.useRef(void 0!==t).current),i=c.useState(n),a=(0,b.Z)(i,2),o=a[0],u=a[1];return[r?t:o,c.useCallback((function(e){r||u(e)}),[])]};var E=function(e){var t=c.useRef(e);return g((function(){t.current=e})),c.useCallback((function(){return t.current.apply(void 0,arguments)}),[])};var T,C=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return c.useMemo((function(){return t.every((function(e){return null==e}))?null:function(e){t.forEach((function(t){y(t,e)}))}}),t)},A=!0,N=!1,O={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function D(e){e.metaKey||e.altKey||e.ctrlKey||(A=!0)}function P(){A=!1}function R(){"hidden"===this.visibilityState&&N&&(A=!0)}function L(e){var t=e.target;try{return t.matches(":focus-visible")}catch(n){}return A||function(e){var t=e.type,n=e.tagName;return!("INPUT"!==n||!O[t]||e.readOnly)||"TEXTAREA"===n&&!e.readOnly||!!e.isContentEditable}(t)}var M=function(){var e=c.useCallback((function(e){var t;null!=e&&((t=e.ownerDocument).addEventListener("keydown",D,!0),t.addEventListener("mousedown",P,!0),t.addEventListener("pointerdown",P,!0),t.addEventListener("touchstart",P,!0),t.addEventListener("visibilitychange",R,!0))}),[]),t=c.useRef(!1);return{isFocusVisibleRef:t,onFocus:function(e){return!!L(e)&&(t.current=!0,!0)},onBlur:function(){return!!t.current&&(N=!0,window.clearTimeout(T),T=window.setTimeout((function(){N=!1}),100),t.current=!1,!0)},ref:e}},F={configure:function(e){r.Z.configure(e)}}},1184:function(e,t,n){"use strict";n.d(t,{L7:function(){return u},VO:function(){return r},W8:function(){return o},k9:function(){return a}});var r={xs:0,sm:600,md:900,lg:1200,xl:1536},i={keys:["xs","sm","md","lg","xl"],up:function(e){return"@media (min-width:".concat(r[e],"px)")}};function a(e,t,n){var a=e.theme||{};if(Array.isArray(t)){var o=a.breakpoints||i;return t.reduce((function(e,r,i){return e[o.up(o.keys[i])]=n(t[i]),e}),{})}if("object"===typeof t){var u=a.breakpoints||i;return Object.keys(t).reduce((function(e,i){if(-1!==Object.keys(u.values||r).indexOf(i)){e[u.up(i)]=n(t[i],i)}else{var a=i;e[a]=t[a]}return e}),{})}return n(t)}function o(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(null==(e=t.keys)?void 0:e.reduce((function(e,n){return e[t.up(n)]={},e}),{}))||{}}function u(e,t){return e.reduce((function(e,t){var n=e[t];return(!n||0===Object.keys(n).length)&&delete e[t],e}),t)}},5080:function(e,t,n){"use strict";n.d(t,{Z:function(){return p}});var r=n(7462),i=n(3366),a=n(2466),o=n(4942),u=["values","unit","step"],s=function(e){var t=Object.keys(e).map((function(t){return{key:t,val:e[t]}}))||[];return t.sort((function(e,t){return e.val-t.val})),t.reduce((function(e,t){return(0,r.Z)({},e,(0,o.Z)({},t.key,t.val))}),{})};var c={borderRadius:4},l=n(5682);var f=n(104),h=n(7416),d=["breakpoints","palette","spacing","shape"];var p=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.breakpoints,n=void 0===t?{}:t,o=e.palette,p=void 0===o?{}:o,v=e.spacing,y=e.shape,m=void 0===y?{}:y,g=(0,i.Z)(e,d),k=function(e){var t=e.values,n=void 0===t?{xs:0,sm:600,md:900,lg:1200,xl:1536}:t,a=e.unit,o=void 0===a?"px":a,c=e.step,l=void 0===c?5:c,f=(0,i.Z)(e,u),h=s(n),d=Object.keys(h);function p(e){var t="number"===typeof n[e]?n[e]:e;return"@media (min-width:".concat(t).concat(o,")")}function v(e){var t="number"===typeof n[e]?n[e]:e;return"@media (max-width:".concat(t-l/100).concat(o,")")}function y(e,t){var r=d.indexOf(t);return"@media (min-width:".concat("number"===typeof n[e]?n[e]:e).concat(o,") and ")+"(max-width:".concat((-1!==r&&"number"===typeof n[d[r]]?n[d[r]]:t)-l/100).concat(o,")")}return(0,r.Z)({keys:d,values:h,up:p,down:v,between:y,only:function(e){return d.indexOf(e)+1<d.length?y(e,d[d.indexOf(e)+1]):p(e)},not:function(e){var t=d.indexOf(e);return 0===t?p(d[1]):t===d.length-1?v(d[t]):y(e,d[d.indexOf(e)+1]).replace("@media","@media not all and")},unit:o},f)}(n),b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8;if(e.mui)return e;var t=(0,l.hB)({spacing:e}),n=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return(0===n.length?[1]:n).map((function(e){var n=t(e);return"number"===typeof n?"".concat(n,"px"):n})).join(" ")};return n.mui=!0,n}(v),w=(0,a.Z)({breakpoints:k,direction:"ltr",components:{},palette:(0,r.Z)({mode:"light"},p),spacing:b,shape:(0,r.Z)({},c,m)},g),x=arguments.length,_=new Array(x>1?x-1:0),I=1;I<x;I++)_[I-1]=arguments[I];return(w=_.reduce((function(e,t){return(0,a.Z)(e,t)}),w)).unstable_sxConfig=(0,r.Z)({},h.Z,null==g?void 0:g.unstable_sxConfig),w.unstable_sx=function(e){return(0,f.Z)({sx:e,theme:this})},w}},8247:function(e,t,n){"use strict";var r=n(2466);t.Z=function(e,t){return t?(0,r.Z)(e,t,{clone:!1}):e}},5682:function(e,t,n){"use strict";n.d(t,{hB:function(){return v},eI:function(){return p},NA:function(){return y},e6:function(){return k},o3:function(){return b}});var r=n(9439),i=n(1184),a=n(8529),o=n(8247);var u={m:"margin",p:"padding"},s={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},c={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},l=function(e){var t={};return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}((function(e){if(e.length>2){if(!c[e])return[e];e=c[e]}var t=e.split(""),n=(0,r.Z)(t,2),i=n[0],a=n[1],o=u[i],l=s[a]||"";return Array.isArray(l)?l.map((function(e){return o+e})):[o+l]})),f=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],h=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"],d=[].concat(f,h);function p(e,t,n,r){var i,o=null!=(i=(0,a.DW)(e,t,!1))?i:n;return"number"===typeof o?function(e){return"string"===typeof e?e:o*e}:Array.isArray(o)?function(e){return"string"===typeof e?e:o[e]}:"function"===typeof o?o:function(){}}function v(e){return p(e,"spacing",8)}function y(e,t){if("string"===typeof t||null==t)return t;var n=e(Math.abs(t));return t>=0?n:"number"===typeof n?-n:"-".concat(n)}function m(e,t,n,r){if(-1===t.indexOf(n))return null;var a=function(e,t){return function(n){return e.reduce((function(e,r){return e[r]=y(t,n),e}),{})}}(l(n),r),o=e[n];return(0,i.k9)(e,o,a)}function g(e,t){var n=v(e.theme);return Object.keys(e).map((function(r){return m(e,t,r,n)})).reduce(o.Z,{})}function k(e){return g(e,f)}function b(e){return g(e,h)}function w(e){return g(e,d)}k.propTypes={},k.filterProps=f,b.propTypes={},b.filterProps=h,w.propTypes={},w.filterProps=d},8529:function(e,t,n){"use strict";n.d(t,{DW:function(){return o},Jq:function(){return u}});var r=n(4942),i=n(7312),a=n(1184);function o(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!t||"string"!==typeof t)return null;if(e&&e.vars&&n){var r="vars.".concat(t).split(".").reduce((function(e,t){return e&&e[t]?e[t]:null}),e);if(null!=r)return r}return t.split(".").reduce((function(e,t){return e&&null!=e[t]?e[t]:null}),e)}function u(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:n;return r="function"===typeof e?e(n):Array.isArray(e)?e[n]||i:o(e,n)||i,t&&(r=t(r,i,e)),r}t.ZP=function(e){var t=e.prop,n=e.cssProperty,s=void 0===n?e.prop:n,c=e.themeKey,l=e.transform,f=function(e){if(null==e[t])return null;var n=e[t],f=o(e.theme,c)||{};return(0,a.k9)(e,n,(function(e){var n=u(f,l,e);return e===n&&"string"===typeof e&&(n=u(f,l,"".concat(t).concat("default"===e?"":(0,i.Z)(e)),e)),!1===s?n:(0,r.Z)({},s,n)}))};return f.propTypes={},f.filterProps=[t],f}},7416:function(e,t,n){"use strict";n.d(t,{Z:function(){return O}});var r=n(5682),i=n(8529),a=n(8247);var o=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.reduce((function(e,t){return t.filterProps.forEach((function(n){e[n]=t})),e}),{}),i=function(e){return Object.keys(e).reduce((function(t,n){return r[n]?(0,a.Z)(t,r[n](e)):t}),{})};return i.propTypes={},i.filterProps=t.reduce((function(e,t){return e.concat(t.filterProps)}),[]),i},u=n(1184);function s(e){return"number"!==typeof e?e:"".concat(e,"px solid")}var c=(0,i.ZP)({prop:"border",themeKey:"borders",transform:s}),l=(0,i.ZP)({prop:"borderTop",themeKey:"borders",transform:s}),f=(0,i.ZP)({prop:"borderRight",themeKey:"borders",transform:s}),h=(0,i.ZP)({prop:"borderBottom",themeKey:"borders",transform:s}),d=(0,i.ZP)({prop:"borderLeft",themeKey:"borders",transform:s}),p=(0,i.ZP)({prop:"borderColor",themeKey:"palette"}),v=(0,i.ZP)({prop:"borderTopColor",themeKey:"palette"}),y=(0,i.ZP)({prop:"borderRightColor",themeKey:"palette"}),m=(0,i.ZP)({prop:"borderBottomColor",themeKey:"palette"}),g=(0,i.ZP)({prop:"borderLeftColor",themeKey:"palette"}),k=function(e){if(void 0!==e.borderRadius&&null!==e.borderRadius){var t=(0,r.eI)(e.theme,"shape.borderRadius",4,"borderRadius");return(0,u.k9)(e,e.borderRadius,(function(e){return{borderRadius:(0,r.NA)(t,e)}}))}return null};k.propTypes={},k.filterProps=["borderRadius"];o(c,l,f,h,d,p,v,y,m,g,k);var b=function(e){if(void 0!==e.gap&&null!==e.gap){var t=(0,r.eI)(e.theme,"spacing",8,"gap");return(0,u.k9)(e,e.gap,(function(e){return{gap:(0,r.NA)(t,e)}}))}return null};b.propTypes={},b.filterProps=["gap"];var w=function(e){if(void 0!==e.columnGap&&null!==e.columnGap){var t=(0,r.eI)(e.theme,"spacing",8,"columnGap");return(0,u.k9)(e,e.columnGap,(function(e){return{columnGap:(0,r.NA)(t,e)}}))}return null};w.propTypes={},w.filterProps=["columnGap"];var x=function(e){if(void 0!==e.rowGap&&null!==e.rowGap){var t=(0,r.eI)(e.theme,"spacing",8,"rowGap");return(0,u.k9)(e,e.rowGap,(function(e){return{rowGap:(0,r.NA)(t,e)}}))}return null};x.propTypes={},x.filterProps=["rowGap"];o(b,w,x,(0,i.ZP)({prop:"gridColumn"}),(0,i.ZP)({prop:"gridRow"}),(0,i.ZP)({prop:"gridAutoFlow"}),(0,i.ZP)({prop:"gridAutoColumns"}),(0,i.ZP)({prop:"gridAutoRows"}),(0,i.ZP)({prop:"gridTemplateColumns"}),(0,i.ZP)({prop:"gridTemplateRows"}),(0,i.ZP)({prop:"gridTemplateAreas"}),(0,i.ZP)({prop:"gridArea"}));function _(e,t){return"grey"===t?t:e}o((0,i.ZP)({prop:"color",themeKey:"palette",transform:_}),(0,i.ZP)({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:_}),(0,i.ZP)({prop:"backgroundColor",themeKey:"palette",transform:_}));function I(e){return e<=1&&0!==e?"".concat(100*e,"%"):e}var S=(0,i.ZP)({prop:"width",transform:I}),E=function(e){if(void 0!==e.maxWidth&&null!==e.maxWidth){return(0,u.k9)(e,e.maxWidth,(function(t){var n,r,i;return{maxWidth:(null==(n=e.theme)||null==(r=n.breakpoints)||null==(i=r.values)?void 0:i[t])||u.VO[t]||I(t)}}))}return null};E.filterProps=["maxWidth"];var T=(0,i.ZP)({prop:"minWidth",transform:I}),C=(0,i.ZP)({prop:"height",transform:I}),A=(0,i.ZP)({prop:"maxHeight",transform:I}),N=(0,i.ZP)({prop:"minHeight",transform:I}),O=((0,i.ZP)({prop:"size",cssProperty:"width",transform:I}),(0,i.ZP)({prop:"size",cssProperty:"height",transform:I}),o(S,E,T,C,A,N,(0,i.ZP)({prop:"boxSizing"})),{border:{themeKey:"borders",transform:s},borderTop:{themeKey:"borders",transform:s},borderRight:{themeKey:"borders",transform:s},borderBottom:{themeKey:"borders",transform:s},borderLeft:{themeKey:"borders",transform:s},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:k},color:{themeKey:"palette",transform:_},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:_},backgroundColor:{themeKey:"palette",transform:_},p:{style:r.o3},pt:{style:r.o3},pr:{style:r.o3},pb:{style:r.o3},pl:{style:r.o3},px:{style:r.o3},py:{style:r.o3},padding:{style:r.o3},paddingTop:{style:r.o3},paddingRight:{style:r.o3},paddingBottom:{style:r.o3},paddingLeft:{style:r.o3},paddingX:{style:r.o3},paddingY:{style:r.o3},paddingInline:{style:r.o3},paddingInlineStart:{style:r.o3},paddingInlineEnd:{style:r.o3},paddingBlock:{style:r.o3},paddingBlockStart:{style:r.o3},paddingBlockEnd:{style:r.o3},m:{style:r.e6},mt:{style:r.e6},mr:{style:r.e6},mb:{style:r.e6},ml:{style:r.e6},mx:{style:r.e6},my:{style:r.e6},margin:{style:r.e6},marginTop:{style:r.e6},marginRight:{style:r.e6},marginBottom:{style:r.e6},marginLeft:{style:r.e6},marginX:{style:r.e6},marginY:{style:r.e6},marginInline:{style:r.e6},marginInlineStart:{style:r.e6},marginInlineEnd:{style:r.e6},marginBlock:{style:r.e6},marginBlockStart:{style:r.e6},marginBlockEnd:{style:r.e6},displayPrint:{cssProperty:!1,transform:function(e){return{"@media print":{display:e}}}},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:b},rowGap:{style:x},columnGap:{style:w},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:I},maxWidth:{style:E},minWidth:{transform:I},height:{transform:I},maxHeight:{transform:I},minHeight:{transform:I},boxSizing:{},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}})},104:function(e,t,n){"use strict";var r=n(4942),i=n(7312),a=n(8247),o=n(8529),u=n(1184),s=n(7416);var c=function(){function e(e,t,n,a){var s,c=(s={},(0,r.Z)(s,e,t),(0,r.Z)(s,"theme",n),s),l=a[e];if(!l)return(0,r.Z)({},e,t);var f=l.cssProperty,h=void 0===f?e:f,d=l.themeKey,p=l.transform,v=l.style;if(null==t)return null;var y=(0,o.DW)(n,d)||{};if(v)return v(c);return(0,u.k9)(c,t,(function(t){var n=(0,o.Jq)(y,p,t);return t===n&&"string"===typeof t&&(n=(0,o.Jq)(y,p,"".concat(e).concat("default"===t?"":(0,i.Z)(t)),t)),!1===h?n:(0,r.Z)({},h,n)}))}return function t(n){var i,o=n||{},c=o.sx,l=o.theme,f=void 0===l?{}:l;if(!c)return null;var h=null!=(i=f.unstable_sxConfig)?i:s.Z;function d(n){var i=n;if("function"===typeof n)i=n(f);else if("object"!==typeof n)return n;if(!i)return null;var o=(0,u.W8)(f.breakpoints),s=Object.keys(o),c=o;return Object.keys(i).forEach((function(n){var o,s,l=(o=i[n],s=f,"function"===typeof o?o(s):o);if(null!==l&&void 0!==l)if("object"===typeof l)if(h[n])c=(0,a.Z)(c,e(n,l,f,h));else{var d=(0,u.k9)({theme:f},l,(function(e){return(0,r.Z)({},n,e)}));!function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.reduce((function(e,t){return e.concat(Object.keys(t))}),[]),i=new Set(r);return t.every((function(e){return i.size===Object.keys(e).length}))}(d,l)?c=(0,a.Z)(c,d):c[n]=t({sx:l,theme:f})}else c=(0,a.Z)(c,e(n,l,f,h))})),(0,u.L7)(s,c)}return Array.isArray(c)?c.map(d):d(c)}}();c.filterProps=["sx"],t.Z=c},5902:function(e,t){"use strict";var n=function(e){return e},r=function(){var e=n;return{configure:function(t){e=t},generate:function(t){return e(t)},reset:function(){e=n}}}();t.Z=r},7312:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(6189);function i(e){if("string"!==typeof e)throw new Error((0,r.Z)(7));return e.charAt(0).toUpperCase()+e.slice(1)}},4419:function(e,t,n){"use strict";function r(e,t,n){var r={};return Object.keys(e).forEach((function(i){r[i]=e[i].reduce((function(e,r){return r&&(e.push(t(r)),n&&n[r]&&e.push(n[r])),e}),[]).join(" ")})),r}n.d(t,{Z:function(){return r}})},2466:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(7462);function i(e){return null!==e&&"object"===typeof e&&e.constructor===Object}function a(e){if(!i(e))return e;var t={};return Object.keys(e).forEach((function(n){t[n]=a(e[n])})),t}function o(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{clone:!0},u=n.clone?(0,r.Z)({},e):e;return i(e)&&i(t)&&Object.keys(t).forEach((function(r){"__proto__"!==r&&(i(t[r])&&r in e&&i(e[r])?u[r]=o(e[r],t[r],n):n.clone?u[r]=i(t[r])?a(t[r]):t[r]:u[r]=t[r])})),u}},6189:function(e,t,n){"use strict";function r(e){for(var t="https://mui.com/production-error/?code="+e,n=1;n<arguments.length;n+=1)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified MUI error #"+e+"; visit "+t+" for the full message."}n.d(t,{Z:function(){return r}})},1217:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(5902),i={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",required:"required",selected:"selected"};function a(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Mui",a=i[t];return a?"".concat(n,"-").concat(a):"".concat(r.Z.generate(e),"-").concat(t)}},5878:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(1217);function i(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Mui",i={};return t.forEach((function(t){i[t]=(0,r.Z)(e,t,n)})),i}},8182:function(e,t,n){"use strict";function r(e){var t,n,i="";if("string"==typeof e||"number"==typeof e)i+=e;else if("object"==typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=r(e[t]))&&(i&&(i+=" "),i+=n);else for(t in e)e[t]&&(i&&(i+=" "),i+=t);return i}t.Z=function(){for(var e,t,n=0,i="";n<arguments.length;)(e=arguments[n++])&&(t=r(e))&&(i&&(i+=" "),i+=t);return i}},2110:function(e,t,n){"use strict";var r=n(8309),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},a={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},o={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},u={};function s(e){return r.isMemo(e)?o:u[e.$$typeof]||i}u[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},u[r.Memo]=o;var c=Object.defineProperty,l=Object.getOwnPropertyNames,f=Object.getOwnPropertySymbols,h=Object.getOwnPropertyDescriptor,d=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(p){var i=d(n);i&&i!==p&&e(t,i,r)}var o=l(n);f&&(o=o.concat(f(n)));for(var u=s(t),v=s(n),y=0;y<o.length;++y){var m=o[y];if(!a[m]&&(!r||!r[m])&&(!v||!v[m])&&(!u||!u[m])){var g=h(n,m);try{c(t,m,g)}catch(k){}}}}return t}},746:function(e,t){"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,a=n?Symbol.for("react.fragment"):60107,o=n?Symbol.for("react.strict_mode"):60108,u=n?Symbol.for("react.profiler"):60114,s=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,l=n?Symbol.for("react.async_mode"):60111,f=n?Symbol.for("react.concurrent_mode"):60111,h=n?Symbol.for("react.forward_ref"):60112,d=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,v=n?Symbol.for("react.memo"):60115,y=n?Symbol.for("react.lazy"):60116,m=n?Symbol.for("react.block"):60121,g=n?Symbol.for("react.fundamental"):60117,k=n?Symbol.for("react.responder"):60118,b=n?Symbol.for("react.scope"):60119;function w(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case l:case f:case a:case u:case o:case d:return e;default:switch(e=e&&e.$$typeof){case c:case h:case y:case v:case s:return e;default:return t}}case i:return t}}}function x(e){return w(e)===f}t.AsyncMode=l,t.ConcurrentMode=f,t.ContextConsumer=c,t.ContextProvider=s,t.Element=r,t.ForwardRef=h,t.Fragment=a,t.Lazy=y,t.Memo=v,t.Portal=i,t.Profiler=u,t.StrictMode=o,t.Suspense=d,t.isAsyncMode=function(e){return x(e)||w(e)===l},t.isConcurrentMode=x,t.isContextConsumer=function(e){return w(e)===c},t.isContextProvider=function(e){return w(e)===s},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return w(e)===h},t.isFragment=function(e){return w(e)===a},t.isLazy=function(e){return w(e)===y},t.isMemo=function(e){return w(e)===v},t.isPortal=function(e){return w(e)===i},t.isProfiler=function(e){return w(e)===u},t.isStrictMode=function(e){return w(e)===o},t.isSuspense=function(e){return w(e)===d},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===a||e===f||e===u||e===o||e===d||e===p||"object"===typeof e&&null!==e&&(e.$$typeof===y||e.$$typeof===v||e.$$typeof===s||e.$$typeof===c||e.$$typeof===h||e.$$typeof===g||e.$$typeof===k||e.$$typeof===b||e.$$typeof===m)},t.typeOf=w},8309:function(e,t,n){"use strict";e.exports=n(746)},4463:function(e,t,n){"use strict";var r=n(2791),i=n(5296);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,u={};function s(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(u[e]=t,e=0;e<t.length;e++)o.add(t[e])}var l=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),f=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d={},p={};function v(e,t,n,r,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var y={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){y[e]=new v(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];y[t]=new v(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){y[e]=new v(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){y[e]=new v(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){y[e]=new v(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){y[e]=new v(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){y[e]=new v(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){y[e]=new v(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){y[e]=new v(e,5,!1,e.toLowerCase(),null,!1,!1)}));var m=/[\-:]([a-z])/g;function g(e){return e[1].toUpperCase()}function k(e,t,n,r){var i=y.hasOwnProperty(t)?y[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!f.call(p,e)||!f.call(d,e)&&(h.test(e)?p[e]=!0:(d[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(m,g);y[t]=new v(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(m,g);y[t]=new v(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(m,g);y[t]=new v(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){y[e]=new v(e,1,!1,e.toLowerCase(),null,!1,!1)})),y.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){y[e]=new v(e,1,!1,e.toLowerCase(),null,!0,!0)}));var b=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),x=Symbol.for("react.portal"),_=Symbol.for("react.fragment"),I=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),E=Symbol.for("react.provider"),T=Symbol.for("react.context"),C=Symbol.for("react.forward_ref"),A=Symbol.for("react.suspense"),N=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),D=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var P=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var R=Symbol.iterator;function L(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=R&&e[R]||e["@@iterator"])?e:null}var M,F=Object.assign;function V(e){if(void 0===M)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);M=t&&t[1]||""}return"\n"+M+e}var j=!1;function U(e,t){if(!e||j)return"";j=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var i=c.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,u=a.length-1;1<=o&&0<=u&&i[o]!==a[u];)u--;for(;1<=o&&0<=u;o--,u--)if(i[o]!==a[u]){if(1!==o||1!==u)do{if(o--,0>--u||i[o]!==a[u]){var s="\n"+i[o].replace(" at new "," at ");return e.displayName&&s.includes("<anonymous>")&&(s=s.replace("<anonymous>",e.displayName)),s}}while(1<=o&&0<=u);break}}}finally{j=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?V(e):""}function z(e){switch(e.tag){case 5:return V(e.type);case 16:return V("Lazy");case 13:return V("Suspense");case 19:return V("SuspenseList");case 0:case 2:case 15:return e=U(e.type,!1);case 11:return e=U(e.type.render,!1);case 1:return e=U(e.type,!0);default:return""}}function B(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case _:return"Fragment";case x:return"Portal";case S:return"Profiler";case I:return"StrictMode";case A:return"Suspense";case N:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case T:return(e.displayName||"Context")+".Consumer";case E:return(e._context.displayName||"Context")+".Provider";case C:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case O:return null!==(t=e.displayName||null)?t:B(e.type)||"Memo";case D:t=e._payload,e=e._init;try{return B(e(t))}catch(n){}}return null}function q(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return B(t);case 8:return t===I?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function Z(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function K(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function W(e){e._valueTracker||(e._valueTracker=function(e){var t=K(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function G(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=K(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function H(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Q(e,t){var n=t.checked;return F({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function $(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=Z(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Y(e,t){null!=(t=t.checked)&&k(e,"checked",t,!1)}function X(e,t){Y(e,t);var n=Z(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,Z(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function J(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&H(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Z(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return F({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(te(n)){if(1<n.length)throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:Z(n)}}function ae(e,t){var n=Z(t.value),r=Z(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ue(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function se(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ue(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,le,fe=(le=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return le(e,t)}))}:le);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var de={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function ve(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||de.hasOwnProperty(e)&&de[e]?(""+t).trim():t+"px"}function ye(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=ve(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(de).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),de[t]=de[e]}))}));var me=F({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ge(e,t){if(t){if(me[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62))}}function ke(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var be=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var xe=null,_e=null,Ie=null;function Se(e){if(e=ki(e)){if("function"!==typeof xe)throw Error(a(280));var t=e.stateNode;t&&(t=wi(t),xe(e.stateNode,e.type,t))}}function Ee(e){_e?Ie?Ie.push(e):Ie=[e]:_e=e}function Te(){if(_e){var e=_e,t=Ie;if(Ie=_e=null,Se(e),t)for(e=0;e<t.length;e++)Se(t[e])}}function Ce(e,t){return e(t)}function Ae(){}var Ne=!1;function Oe(e,t,n){if(Ne)return e(t,n);Ne=!0;try{return Ce(e,t,n)}finally{Ne=!1,(null!==_e||null!==Ie)&&(Ae(),Te())}}function De(e,t){var n=e.stateNode;if(null===n)return null;var r=wi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var Pe=!1;if(l)try{var Re={};Object.defineProperty(Re,"passive",{get:function(){Pe=!0}}),window.addEventListener("test",Re,Re),window.removeEventListener("test",Re,Re)}catch(le){Pe=!1}function Le(e,t,n,r,i,a,o,u,s){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(l){this.onError(l)}}var Me=!1,Fe=null,Ve=!1,je=null,Ue={onError:function(e){Me=!0,Fe=e}};function ze(e,t,n,r,i,a,o,u,s){Me=!1,Fe=null,Le.apply(Ue,arguments)}function Be(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function qe(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Ze(e){if(Be(e)!==e)throw Error(a(188))}function Ke(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Be(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return Ze(i),e;if(o===r)return Ze(i),t;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var u=!1,s=i.child;s;){if(s===n){u=!0,n=i,r=o;break}if(s===r){u=!0,r=i,n=o;break}s=s.sibling}if(!u){for(s=o.child;s;){if(s===n){u=!0,n=o,r=i;break}if(s===r){u=!0,r=o,n=i;break}s=s.sibling}if(!u)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e))?We(e):null}function We(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=We(e);if(null!==t)return t;e=e.sibling}return null}var Ge=i.unstable_scheduleCallback,He=i.unstable_cancelCallback,Qe=i.unstable_shouldYield,$e=i.unstable_requestPaint,Ye=i.unstable_now,Xe=i.unstable_getCurrentPriorityLevel,Je=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,at=null;var ot=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(ut(e)/st|0)|0},ut=Math.log,st=Math.LN2;var ct=64,lt=4194304;function ft(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,o=268435455&n;if(0!==o){var u=o&~i;0!==u?r=ft(u):0!==(a&=o)&&(r=ft(a))}else 0!==(o=n&~i)?r=ft(o):0!==a&&(r=ft(a));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(a=t&-t)||16===i&&0!==(4194240&a)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-ot(t)),r|=e[n],t&=~i;return r}function dt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function vt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function yt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function mt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ot(t)]=n}function gt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ot(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var kt=0;function bt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var wt,xt,_t,It,St,Et=!1,Tt=[],Ct=null,At=null,Nt=null,Ot=new Map,Dt=new Map,Pt=[],Rt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Lt(e,t){switch(e){case"focusin":case"focusout":Ct=null;break;case"dragenter":case"dragleave":At=null;break;case"mouseover":case"mouseout":Nt=null;break;case"pointerover":case"pointerout":Ot.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Dt.delete(t.pointerId)}}function Mt(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},null!==t&&(null!==(t=ki(t))&&xt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Ft(e){var t=gi(e.target);if(null!==t){var n=Be(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=qe(n)))return e.blockedOn=t,void St(e.priority,(function(){_t(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Vt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Qt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=ki(n))&&xt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);be=r,n.target.dispatchEvent(r),be=null,t.shift()}return!0}function jt(e,t,n){Vt(e)&&n.delete(t)}function Ut(){Et=!1,null!==Ct&&Vt(Ct)&&(Ct=null),null!==At&&Vt(At)&&(At=null),null!==Nt&&Vt(Nt)&&(Nt=null),Ot.forEach(jt),Dt.forEach(jt)}function zt(e,t){e.blockedOn===t&&(e.blockedOn=null,Et||(Et=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Ut)))}function Bt(e){function t(t){return zt(t,e)}if(0<Tt.length){zt(Tt[0],e);for(var n=1;n<Tt.length;n++){var r=Tt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Ct&&zt(Ct,e),null!==At&&zt(At,e),null!==Nt&&zt(Nt,e),Ot.forEach(t),Dt.forEach(t),n=0;n<Pt.length;n++)(r=Pt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Pt.length&&null===(n=Pt[0]).blockedOn;)Ft(n),null===n.blockedOn&&Pt.shift()}var qt=b.ReactCurrentBatchConfig,Zt=!0;function Kt(e,t,n,r){var i=kt,a=qt.transition;qt.transition=null;try{kt=1,Gt(e,t,n,r)}finally{kt=i,qt.transition=a}}function Wt(e,t,n,r){var i=kt,a=qt.transition;qt.transition=null;try{kt=4,Gt(e,t,n,r)}finally{kt=i,qt.transition=a}}function Gt(e,t,n,r){if(Zt){var i=Qt(e,t,n,r);if(null===i)Zr(e,t,r,Ht,n),Lt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Ct=Mt(Ct,e,t,n,r,i),!0;case"dragenter":return At=Mt(At,e,t,n,r,i),!0;case"mouseover":return Nt=Mt(Nt,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return Ot.set(a,Mt(Ot.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,Dt.set(a,Mt(Dt.get(a)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Lt(e,r),4&t&&-1<Rt.indexOf(e)){for(;null!==i;){var a=ki(i);if(null!==a&&wt(a),null===(a=Qt(e,t,n,r))&&Zr(e,t,r,Ht,n),a===i)break;i=a}null!==i&&r.stopPropagation()}else Zr(e,t,r,null,n)}}var Ht=null;function Qt(e,t,n,r){if(Ht=null,null!==(e=gi(e=we(r))))if(null===(t=Be(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=qe(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Ht=e,null}function $t(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Xe()){case Je:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Yt=null,Xt=null,Jt=null;function en(){if(Jt)return Jt;var e,t,n=Xt,r=n.length,i="value"in Yt?Yt.value:Yt.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return Jt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function an(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return F(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var on,un,sn,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ln=an(cn),fn=F({},cn,{view:0,detail:0}),hn=an(fn),dn=F({},fn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Sn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==sn&&(sn&&"mousemove"===e.type?(on=e.screenX-sn.screenX,un=e.screenY-sn.screenY):un=on=0,sn=e),on)},movementY:function(e){return"movementY"in e?e.movementY:un}}),pn=an(dn),vn=an(F({},dn,{dataTransfer:0})),yn=an(F({},fn,{relatedTarget:0})),mn=an(F({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),gn=F({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),kn=an(gn),bn=an(F({},cn,{data:0})),wn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_n={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function In(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=_n[e])&&!!t[e]}function Sn(){return In}var En=F({},fn,{key:function(e){if(e.key){var t=wn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?xn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Sn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Tn=an(En),Cn=an(F({},dn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),An=an(F({},fn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Sn})),Nn=an(F({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),On=F({},dn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Dn=an(On),Pn=[9,13,27,32],Rn=l&&"CompositionEvent"in window,Ln=null;l&&"documentMode"in document&&(Ln=document.documentMode);var Mn=l&&"TextEvent"in window&&!Ln,Fn=l&&(!Rn||Ln&&8<Ln&&11>=Ln),Vn=String.fromCharCode(32),jn=!1;function Un(e,t){switch(e){case"keyup":return-1!==Pn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Bn=!1;var qn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Zn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!qn[e.type]:"textarea"===t}function Kn(e,t,n,r){Ee(r),0<(t=Wr(t,"onChange")).length&&(n=new ln("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Wn=null,Gn=null;function Hn(e){Vr(e,0)}function Qn(e){if(G(bi(e)))return e}function $n(e,t){if("change"===e)return t}var Yn=!1;if(l){var Xn;if(l){var Jn="oninput"in document;if(!Jn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Jn="function"===typeof er.oninput}Xn=Jn}else Xn=!1;Yn=Xn&&(!document.documentMode||9<document.documentMode)}function tr(){Wn&&(Wn.detachEvent("onpropertychange",nr),Gn=Wn=null)}function nr(e){if("value"===e.propertyName&&Qn(Gn)){var t=[];Kn(t,Gn,e,we(e)),Oe(Hn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Gn=n,(Wn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Qn(Gn)}function ar(e,t){if("click"===e)return Qn(t)}function or(e,t){if("input"===e||"change"===e)return Qn(t)}var ur="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function sr(e,t){if(ur(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!f.call(t,i)||!ur(e[i],t[i]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function lr(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function fr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?fr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hr(){for(var e=window,t=H();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=H((e=t.contentWindow).document)}return t}function dr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=hr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&fr(n.ownerDocument.documentElement,n)){if(null!==r&&dr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=void 0===r.end?a:Math.min(r.end,i),!e.extend&&a>r&&(i=r,r=a,a=i),i=lr(n,a);var o=lr(n,r);i&&o&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var vr=l&&"documentMode"in document&&11>=document.documentMode,yr=null,mr=null,gr=null,kr=!1;function br(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;kr||null==yr||yr!==H(r)||("selectionStart"in(r=yr)&&dr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},gr&&sr(gr,r)||(gr=r,0<(r=Wr(mr,"onSelect")).length&&(t=new ln("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=yr)))}function wr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var xr={animationend:wr("Animation","AnimationEnd"),animationiteration:wr("Animation","AnimationIteration"),animationstart:wr("Animation","AnimationStart"),transitionend:wr("Transition","TransitionEnd")},_r={},Ir={};function Sr(e){if(_r[e])return _r[e];if(!xr[e])return e;var t,n=xr[e];for(t in n)if(n.hasOwnProperty(t)&&t in Ir)return _r[e]=n[t];return e}l&&(Ir=document.createElement("div").style,"AnimationEvent"in window||(delete xr.animationend.animation,delete xr.animationiteration.animation,delete xr.animationstart.animation),"TransitionEvent"in window||delete xr.transitionend.transition);var Er=Sr("animationend"),Tr=Sr("animationiteration"),Cr=Sr("animationstart"),Ar=Sr("transitionend"),Nr=new Map,Or="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Dr(e,t){Nr.set(e,t),s(t,[e])}for(var Pr=0;Pr<Or.length;Pr++){var Rr=Or[Pr];Dr(Rr.toLowerCase(),"on"+(Rr[0].toUpperCase()+Rr.slice(1)))}Dr(Er,"onAnimationEnd"),Dr(Tr,"onAnimationIteration"),Dr(Cr,"onAnimationStart"),Dr("dblclick","onDoubleClick"),Dr("focusin","onFocus"),Dr("focusout","onBlur"),Dr(Ar,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Lr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Mr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Lr));function Fr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,u,s,c){if(ze.apply(this,arguments),Me){if(!Me)throw Error(a(198));var l=Fe;Me=!1,Fe=null,Ve||(Ve=!0,je=l)}}(r,t,void 0,e),e.currentTarget=null}function Vr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var u=r[o],s=u.instance,c=u.currentTarget;if(u=u.listener,s!==a&&i.isPropagationStopped())break e;Fr(i,u,c),a=s}else for(o=0;o<r.length;o++){if(s=(u=r[o]).instance,c=u.currentTarget,u=u.listener,s!==a&&i.isPropagationStopped())break e;Fr(i,u,c),a=s}}}if(Ve)throw e=je,Ve=!1,je=null,e}function jr(e,t){var n=t[vi];void 0===n&&(n=t[vi]=new Set);var r=e+"__bubble";n.has(r)||(qr(t,e,2,!1),n.add(r))}function Ur(e,t,n){var r=0;t&&(r|=4),qr(n,e,r,t)}var zr="_reactListening"+Math.random().toString(36).slice(2);function Br(e){if(!e[zr]){e[zr]=!0,o.forEach((function(t){"selectionchange"!==t&&(Mr.has(t)||Ur(t,!1,e),Ur(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[zr]||(t[zr]=!0,Ur("selectionchange",!1,t))}}function qr(e,t,n,r){switch($t(t)){case 1:var i=Kt;break;case 4:i=Wt;break;default:i=Gt}n=i.bind(null,t,n,e),i=void 0,!Pe||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Zr(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var u=r.stateNode.containerInfo;if(u===i||8===u.nodeType&&u.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var s=o.tag;if((3===s||4===s)&&((s=o.stateNode.containerInfo)===i||8===s.nodeType&&s.parentNode===i))return;o=o.return}for(;null!==u;){if(null===(o=gi(u)))return;if(5===(s=o.tag)||6===s){r=a=o;continue e}u=u.parentNode}}r=r.return}Oe((function(){var r=a,i=we(n),o=[];e:{var u=Nr.get(e);if(void 0!==u){var s=ln,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":s=Tn;break;case"focusin":c="focus",s=yn;break;case"focusout":c="blur",s=yn;break;case"beforeblur":case"afterblur":s=yn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":s=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":s=vn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":s=An;break;case Er:case Tr:case Cr:s=mn;break;case Ar:s=Nn;break;case"scroll":s=hn;break;case"wheel":s=Dn;break;case"copy":case"cut":case"paste":s=kn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":s=Cn}var l=0!==(4&t),f=!l&&"scroll"===e,h=l?null!==u?u+"Capture":null:u;l=[];for(var d,p=r;null!==p;){var v=(d=p).stateNode;if(5===d.tag&&null!==v&&(d=v,null!==h&&(null!=(v=De(p,h))&&l.push(Kr(p,v,d)))),f)break;p=p.return}0<l.length&&(u=new s(u,c,null,n,i),o.push({event:u,listeners:l}))}}if(0===(7&t)){if(s="mouseout"===e||"pointerout"===e,(!(u="mouseover"===e||"pointerover"===e)||n===be||!(c=n.relatedTarget||n.fromElement)||!gi(c)&&!c[pi])&&(s||u)&&(u=i.window===i?i:(u=i.ownerDocument)?u.defaultView||u.parentWindow:window,s?(s=r,null!==(c=(c=n.relatedTarget||n.toElement)?gi(c):null)&&(c!==(f=Be(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(s=null,c=r),s!==c)){if(l=pn,v="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(l=Cn,v="onPointerLeave",h="onPointerEnter",p="pointer"),f=null==s?u:bi(s),d=null==c?u:bi(c),(u=new l(v,p+"leave",s,n,i)).target=f,u.relatedTarget=d,v=null,gi(i)===r&&((l=new l(h,p+"enter",c,n,i)).target=d,l.relatedTarget=f,v=l),f=v,s&&c)e:{for(h=c,p=0,d=l=s;d;d=Gr(d))p++;for(d=0,v=h;v;v=Gr(v))d++;for(;0<p-d;)l=Gr(l),p--;for(;0<d-p;)h=Gr(h),d--;for(;p--;){if(l===h||null!==h&&l===h.alternate)break e;l=Gr(l),h=Gr(h)}l=null}else l=null;null!==s&&Hr(o,u,s,l,!1),null!==c&&null!==f&&Hr(o,f,c,l,!0)}if("select"===(s=(u=r?bi(r):window).nodeName&&u.nodeName.toLowerCase())||"input"===s&&"file"===u.type)var y=$n;else if(Zn(u))if(Yn)y=or;else{y=ir;var m=rr}else(s=u.nodeName)&&"input"===s.toLowerCase()&&("checkbox"===u.type||"radio"===u.type)&&(y=ar);switch(y&&(y=y(e,r))?Kn(o,y,n,i):(m&&m(e,u,r),"focusout"===e&&(m=u._wrapperState)&&m.controlled&&"number"===u.type&&ee(u,"number",u.value)),m=r?bi(r):window,e){case"focusin":(Zn(m)||"true"===m.contentEditable)&&(yr=m,mr=r,gr=null);break;case"focusout":gr=mr=yr=null;break;case"mousedown":kr=!0;break;case"contextmenu":case"mouseup":case"dragend":kr=!1,br(o,n,i);break;case"selectionchange":if(vr)break;case"keydown":case"keyup":br(o,n,i)}var g;if(Rn)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else Bn?Un(e,n)&&(k="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(k="onCompositionStart");k&&(Fn&&"ko"!==n.locale&&(Bn||"onCompositionStart"!==k?"onCompositionEnd"===k&&Bn&&(g=en()):(Xt="value"in(Yt=i)?Yt.value:Yt.textContent,Bn=!0)),0<(m=Wr(r,k)).length&&(k=new bn(k,e,null,n,i),o.push({event:k,listeners:m}),g?k.data=g:null!==(g=zn(n))&&(k.data=g))),(g=Mn?function(e,t){switch(e){case"compositionend":return zn(t);case"keypress":return 32!==t.which?null:(jn=!0,Vn);case"textInput":return(e=t.data)===Vn&&jn?null:e;default:return null}}(e,n):function(e,t){if(Bn)return"compositionend"===e||!Rn&&Un(e,t)?(e=en(),Jt=Xt=Yt=null,Bn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Fn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Wr(r,"onBeforeInput")).length&&(i=new bn("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=g))}Vr(o,t)}))}function Kr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Wr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=De(e,n))&&r.unshift(Kr(e,a,i)),null!=(a=De(e,t))&&r.push(Kr(e,a,i))),e=e.return}return r}function Gr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Hr(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var u=n,s=u.alternate,c=u.stateNode;if(null!==s&&s===r)break;5===u.tag&&null!==c&&(u=c,i?null!=(s=De(n,a))&&o.unshift(Kr(n,s,u)):i||null!=(s=De(n,a))&&o.push(Kr(n,s,u))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var Qr=/\r\n?/g,$r=/\u0000|\uFFFD/g;function Yr(e){return("string"===typeof e?e:""+e).replace(Qr,"\n").replace($r,"")}function Xr(e,t,n){if(t=Yr(t),Yr(e)!==t&&n)throw Error(a(425))}function Jr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,ai="function"===typeof Promise?Promise:void 0,oi="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ai?function(e){return ai.resolve(null).then(e).catch(ui)}:ri;function ui(e){setTimeout((function(){throw e}))}function si(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void Bt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);Bt(t)}function ci(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function li(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var fi=Math.random().toString(36).slice(2),hi="__reactFiber$"+fi,di="__reactProps$"+fi,pi="__reactContainer$"+fi,vi="__reactEvents$"+fi,yi="__reactListeners$"+fi,mi="__reactHandles$"+fi;function gi(e){var t=e[hi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[hi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=li(e);null!==e;){if(n=e[hi])return n;e=li(e)}return t}n=(e=n).parentNode}return null}function ki(e){return!(e=e[hi]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function bi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function wi(e){return e[di]||null}var xi=[],_i=-1;function Ii(e){return{current:e}}function Si(e){0>_i||(e.current=xi[_i],xi[_i]=null,_i--)}function Ei(e,t){_i++,xi[_i]=e.current,e.current=t}var Ti={},Ci=Ii(Ti),Ai=Ii(!1),Ni=Ti;function Oi(e,t){var n=e.type.contextTypes;if(!n)return Ti;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Di(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Pi(){Si(Ai),Si(Ci)}function Ri(e,t,n){if(Ci.current!==Ti)throw Error(a(168));Ei(Ci,t),Ei(Ai,n)}function Li(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(a(108,q(e)||"Unknown",i));return F({},n,r)}function Mi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ti,Ni=Ci.current,Ei(Ci,e),Ei(Ai,Ai.current),!0}function Fi(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=Li(e,t,Ni),r.__reactInternalMemoizedMergedChildContext=e,Si(Ai),Si(Ci),Ei(Ci,e)):Si(Ai),Ei(Ai,n)}var Vi=null,ji=!1,Ui=!1;function zi(e){null===Vi?Vi=[e]:Vi.push(e)}function Bi(){if(!Ui&&null!==Vi){Ui=!0;var e=0,t=kt;try{var n=Vi;for(kt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Vi=null,ji=!1}catch(i){throw null!==Vi&&(Vi=Vi.slice(e+1)),Ge(Je,Bi),i}finally{kt=t,Ui=!1}}return null}var qi=[],Zi=0,Ki=null,Wi=0,Gi=[],Hi=0,Qi=null,$i=1,Yi="";function Xi(e,t){qi[Zi++]=Wi,qi[Zi++]=Ki,Ki=e,Wi=t}function Ji(e,t,n){Gi[Hi++]=$i,Gi[Hi++]=Yi,Gi[Hi++]=Qi,Qi=e;var r=$i;e=Yi;var i=32-ot(r)-1;r&=~(1<<i),n+=1;var a=32-ot(t)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,$i=1<<32-ot(t)+i|n<<i|r,Yi=a+e}else $i=1<<a|n<<i|r,Yi=e}function ea(e){null!==e.return&&(Xi(e,1),Ji(e,1,0))}function ta(e){for(;e===Ki;)Ki=qi[--Zi],qi[Zi]=null,Wi=qi[--Zi],qi[Zi]=null;for(;e===Qi;)Qi=Gi[--Hi],Gi[Hi]=null,Yi=Gi[--Hi],Gi[Hi]=null,$i=Gi[--Hi],Gi[Hi]=null}var na=null,ra=null,ia=!1,aa=null;function oa(e,t){var n=Dc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function ua(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,na=e,ra=ci(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,na=e,ra=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Qi?{id:$i,overflow:Yi}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Dc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,na=e,ra=null,!0);default:return!1}}function sa(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function ca(e){if(ia){var t=ra;if(t){var n=t;if(!ua(e,t)){if(sa(e))throw Error(a(418));t=ci(n.nextSibling);var r=na;t&&ua(e,t)?oa(r,n):(e.flags=-4097&e.flags|2,ia=!1,na=e)}}else{if(sa(e))throw Error(a(418));e.flags=-4097&e.flags|2,ia=!1,na=e}}}function la(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;na=e}function fa(e){if(e!==na)return!1;if(!ia)return la(e),ia=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=ra)){if(sa(e))throw ha(),Error(a(418));for(;t;)oa(e,t),t=ci(t.nextSibling)}if(la(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ra=ci(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ra=null}}else ra=na?ci(e.stateNode.nextSibling):null;return!0}function ha(){for(var e=ra;e;)e=ci(e.nextSibling)}function da(){ra=na=null,ia=!1}function pa(e){null===aa?aa=[e]:aa.push(e)}var va=b.ReactCurrentBatchConfig;function ya(e,t){if(e&&e.defaultProps){for(var n in t=F({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var ma=Ii(null),ga=null,ka=null,ba=null;function wa(){ba=ka=ga=null}function xa(e){var t=ma.current;Si(ma),e._currentValue=t}function _a(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ia(e,t){ga=e,ba=ka=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(bu=!0),e.firstContext=null)}function Sa(e){var t=e._currentValue;if(ba!==e)if(e={context:e,memoizedValue:t,next:null},null===ka){if(null===ga)throw Error(a(308));ka=e,ga.dependencies={lanes:0,firstContext:e}}else ka=ka.next=e;return t}var Ea=null;function Ta(e){null===Ea?Ea=[e]:Ea.push(e)}function Ca(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Ta(t)):(n.next=i.next,i.next=n),t.interleaved=n,Aa(e,r)}function Aa(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Na=!1;function Oa(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Da(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Pa(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ra(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&As)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Aa(e,n)}return null===(i=r.interleaved)?(t.next=t,Ta(r)):(t.next=i.next,i.next=t),r.interleaved=t,Aa(e,n)}function La(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,gt(e,n)}}function Ma(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Fa(e,t,n,r){var i=e.updateQueue;Na=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,u=i.shared.pending;if(null!==u){i.shared.pending=null;var s=u,c=s.next;s.next=null,null===o?a=c:o.next=c,o=s;var l=e.alternate;null!==l&&((u=(l=l.updateQueue).lastBaseUpdate)!==o&&(null===u?l.firstBaseUpdate=c:u.next=c,l.lastBaseUpdate=s))}if(null!==a){var f=i.baseState;for(o=0,l=c=s=null,u=a;;){var h=u.lane,d=u.eventTime;if((r&h)===h){null!==l&&(l=l.next={eventTime:d,lane:0,tag:u.tag,payload:u.payload,callback:u.callback,next:null});e:{var p=e,v=u;switch(h=t,d=n,v.tag){case 1:if("function"===typeof(p=v.payload)){f=p.call(d,f,h);break e}f=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(h="function"===typeof(p=v.payload)?p.call(d,f,h):p)||void 0===h)break e;f=F({},f,h);break e;case 2:Na=!0}}null!==u.callback&&0!==u.lane&&(e.flags|=64,null===(h=i.effects)?i.effects=[u]:h.push(u))}else d={eventTime:d,lane:h,tag:u.tag,payload:u.payload,callback:u.callback,next:null},null===l?(c=l=d,s=f):l=l.next=d,o|=h;if(null===(u=u.next)){if(null===(u=i.shared.pending))break;u=(h=u).next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}if(null===l&&(s=f),i.baseState=s,i.firstBaseUpdate=c,i.lastBaseUpdate=l,null!==(t=i.shared.interleaved)){i=t;do{o|=i.lane,i=i.next}while(i!==t)}else null===a&&(i.shared.lanes=0);Fs|=o,e.lanes=o,e.memoizedState=f}}function Va(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(a(191,i));i.call(r)}}}var ja=(new r.Component).refs;function Ua(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:F({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var za={isMounted:function(e){return!!(e=e._reactInternals)&&Be(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=tc(),i=nc(e),a=Pa(r,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Ra(e,a,i))&&(rc(t,e,i,r),La(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=tc(),i=nc(e),a=Pa(r,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Ra(e,a,i))&&(rc(t,e,i,r),La(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=tc(),r=nc(e),i=Pa(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Ra(e,i,r))&&(rc(t,e,r,n),La(t,e,r))}};function Ba(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!sr(n,r)||!sr(i,a))}function qa(e,t,n){var r=!1,i=Ti,a=t.contextType;return"object"===typeof a&&null!==a?a=Sa(a):(i=Di(t)?Ni:Ci.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?Oi(e,i):Ti),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=za,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function Za(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&za.enqueueReplaceState(t,t.state,null)}function Ka(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=ja,Oa(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=Sa(a):(a=Di(t)?Ni:Ci.current,i.context=Oi(e,a)),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(Ua(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&za.enqueueReplaceState(i,i.state,null),Fa(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function Wa(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var i=r,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=i.refs;t===ja&&(t=i.refs={}),null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function Ga(e,t){throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Ha(e){return(0,e._init)(e._payload)}function Qa(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Rc(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function u(t){return e&&null===t.alternate&&(t.flags|=2),t}function s(e,t,n,r){return null===t||6!==t.tag?((t=Vc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var a=n.type;return a===_?f(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===D&&Ha(a)===t.type)?((r=i(t,n.props)).ref=Wa(e,t,n),r.return=e,r):((r=Lc(n.type,n.key,n.props,null,e.mode,r)).ref=Wa(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=jc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function f(e,t,n,r,a){return null===t||7!==t.tag?((t=Mc(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Vc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(n=Lc(t.type,t.key,t.props,null,e.mode,n)).ref=Wa(e,null,t),n.return=e,n;case x:return(t=jc(t,e.mode,n)).return=e,t;case D:return h(e,(0,t._init)(t._payload),n)}if(te(t)||L(t))return(t=Mc(t,e.mode,n,null)).return=e,t;Ga(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:s(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===i?c(e,t,n,r):null;case x:return n.key===i?l(e,t,n,r):null;case D:return d(e,t,(i=n._init)(n._payload),r)}if(te(n)||L(n))return null!==i?null:f(e,t,n,r,null);Ga(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return s(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case x:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i);case D:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||L(r))return f(t,e=e.get(n)||null,r,i,null);Ga(t,r)}return null}function v(i,a,u,s){for(var c=null,l=null,f=a,v=a=0,y=null;null!==f&&v<u.length;v++){f.index>v?(y=f,f=null):y=f.sibling;var m=d(i,f,u[v],s);if(null===m){null===f&&(f=y);break}e&&f&&null===m.alternate&&t(i,f),a=o(m,a,v),null===l?c=m:l.sibling=m,l=m,f=y}if(v===u.length)return n(i,f),ia&&Xi(i,v),c;if(null===f){for(;v<u.length;v++)null!==(f=h(i,u[v],s))&&(a=o(f,a,v),null===l?c=f:l.sibling=f,l=f);return ia&&Xi(i,v),c}for(f=r(i,f);v<u.length;v++)null!==(y=p(f,i,v,u[v],s))&&(e&&null!==y.alternate&&f.delete(null===y.key?v:y.key),a=o(y,a,v),null===l?c=y:l.sibling=y,l=y);return e&&f.forEach((function(e){return t(i,e)})),ia&&Xi(i,v),c}function y(i,u,s,c){var l=L(s);if("function"!==typeof l)throw Error(a(150));if(null==(s=l.call(s)))throw Error(a(151));for(var f=l=null,v=u,y=u=0,m=null,g=s.next();null!==v&&!g.done;y++,g=s.next()){v.index>y?(m=v,v=null):m=v.sibling;var k=d(i,v,g.value,c);if(null===k){null===v&&(v=m);break}e&&v&&null===k.alternate&&t(i,v),u=o(k,u,y),null===f?l=k:f.sibling=k,f=k,v=m}if(g.done)return n(i,v),ia&&Xi(i,y),l;if(null===v){for(;!g.done;y++,g=s.next())null!==(g=h(i,g.value,c))&&(u=o(g,u,y),null===f?l=g:f.sibling=g,f=g);return ia&&Xi(i,y),l}for(v=r(i,v);!g.done;y++,g=s.next())null!==(g=p(v,i,y,g.value,c))&&(e&&null!==g.alternate&&v.delete(null===g.key?y:g.key),u=o(g,u,y),null===f?l=g:f.sibling=g,f=g);return e&&v.forEach((function(e){return t(i,e)})),ia&&Xi(i,y),l}return function e(r,a,o,s){if("object"===typeof o&&null!==o&&o.type===_&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case w:e:{for(var c=o.key,l=a;null!==l;){if(l.key===c){if((c=o.type)===_){if(7===l.tag){n(r,l.sibling),(a=i(l,o.props.children)).return=r,r=a;break e}}else if(l.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===D&&Ha(c)===l.type){n(r,l.sibling),(a=i(l,o.props)).ref=Wa(r,l,o),a.return=r,r=a;break e}n(r,l);break}t(r,l),l=l.sibling}o.type===_?((a=Mc(o.props.children,r.mode,s,o.key)).return=r,r=a):((s=Lc(o.type,o.key,o.props,null,r.mode,s)).ref=Wa(r,a,o),s.return=r,r=s)}return u(r);case x:e:{for(l=o.key;null!==a;){if(a.key===l){if(4===a.tag&&a.stateNode.containerInfo===o.containerInfo&&a.stateNode.implementation===o.implementation){n(r,a.sibling),(a=i(a,o.children||[])).return=r,r=a;break e}n(r,a);break}t(r,a),a=a.sibling}(a=jc(o,r.mode,s)).return=r,r=a}return u(r);case D:return e(r,a,(l=o._init)(o._payload),s)}if(te(o))return v(r,a,o,s);if(L(o))return y(r,a,o,s);Ga(r,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==a&&6===a.tag?(n(r,a.sibling),(a=i(a,o)).return=r,r=a):(n(r,a),(a=Vc(o,r.mode,s)).return=r,r=a),u(r)):n(r,a)}}var $a=Qa(!0),Ya=Qa(!1),Xa={},Ja=Ii(Xa),eo=Ii(Xa),to=Ii(Xa);function no(e){if(e===Xa)throw Error(a(174));return e}function ro(e,t){switch(Ei(to,t),Ei(eo,e),Ei(Ja,Xa),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:se(null,"");break;default:t=se(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Si(Ja),Ei(Ja,t)}function io(){Si(Ja),Si(eo),Si(to)}function ao(e){no(to.current);var t=no(Ja.current),n=se(t,e.type);t!==n&&(Ei(eo,e),Ei(Ja,n))}function oo(e){eo.current===e&&(Si(Ja),Si(eo))}var uo=Ii(0);function so(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var co=[];function lo(){for(var e=0;e<co.length;e++)co[e]._workInProgressVersionPrimary=null;co.length=0}var fo=b.ReactCurrentDispatcher,ho=b.ReactCurrentBatchConfig,po=0,vo=null,yo=null,mo=null,go=!1,ko=!1,bo=0,wo=0;function xo(){throw Error(a(321))}function _o(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ur(e[n],t[n]))return!1;return!0}function Io(e,t,n,r,i,o){if(po=o,vo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,fo.current=null===e||null===e.memoizedState?uu:su,e=n(r,i),ko){o=0;do{if(ko=!1,bo=0,25<=o)throw Error(a(301));o+=1,mo=yo=null,t.updateQueue=null,fo.current=cu,e=n(r,i)}while(ko)}if(fo.current=ou,t=null!==yo&&null!==yo.next,po=0,mo=yo=vo=null,go=!1,t)throw Error(a(300));return e}function So(){var e=0!==bo;return bo=0,e}function Eo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===mo?vo.memoizedState=mo=e:mo=mo.next=e,mo}function To(){if(null===yo){var e=vo.alternate;e=null!==e?e.memoizedState:null}else e=yo.next;var t=null===mo?vo.memoizedState:mo.next;if(null!==t)mo=t,yo=e;else{if(null===e)throw Error(a(310));e={memoizedState:(yo=e).memoizedState,baseState:yo.baseState,baseQueue:yo.baseQueue,queue:yo.queue,next:null},null===mo?vo.memoizedState=mo=e:mo=mo.next=e}return mo}function Co(e,t){return"function"===typeof t?t(e):t}function Ao(e){var t=To(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=yo,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var u=i.next;i.next=o.next,o.next=u}r.baseQueue=i=o,n.pending=null}if(null!==i){o=i.next,r=r.baseState;var s=u=null,c=null,l=o;do{var f=l.lane;if((po&f)===f)null!==c&&(c=c.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),r=l.hasEagerState?l.eagerState:e(r,l.action);else{var h={lane:f,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};null===c?(s=c=h,u=r):c=c.next=h,vo.lanes|=f,Fs|=f}l=l.next}while(null!==l&&l!==o);null===c?u=r:c.next=s,ur(r,t.memoizedState)||(bu=!0),t.memoizedState=r,t.baseState=u,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{o=i.lane,vo.lanes|=o,Fs|=o,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function No(e){var t=To(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var u=i=i.next;do{o=e(o,u.action),u=u.next}while(u!==i);ur(o,t.memoizedState)||(bu=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function Oo(){}function Do(e,t){var n=vo,r=To(),i=t(),o=!ur(r.memoizedState,i);if(o&&(r.memoizedState=i,bu=!0),r=r.queue,Zo(Lo.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||null!==mo&&1&mo.memoizedState.tag){if(n.flags|=2048,jo(9,Ro.bind(null,n,r,i,t),void 0,null),null===Ns)throw Error(a(349));0!==(30&po)||Po(n,t,i)}return i}function Po(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=vo.updateQueue)?(t={lastEffect:null,stores:null},vo.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Ro(e,t,n,r){t.value=n,t.getSnapshot=r,Mo(t)&&Fo(e)}function Lo(e,t,n){return n((function(){Mo(t)&&Fo(e)}))}function Mo(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ur(e,n)}catch(r){return!0}}function Fo(e){var t=Aa(e,1);null!==t&&rc(t,e,1,-1)}function Vo(e){var t=Eo();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Co,lastRenderedState:e},t.queue=e,e=e.dispatch=nu.bind(null,vo,e),[t.memoizedState,e]}function jo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=vo.updateQueue)?(t={lastEffect:null,stores:null},vo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Uo(){return To().memoizedState}function zo(e,t,n,r){var i=Eo();vo.flags|=e,i.memoizedState=jo(1|t,n,void 0,void 0===r?null:r)}function Bo(e,t,n,r){var i=To();r=void 0===r?null:r;var a=void 0;if(null!==yo){var o=yo.memoizedState;if(a=o.destroy,null!==r&&_o(r,o.deps))return void(i.memoizedState=jo(t,n,a,r))}vo.flags|=e,i.memoizedState=jo(1|t,n,a,r)}function qo(e,t){return zo(8390656,8,e,t)}function Zo(e,t){return Bo(2048,8,e,t)}function Ko(e,t){return Bo(4,2,e,t)}function Wo(e,t){return Bo(4,4,e,t)}function Go(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Ho(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Bo(4,4,Go.bind(null,t,e),n)}function Qo(){}function $o(e,t){var n=To();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&_o(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Yo(e,t){var n=To();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&_o(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Xo(e,t,n){return 0===(21&po)?(e.baseState&&(e.baseState=!1,bu=!0),e.memoizedState=n):(ur(n,t)||(n=vt(),vo.lanes|=n,Fs|=n,e.baseState=!0),t)}function Jo(e,t){var n=kt;kt=0!==n&&4>n?n:4,e(!0);var r=ho.transition;ho.transition={};try{e(!1),t()}finally{kt=n,ho.transition=r}}function eu(){return To().memoizedState}function tu(e,t,n){var r=nc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},ru(e))iu(t,n);else if(null!==(n=Ca(e,t,n,r))){rc(n,e,r,tc()),au(n,t,r)}}function nu(e,t,n){var r=nc(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(ru(e))iu(t,i);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var o=t.lastRenderedState,u=a(o,n);if(i.hasEagerState=!0,i.eagerState=u,ur(u,o)){var s=t.interleaved;return null===s?(i.next=i,Ta(t)):(i.next=s.next,s.next=i),void(t.interleaved=i)}}catch(c){}null!==(n=Ca(e,t,i,r))&&(rc(n,e,r,i=tc()),au(n,t,r))}}function ru(e){var t=e.alternate;return e===vo||null!==t&&t===vo}function iu(e,t){ko=go=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function au(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,gt(e,n)}}var ou={readContext:Sa,useCallback:xo,useContext:xo,useEffect:xo,useImperativeHandle:xo,useInsertionEffect:xo,useLayoutEffect:xo,useMemo:xo,useReducer:xo,useRef:xo,useState:xo,useDebugValue:xo,useDeferredValue:xo,useTransition:xo,useMutableSource:xo,useSyncExternalStore:xo,useId:xo,unstable_isNewReconciler:!1},uu={readContext:Sa,useCallback:function(e,t){return Eo().memoizedState=[e,void 0===t?null:t],e},useContext:Sa,useEffect:qo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,zo(4194308,4,Go.bind(null,t,e),n)},useLayoutEffect:function(e,t){return zo(4194308,4,e,t)},useInsertionEffect:function(e,t){return zo(4,2,e,t)},useMemo:function(e,t){var n=Eo();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Eo();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=tu.bind(null,vo,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Eo().memoizedState=e},useState:Vo,useDebugValue:Qo,useDeferredValue:function(e){return Eo().memoizedState=e},useTransition:function(){var e=Vo(!1),t=e[0];return e=Jo.bind(null,e[1]),Eo().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=vo,i=Eo();if(ia){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===Ns)throw Error(a(349));0!==(30&po)||Po(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,qo(Lo.bind(null,r,o,e),[e]),r.flags|=2048,jo(9,Ro.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=Eo(),t=Ns.identifierPrefix;if(ia){var n=Yi;t=":"+t+"R"+(n=($i&~(1<<32-ot($i)-1)).toString(32)+n),0<(n=bo++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=wo++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},su={readContext:Sa,useCallback:$o,useContext:Sa,useEffect:Zo,useImperativeHandle:Ho,useInsertionEffect:Ko,useLayoutEffect:Wo,useMemo:Yo,useReducer:Ao,useRef:Uo,useState:function(){return Ao(Co)},useDebugValue:Qo,useDeferredValue:function(e){return Xo(To(),yo.memoizedState,e)},useTransition:function(){return[Ao(Co)[0],To().memoizedState]},useMutableSource:Oo,useSyncExternalStore:Do,useId:eu,unstable_isNewReconciler:!1},cu={readContext:Sa,useCallback:$o,useContext:Sa,useEffect:Zo,useImperativeHandle:Ho,useInsertionEffect:Ko,useLayoutEffect:Wo,useMemo:Yo,useReducer:No,useRef:Uo,useState:function(){return No(Co)},useDebugValue:Qo,useDeferredValue:function(e){var t=To();return null===yo?t.memoizedState=e:Xo(t,yo.memoizedState,e)},useTransition:function(){return[No(Co)[0],To().memoizedState]},useMutableSource:Oo,useSyncExternalStore:Do,useId:eu,unstable_isNewReconciler:!1};function lu(e,t){try{var n="",r=t;do{n+=z(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i,digest:null}}function fu(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function hu(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var du="function"===typeof WeakMap?WeakMap:Map;function pu(e,t,n){(n=Pa(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Ks||(Ks=!0,Ws=r),hu(0,t)},n}function vu(e,t,n){(n=Pa(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){hu(0,t)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){hu(0,t),"function"!==typeof r&&(null===Gs?Gs=new Set([this]):Gs.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function yu(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new du;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Ec.bind(null,e,t,n),t.then(e,e))}function mu(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function gu(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Pa(-1,1)).tag=2,Ra(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var ku=b.ReactCurrentOwner,bu=!1;function wu(e,t,n,r){t.child=null===e?Ya(t,null,n,r):$a(t,e.child,n,r)}function xu(e,t,n,r,i){n=n.render;var a=t.ref;return Ia(t,i),r=Io(e,t,n,r,a,i),n=So(),null===e||bu?(ia&&n&&ea(t),t.flags|=1,wu(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ku(e,t,i))}function _u(e,t,n,r,i){if(null===e){var a=n.type;return"function"!==typeof a||Pc(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Lc(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Iu(e,t,a,r,i))}if(a=e.child,0===(e.lanes&i)){var o=a.memoizedProps;if((n=null!==(n=n.compare)?n:sr)(o,r)&&e.ref===t.ref)return Ku(e,t,i)}return t.flags|=1,(e=Rc(a,r)).ref=t.ref,e.return=t,t.child=e}function Iu(e,t,n,r,i){if(null!==e){var a=e.memoizedProps;if(sr(a,r)&&e.ref===t.ref){if(bu=!1,t.pendingProps=r=a,0===(e.lanes&i))return t.lanes=e.lanes,Ku(e,t,i);0!==(131072&e.flags)&&(bu=!0)}}return Tu(e,t,n,r,i)}function Su(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ei(Rs,Ps),Ps|=n;else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ei(Rs,Ps),Ps|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==a?a.baseLanes:n,Ei(Rs,Ps),Ps|=r}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,Ei(Rs,Ps),Ps|=r;return wu(e,t,i,n),t.child}function Eu(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Tu(e,t,n,r,i){var a=Di(n)?Ni:Ci.current;return a=Oi(t,a),Ia(t,i),n=Io(e,t,n,r,a,i),r=So(),null===e||bu?(ia&&r&&ea(t),t.flags|=1,wu(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ku(e,t,i))}function Cu(e,t,n,r,i){if(Di(n)){var a=!0;Mi(t)}else a=!1;if(Ia(t,i),null===t.stateNode)Zu(e,t),qa(t,n,r),Ka(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,u=t.memoizedProps;o.props=u;var s=o.context,c=n.contextType;"object"===typeof c&&null!==c?c=Sa(c):c=Oi(t,c=Di(n)?Ni:Ci.current);var l=n.getDerivedStateFromProps,f="function"===typeof l||"function"===typeof o.getSnapshotBeforeUpdate;f||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(u!==r||s!==c)&&Za(t,o,r,c),Na=!1;var h=t.memoizedState;o.state=h,Fa(t,r,o,i),s=t.memoizedState,u!==r||h!==s||Ai.current||Na?("function"===typeof l&&(Ua(t,n,l,r),s=t.memoizedState),(u=Na||Ba(t,n,u,r,h,s,c))?(f||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=s),o.props=r,o.state=s,o.context=c,r=u):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Da(e,t),u=t.memoizedProps,c=t.type===t.elementType?u:ya(t.type,u),o.props=c,f=t.pendingProps,h=o.context,"object"===typeof(s=n.contextType)&&null!==s?s=Sa(s):s=Oi(t,s=Di(n)?Ni:Ci.current);var d=n.getDerivedStateFromProps;(l="function"===typeof d||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(u!==f||h!==s)&&Za(t,o,r,s),Na=!1,h=t.memoizedState,o.state=h,Fa(t,r,o,i);var p=t.memoizedState;u!==f||h!==p||Ai.current||Na?("function"===typeof d&&(Ua(t,n,d,r),p=t.memoizedState),(c=Na||Ba(t,n,c,r,h,p,s)||!1)?(l||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,s),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,s)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=s,r=c):("function"!==typeof o.componentDidUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Au(e,t,n,r,a,i)}function Au(e,t,n,r,i,a){Eu(e,t);var o=0!==(128&t.flags);if(!r&&!o)return i&&Fi(t,n,!1),Ku(e,t,a);r=t.stateNode,ku.current=t;var u=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=$a(t,e.child,null,a),t.child=$a(t,null,u,a)):wu(e,t,u,a),t.memoizedState=r.state,i&&Fi(t,n,!0),t.child}function Nu(e){var t=e.stateNode;t.pendingContext?Ri(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Ri(0,t.context,!1),ro(e,t.containerInfo)}function Ou(e,t,n,r,i){return da(),pa(i),t.flags|=256,wu(e,t,n,r),t.child}var Du,Pu,Ru,Lu,Mu={dehydrated:null,treeContext:null,retryLane:0};function Fu(e){return{baseLanes:e,cachePool:null,transitions:null}}function Vu(e,t,n){var r,i=t.pendingProps,o=uo.current,u=!1,s=0!==(128&t.flags);if((r=s)||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(u=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),Ei(uo,1&o),null===e)return ca(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(s=i.children,e=i.fallback,u?(i=t.mode,u=t.child,s={mode:"hidden",children:s},0===(1&i)&&null!==u?(u.childLanes=0,u.pendingProps=s):u=Fc(s,i,0,null),e=Mc(e,i,n,null),u.return=t,e.return=t,u.sibling=e,t.child=u,t.child.memoizedState=Fu(n),t.memoizedState=Mu,e):ju(t,s));if(null!==(o=e.memoizedState)&&null!==(r=o.dehydrated))return function(e,t,n,r,i,o,u){if(n)return 256&t.flags?(t.flags&=-257,Uu(e,t,u,r=fu(Error(a(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=Fc({mode:"visible",children:r.children},i,0,null),(o=Mc(o,i,u,null)).flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,0!==(1&t.mode)&&$a(t,e.child,null,u),t.child.memoizedState=Fu(u),t.memoizedState=Mu,o);if(0===(1&t.mode))return Uu(e,t,u,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var s=r.dgst;return r=s,Uu(e,t,u,r=fu(o=Error(a(419)),r,void 0))}if(s=0!==(u&e.childLanes),bu||s){if(null!==(r=Ns)){switch(u&-u){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|u))?0:i)&&i!==o.retryLane&&(o.retryLane=i,Aa(e,i),rc(r,e,i,-1))}return yc(),Uu(e,t,u,r=fu(Error(a(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Cc.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,ra=ci(i.nextSibling),na=t,ia=!0,aa=null,null!==e&&(Gi[Hi++]=$i,Gi[Hi++]=Yi,Gi[Hi++]=Qi,$i=e.id,Yi=e.overflow,Qi=t),t=ju(t,r.children),t.flags|=4096,t)}(e,t,s,i,r,o,n);if(u){u=i.fallback,s=t.mode,r=(o=e.child).sibling;var c={mode:"hidden",children:i.children};return 0===(1&s)&&t.child!==o?((i=t.child).childLanes=0,i.pendingProps=c,t.deletions=null):(i=Rc(o,c)).subtreeFlags=14680064&o.subtreeFlags,null!==r?u=Rc(r,u):(u=Mc(u,s,n,null)).flags|=2,u.return=t,i.return=t,i.sibling=u,t.child=i,i=u,u=t.child,s=null===(s=e.child.memoizedState)?Fu(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},u.memoizedState=s,u.childLanes=e.childLanes&~n,t.memoizedState=Mu,i}return e=(u=e.child).sibling,i=Rc(u,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function ju(e,t){return(t=Fc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Uu(e,t,n,r){return null!==r&&pa(r),$a(t,e.child,null,n),(e=ju(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function zu(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),_a(e.return,t,n)}function Bu(e,t,n,r,i){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function qu(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(wu(e,t,r.children,n),0!==(2&(r=uo.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&zu(e,n,t);else if(19===e.tag)zu(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ei(uo,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===so(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Bu(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===so(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Bu(t,!0,n,null,a);break;case"together":Bu(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Zu(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ku(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Fs|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Rc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Rc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Wu(e,t){if(!ia)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Gu(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Hu(e,t,n){var r=t.pendingProps;switch(ta(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Gu(t),null;case 1:case 17:return Di(t.type)&&Pi(),Gu(t),null;case 3:return r=t.stateNode,io(),Si(Ai),Si(Ci),lo(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(fa(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==aa&&(uc(aa),aa=null))),Pu(e,t),Gu(t),null;case 5:oo(t);var i=no(to.current);if(n=t.type,null!==e&&null!=t.stateNode)Ru(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(a(166));return Gu(t),null}if(e=no(Ja.current),fa(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[hi]=t,r[di]=o,e=0!==(1&t.mode),n){case"dialog":jr("cancel",r),jr("close",r);break;case"iframe":case"object":case"embed":jr("load",r);break;case"video":case"audio":for(i=0;i<Lr.length;i++)jr(Lr[i],r);break;case"source":jr("error",r);break;case"img":case"image":case"link":jr("error",r),jr("load",r);break;case"details":jr("toggle",r);break;case"input":$(r,o),jr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},jr("invalid",r);break;case"textarea":ie(r,o),jr("invalid",r)}for(var s in ge(n,o),i=null,o)if(o.hasOwnProperty(s)){var c=o[s];"children"===s?"string"===typeof c?r.textContent!==c&&(!0!==o.suppressHydrationWarning&&Xr(r.textContent,c,e),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==o.suppressHydrationWarning&&Xr(r.textContent,c,e),i=["children",""+c]):u.hasOwnProperty(s)&&null!=c&&"onScroll"===s&&jr("scroll",r)}switch(n){case"input":W(r),J(r,o,!0);break;case"textarea":W(r),oe(r);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(r.onclick=Jr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{s=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ue(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=s.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=s.createElement(n,{is:r.is}):(e=s.createElement(n),"select"===n&&(s=e,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):e=s.createElementNS(e,n),e[hi]=t,e[di]=r,Du(e,t,!1,!1),t.stateNode=e;e:{switch(s=ke(n,r),n){case"dialog":jr("cancel",e),jr("close",e),i=r;break;case"iframe":case"object":case"embed":jr("load",e),i=r;break;case"video":case"audio":for(i=0;i<Lr.length;i++)jr(Lr[i],e);i=r;break;case"source":jr("error",e),i=r;break;case"img":case"image":case"link":jr("error",e),jr("load",e),i=r;break;case"details":jr("toggle",e),i=r;break;case"input":$(e,r),i=Q(e,r),jr("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=F({},r,{value:void 0}),jr("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),jr("invalid",e)}for(o in ge(n,i),c=i)if(c.hasOwnProperty(o)){var l=c[o];"style"===o?ye(e,l):"dangerouslySetInnerHTML"===o?null!=(l=l?l.__html:void 0)&&fe(e,l):"children"===o?"string"===typeof l?("textarea"!==n||""!==l)&&he(e,l):"number"===typeof l&&he(e,""+l):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(u.hasOwnProperty(o)?null!=l&&"onScroll"===o&&jr("scroll",e):null!=l&&k(e,o,l,s))}switch(n){case"input":W(e),J(e,r,!1);break;case"textarea":W(e),oe(e);break;case"option":null!=r.value&&e.setAttribute("value",""+Z(r.value));break;case"select":e.multiple=!!r.multiple,null!=(o=r.value)?ne(e,!!r.multiple,o,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Jr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Gu(t),null;case 6:if(e&&null!=t.stateNode)Lu(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));if(n=no(to.current),no(Ja.current),fa(t)){if(r=t.stateNode,n=t.memoizedProps,r[hi]=t,(o=r.nodeValue!==n)&&null!==(e=na))switch(e.tag){case 3:Xr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Xr(r.nodeValue,n,0!==(1&e.mode))}o&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[hi]=t,t.stateNode=r}return Gu(t),null;case 13:if(Si(uo),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ia&&null!==ra&&0!==(1&t.mode)&&0===(128&t.flags))ha(),da(),t.flags|=98560,o=!1;else if(o=fa(t),null!==r&&null!==r.dehydrated){if(null===e){if(!o)throw Error(a(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(a(317));o[hi]=t}else da(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Gu(t),o=!1}else null!==aa&&(uc(aa),aa=null),o=!0;if(!o)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&uo.current)?0===Ls&&(Ls=3):yc())),null!==t.updateQueue&&(t.flags|=4),Gu(t),null);case 4:return io(),Pu(e,t),null===e&&Br(t.stateNode.containerInfo),Gu(t),null;case 10:return xa(t.type._context),Gu(t),null;case 19:if(Si(uo),null===(o=t.memoizedState))return Gu(t),null;if(r=0!==(128&t.flags),null===(s=o.rendering))if(r)Wu(o,!1);else{if(0!==Ls||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(s=so(e))){for(t.flags|=128,Wu(o,!1),null!==(r=s.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(o=n).flags&=14680066,null===(s=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,e=s.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ei(uo,1&uo.current|2),t.child}e=e.sibling}null!==o.tail&&Ye()>qs&&(t.flags|=128,r=!0,Wu(o,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=so(s))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Wu(o,!0),null===o.tail&&"hidden"===o.tailMode&&!s.alternate&&!ia)return Gu(t),null}else 2*Ye()-o.renderingStartTime>qs&&1073741824!==n&&(t.flags|=128,r=!0,Wu(o,!1),t.lanes=4194304);o.isBackwards?(s.sibling=t.child,t.child=s):(null!==(n=o.last)?n.sibling=s:t.child=s,o.last=s)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Ye(),t.sibling=null,n=uo.current,Ei(uo,r?1&n|2:1&n),t):(Gu(t),null);case 22:case 23:return hc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Ps)&&(Gu(t),6&t.subtreeFlags&&(t.flags|=8192)):Gu(t),null;case 24:case 25:return null}throw Error(a(156,t.tag))}function Qu(e,t){switch(ta(t),t.tag){case 1:return Di(t.type)&&Pi(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return io(),Si(Ai),Si(Ci),lo(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return oo(t),null;case 13:if(Si(uo),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));da()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Si(uo),null;case 4:return io(),null;case 10:return xa(t.type._context),null;case 22:case 23:return hc(),null;default:return null}}Du=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Pu=function(){},Ru=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,no(Ja.current);var a,o=null;switch(n){case"input":i=Q(e,i),r=Q(e,r),o=[];break;case"select":i=F({},i,{value:void 0}),r=F({},r,{value:void 0}),o=[];break;case"textarea":i=re(e,i),r=re(e,r),o=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Jr)}for(l in ge(n,r),n=null,i)if(!r.hasOwnProperty(l)&&i.hasOwnProperty(l)&&null!=i[l])if("style"===l){var s=i[l];for(a in s)s.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==l&&"children"!==l&&"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&"autoFocus"!==l&&(u.hasOwnProperty(l)?o||(o=[]):(o=o||[]).push(l,null));for(l in r){var c=r[l];if(s=null!=i?i[l]:void 0,r.hasOwnProperty(l)&&c!==s&&(null!=c||null!=s))if("style"===l)if(s){for(a in s)!s.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&s[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(o||(o=[]),o.push(l,n)),n=c;else"dangerouslySetInnerHTML"===l?(c=c?c.__html:void 0,s=s?s.__html:void 0,null!=c&&s!==c&&(o=o||[]).push(l,c)):"children"===l?"string"!==typeof c&&"number"!==typeof c||(o=o||[]).push(l,""+c):"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&(u.hasOwnProperty(l)?(null!=c&&"onScroll"===l&&jr("scroll",e),o||s===c||(o=[])):(o=o||[]).push(l,c))}n&&(o=o||[]).push("style",n);var l=o;(t.updateQueue=l)&&(t.flags|=4)}},Lu=function(e,t,n,r){n!==r&&(t.flags|=4)};var $u=!1,Yu=!1,Xu="function"===typeof WeakSet?WeakSet:Set,Ju=null;function es(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Sc(e,t,r)}else n.current=null}function ts(e,t,n){try{n()}catch(r){Sc(e,t,r)}}var ns=!1;function rs(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,void 0!==a&&ts(t,n,a)}i=i.next}while(i!==r)}}function is(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function as(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function os(e){var t=e.alternate;null!==t&&(e.alternate=null,os(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[hi],delete t[di],delete t[vi],delete t[yi],delete t[mi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function us(e){return 5===e.tag||3===e.tag||4===e.tag}function ss(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||us(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function cs(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Jr));else if(4!==r&&null!==(e=e.child))for(cs(e,t,n),e=e.sibling;null!==e;)cs(e,t,n),e=e.sibling}function ls(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(ls(e,t,n),e=e.sibling;null!==e;)ls(e,t,n),e=e.sibling}var fs=null,hs=!1;function ds(e,t,n){for(n=n.child;null!==n;)ps(e,t,n),n=n.sibling}function ps(e,t,n){if(at&&"function"===typeof at.onCommitFiberUnmount)try{at.onCommitFiberUnmount(it,n)}catch(u){}switch(n.tag){case 5:Yu||es(n,t);case 6:var r=fs,i=hs;fs=null,ds(e,t,n),hs=i,null!==(fs=r)&&(hs?(e=fs,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):fs.removeChild(n.stateNode));break;case 18:null!==fs&&(hs?(e=fs,n=n.stateNode,8===e.nodeType?si(e.parentNode,n):1===e.nodeType&&si(e,n),Bt(e)):si(fs,n.stateNode));break;case 4:r=fs,i=hs,fs=n.stateNode.containerInfo,hs=!0,ds(e,t,n),fs=r,hs=i;break;case 0:case 11:case 14:case 15:if(!Yu&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var a=i,o=a.destroy;a=a.tag,void 0!==o&&(0!==(2&a)||0!==(4&a))&&ts(n,t,o),i=i.next}while(i!==r)}ds(e,t,n);break;case 1:if(!Yu&&(es(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(u){Sc(n,t,u)}ds(e,t,n);break;case 21:ds(e,t,n);break;case 22:1&n.mode?(Yu=(r=Yu)||null!==n.memoizedState,ds(e,t,n),Yu=r):ds(e,t,n);break;default:ds(e,t,n)}}function vs(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Xu),t.forEach((function(t){var r=Ac.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function ys(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,u=t,s=u;e:for(;null!==s;){switch(s.tag){case 5:fs=s.stateNode,hs=!1;break e;case 3:case 4:fs=s.stateNode.containerInfo,hs=!0;break e}s=s.return}if(null===fs)throw Error(a(160));ps(o,u,i),fs=null,hs=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(l){Sc(i,t,l)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)ms(t,e),t=t.sibling}function ms(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ys(t,e),gs(e),4&r){try{rs(3,e,e.return),is(3,e)}catch(y){Sc(e,e.return,y)}try{rs(5,e,e.return)}catch(y){Sc(e,e.return,y)}}break;case 1:ys(t,e),gs(e),512&r&&null!==n&&es(n,n.return);break;case 5:if(ys(t,e),gs(e),512&r&&null!==n&&es(n,n.return),32&e.flags){var i=e.stateNode;try{he(i,"")}catch(y){Sc(e,e.return,y)}}if(4&r&&null!=(i=e.stateNode)){var o=e.memoizedProps,u=null!==n?n.memoizedProps:o,s=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===s&&"radio"===o.type&&null!=o.name&&Y(i,o),ke(s,u);var l=ke(s,o);for(u=0;u<c.length;u+=2){var f=c[u],h=c[u+1];"style"===f?ye(i,h):"dangerouslySetInnerHTML"===f?fe(i,h):"children"===f?he(i,h):k(i,f,h,l)}switch(s){case"input":X(i,o);break;case"textarea":ae(i,o);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;null!=p?ne(i,!!o.multiple,p,!1):d!==!!o.multiple&&(null!=o.defaultValue?ne(i,!!o.multiple,o.defaultValue,!0):ne(i,!!o.multiple,o.multiple?[]:"",!1))}i[di]=o}catch(y){Sc(e,e.return,y)}}break;case 6:if(ys(t,e),gs(e),4&r){if(null===e.stateNode)throw Error(a(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(y){Sc(e,e.return,y)}}break;case 3:if(ys(t,e),gs(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Bt(t.containerInfo)}catch(y){Sc(e,e.return,y)}break;case 4:default:ys(t,e),gs(e);break;case 13:ys(t,e),gs(e),8192&(i=e.child).flags&&(o=null!==i.memoizedState,i.stateNode.isHidden=o,!o||null!==i.alternate&&null!==i.alternate.memoizedState||(Bs=Ye())),4&r&&vs(e);break;case 22:if(f=null!==n&&null!==n.memoizedState,1&e.mode?(Yu=(l=Yu)||f,ys(t,e),Yu=l):ys(t,e),gs(e),8192&r){if(l=null!==e.memoizedState,(e.stateNode.isHidden=l)&&!f&&0!==(1&e.mode))for(Ju=e,f=e.child;null!==f;){for(h=Ju=f;null!==Ju;){switch(p=(d=Ju).child,d.tag){case 0:case 11:case 14:case 15:rs(4,d,d.return);break;case 1:es(d,d.return);var v=d.stateNode;if("function"===typeof v.componentWillUnmount){r=d,n=d.return;try{t=r,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(y){Sc(r,n,y)}}break;case 5:es(d,d.return);break;case 22:if(null!==d.memoizedState){xs(h);continue}}null!==p?(p.return=d,Ju=p):xs(h)}f=f.sibling}e:for(f=null,h=e;;){if(5===h.tag){if(null===f){f=h;try{i=h.stateNode,l?"function"===typeof(o=i.style).setProperty?o.setProperty("display","none","important"):o.display="none":(s=h.stateNode,u=void 0!==(c=h.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,s.style.display=ve("display",u))}catch(y){Sc(e,e.return,y)}}}else if(6===h.tag){if(null===f)try{h.stateNode.nodeValue=l?"":h.memoizedProps}catch(y){Sc(e,e.return,y)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;f===h&&(f=null),h=h.return}f===h&&(f=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:ys(t,e),gs(e),4&r&&vs(e);case 21:}}function gs(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(us(n)){var r=n;break e}n=n.return}throw Error(a(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(he(i,""),r.flags&=-33),ls(e,ss(e),i);break;case 3:case 4:var o=r.stateNode.containerInfo;cs(e,ss(e),o);break;default:throw Error(a(161))}}catch(u){Sc(e,e.return,u)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function ks(e,t,n){Ju=e,bs(e,t,n)}function bs(e,t,n){for(var r=0!==(1&e.mode);null!==Ju;){var i=Ju,a=i.child;if(22===i.tag&&r){var o=null!==i.memoizedState||$u;if(!o){var u=i.alternate,s=null!==u&&null!==u.memoizedState||Yu;u=$u;var c=Yu;if($u=o,(Yu=s)&&!c)for(Ju=i;null!==Ju;)s=(o=Ju).child,22===o.tag&&null!==o.memoizedState?_s(i):null!==s?(s.return=o,Ju=s):_s(i);for(;null!==a;)Ju=a,bs(a,t,n),a=a.sibling;Ju=i,$u=u,Yu=c}ws(e)}else 0!==(8772&i.subtreeFlags)&&null!==a?(a.return=i,Ju=a):ws(e)}}function ws(e){for(;null!==Ju;){var t=Ju;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Yu||is(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Yu)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:ya(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&Va(t,o,r);break;case 3:var u=t.updateQueue;if(null!==u){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Va(t,u,n)}break;case 5:var s=t.stateNode;if(null===n&&4&t.flags){n=s;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var l=t.alternate;if(null!==l){var f=l.memoizedState;if(null!==f){var h=f.dehydrated;null!==h&&Bt(h)}}}break;default:throw Error(a(163))}Yu||512&t.flags&&as(t)}catch(d){Sc(t,t.return,d)}}if(t===e){Ju=null;break}if(null!==(n=t.sibling)){n.return=t.return,Ju=n;break}Ju=t.return}}function xs(e){for(;null!==Ju;){var t=Ju;if(t===e){Ju=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Ju=n;break}Ju=t.return}}function _s(e){for(;null!==Ju;){var t=Ju;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{is(4,t)}catch(s){Sc(t,n,s)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(s){Sc(t,i,s)}}var a=t.return;try{as(t)}catch(s){Sc(t,a,s)}break;case 5:var o=t.return;try{as(t)}catch(s){Sc(t,o,s)}}}catch(s){Sc(t,t.return,s)}if(t===e){Ju=null;break}var u=t.sibling;if(null!==u){u.return=t.return,Ju=u;break}Ju=t.return}}var Is,Ss=Math.ceil,Es=b.ReactCurrentDispatcher,Ts=b.ReactCurrentOwner,Cs=b.ReactCurrentBatchConfig,As=0,Ns=null,Os=null,Ds=0,Ps=0,Rs=Ii(0),Ls=0,Ms=null,Fs=0,Vs=0,js=0,Us=null,zs=null,Bs=0,qs=1/0,Zs=null,Ks=!1,Ws=null,Gs=null,Hs=!1,Qs=null,$s=0,Ys=0,Xs=null,Js=-1,ec=0;function tc(){return 0!==(6&As)?Ye():-1!==Js?Js:Js=Ye()}function nc(e){return 0===(1&e.mode)?1:0!==(2&As)&&0!==Ds?Ds&-Ds:null!==va.transition?(0===ec&&(ec=vt()),ec):0!==(e=kt)?e:e=void 0===(e=window.event)?16:$t(e.type)}function rc(e,t,n,r){if(50<Ys)throw Ys=0,Xs=null,Error(a(185));mt(e,n,r),0!==(2&As)&&e===Ns||(e===Ns&&(0===(2&As)&&(Vs|=n),4===Ls&&sc(e,Ds)),ic(e,r),1===n&&0===As&&0===(1&t.mode)&&(qs=Ye()+500,ji&&Bi()))}function ic(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-ot(a),u=1<<o,s=i[o];-1===s?0!==(u&n)&&0===(u&r)||(i[o]=dt(u,t)):s<=t&&(e.expiredLanes|=u),a&=~u}}(e,t);var r=ht(e,e===Ns?Ds:0);if(0===r)null!==n&&He(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&He(n),1===t)0===e.tag?function(e){ji=!0,zi(e)}(cc.bind(null,e)):zi(cc.bind(null,e)),oi((function(){0===(6&As)&&Bi()})),n=null;else{switch(bt(r)){case 1:n=Je;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Nc(n,ac.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ac(e,t){if(Js=-1,ec=0,0!==(6&As))throw Error(a(327));var n=e.callbackNode;if(_c()&&e.callbackNode!==n)return null;var r=ht(e,e===Ns?Ds:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=mc(e,r);else{t=r;var i=As;As|=2;var o=vc();for(Ns===e&&Ds===t||(Zs=null,qs=Ye()+500,dc(e,t));;)try{kc();break}catch(s){pc(e,s)}wa(),Es.current=o,As=i,null!==Os?t=0:(Ns=null,Ds=0,t=Ls)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=oc(e,i))),1===t)throw n=Ms,dc(e,0),sc(e,r),ic(e,Ye()),n;if(6===t)sc(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!ur(a(),i))return!1}catch(u){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=mc(e,r))&&(0!==(o=pt(e))&&(r=o,t=oc(e,o))),1===t))throw n=Ms,dc(e,0),sc(e,r),ic(e,Ye()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(a(345));case 2:case 5:xc(e,zs,Zs);break;case 3:if(sc(e,r),(130023424&r)===r&&10<(t=Bs+500-Ye())){if(0!==ht(e,0))break;if(((i=e.suspendedLanes)&r)!==r){tc(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(xc.bind(null,e,zs,Zs),t);break}xc(e,zs,Zs);break;case 4:if(sc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var u=31-ot(r);o=1<<u,(u=t[u])>i&&(i=u),r&=~o}if(r=i,10<(r=(120>(r=Ye()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Ss(r/1960))-r)){e.timeoutHandle=ri(xc.bind(null,e,zs,Zs),r);break}xc(e,zs,Zs);break;default:throw Error(a(329))}}}return ic(e,Ye()),e.callbackNode===n?ac.bind(null,e):null}function oc(e,t){var n=Us;return e.current.memoizedState.isDehydrated&&(dc(e,t).flags|=256),2!==(e=mc(e,t))&&(t=zs,zs=n,null!==t&&uc(t)),e}function uc(e){null===zs?zs=e:zs.push.apply(zs,e)}function sc(e,t){for(t&=~js,t&=~Vs,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ot(t),r=1<<n;e[n]=-1,t&=~r}}function cc(e){if(0!==(6&As))throw Error(a(327));_c();var t=ht(e,0);if(0===(1&t))return ic(e,Ye()),null;var n=mc(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=oc(e,r))}if(1===n)throw n=Ms,dc(e,0),sc(e,t),ic(e,Ye()),n;if(6===n)throw Error(a(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,xc(e,zs,Zs),ic(e,Ye()),null}function lc(e,t){var n=As;As|=1;try{return e(t)}finally{0===(As=n)&&(qs=Ye()+500,ji&&Bi())}}function fc(e){null!==Qs&&0===Qs.tag&&0===(6&As)&&_c();var t=As;As|=1;var n=Cs.transition,r=kt;try{if(Cs.transition=null,kt=1,e)return e()}finally{kt=r,Cs.transition=n,0===(6&(As=t))&&Bi()}}function hc(){Ps=Rs.current,Si(Rs)}function dc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Os)for(n=Os.return;null!==n;){var r=n;switch(ta(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Pi();break;case 3:io(),Si(Ai),Si(Ci),lo();break;case 5:oo(r);break;case 4:io();break;case 13:case 19:Si(uo);break;case 10:xa(r.type._context);break;case 22:case 23:hc()}n=n.return}if(Ns=e,Os=e=Rc(e.current,null),Ds=Ps=t,Ls=0,Ms=null,js=Vs=Fs=0,zs=Us=null,null!==Ea){for(t=0;t<Ea.length;t++)if(null!==(r=(n=Ea[t]).interleaved)){n.interleaved=null;var i=r.next,a=n.pending;if(null!==a){var o=a.next;a.next=i,r.next=o}n.pending=r}Ea=null}return e}function pc(e,t){for(;;){var n=Os;try{if(wa(),fo.current=ou,go){for(var r=vo.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}go=!1}if(po=0,mo=yo=vo=null,ko=!1,bo=0,Ts.current=null,null===n||null===n.return){Ls=1,Ms=t,Os=null;break}e:{var o=e,u=n.return,s=n,c=t;if(t=Ds,s.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var l=c,f=s,h=f.tag;if(0===(1&f.mode)&&(0===h||11===h||15===h)){var d=f.alternate;d?(f.updateQueue=d.updateQueue,f.memoizedState=d.memoizedState,f.lanes=d.lanes):(f.updateQueue=null,f.memoizedState=null)}var p=mu(u);if(null!==p){p.flags&=-257,gu(p,u,s,0,t),1&p.mode&&yu(o,l,t),c=l;var v=(t=p).updateQueue;if(null===v){var y=new Set;y.add(c),t.updateQueue=y}else v.add(c);break e}if(0===(1&t)){yu(o,l,t),yc();break e}c=Error(a(426))}else if(ia&&1&s.mode){var m=mu(u);if(null!==m){0===(65536&m.flags)&&(m.flags|=256),gu(m,u,s,0,t),pa(lu(c,s));break e}}o=c=lu(c,s),4!==Ls&&(Ls=2),null===Us?Us=[o]:Us.push(o),o=u;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t,Ma(o,pu(0,c,t));break e;case 1:s=c;var g=o.type,k=o.stateNode;if(0===(128&o.flags)&&("function"===typeof g.getDerivedStateFromError||null!==k&&"function"===typeof k.componentDidCatch&&(null===Gs||!Gs.has(k)))){o.flags|=65536,t&=-t,o.lanes|=t,Ma(o,vu(o,s,t));break e}}o=o.return}while(null!==o)}wc(n)}catch(b){t=b,Os===n&&null!==n&&(Os=n=n.return);continue}break}}function vc(){var e=Es.current;return Es.current=ou,null===e?ou:e}function yc(){0!==Ls&&3!==Ls&&2!==Ls||(Ls=4),null===Ns||0===(268435455&Fs)&&0===(268435455&Vs)||sc(Ns,Ds)}function mc(e,t){var n=As;As|=2;var r=vc();for(Ns===e&&Ds===t||(Zs=null,dc(e,t));;)try{gc();break}catch(i){pc(e,i)}if(wa(),As=n,Es.current=r,null!==Os)throw Error(a(261));return Ns=null,Ds=0,Ls}function gc(){for(;null!==Os;)bc(Os)}function kc(){for(;null!==Os&&!Qe();)bc(Os)}function bc(e){var t=Is(e.alternate,e,Ps);e.memoizedProps=e.pendingProps,null===t?wc(e):Os=t,Ts.current=null}function wc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Hu(n,t,Ps)))return void(Os=n)}else{if(null!==(n=Qu(n,t)))return n.flags&=32767,void(Os=n);if(null===e)return Ls=6,void(Os=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Os=t);Os=t=e}while(null!==t);0===Ls&&(Ls=5)}function xc(e,t,n){var r=kt,i=Cs.transition;try{Cs.transition=null,kt=1,function(e,t,n,r){do{_c()}while(null!==Qs);if(0!==(6&As))throw Error(a(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-ot(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}(e,o),e===Ns&&(Os=Ns=null,Ds=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Hs||(Hs=!0,Nc(tt,(function(){return _c(),null}))),o=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||o){o=Cs.transition,Cs.transition=null;var u=kt;kt=1;var s=As;As|=4,Ts.current=null,function(e,t){if(ei=Zt,dr(e=hr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(w){n=null;break e}var u=0,s=-1,c=-1,l=0,f=0,h=e,d=null;t:for(;;){for(var p;h!==n||0!==i&&3!==h.nodeType||(s=u+i),h!==o||0!==r&&3!==h.nodeType||(c=u+r),3===h.nodeType&&(u+=h.nodeValue.length),null!==(p=h.firstChild);)d=h,h=p;for(;;){if(h===e)break t;if(d===n&&++l===i&&(s=u),d===o&&++f===r&&(c=u),null!==(p=h.nextSibling))break;d=(h=d).parentNode}h=p}n=-1===s||-1===c?null:{start:s,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Zt=!1,Ju=t;null!==Ju;)if(e=(t=Ju).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Ju=e;else for(;null!==Ju;){t=Ju;try{var v=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==v){var y=v.memoizedProps,m=v.memoizedState,g=t.stateNode,k=g.getSnapshotBeforeUpdate(t.elementType===t.type?y:ya(t.type,y),m);g.__reactInternalSnapshotBeforeUpdate=k}break;case 3:var b=t.stateNode.containerInfo;1===b.nodeType?b.textContent="":9===b.nodeType&&b.documentElement&&b.removeChild(b.documentElement);break;default:throw Error(a(163))}}catch(w){Sc(t,t.return,w)}if(null!==(e=t.sibling)){e.return=t.return,Ju=e;break}Ju=t.return}v=ns,ns=!1}(e,n),ms(n,e),pr(ti),Zt=!!ei,ti=ei=null,e.current=n,ks(n,e,i),$e(),As=s,kt=u,Cs.transition=o}else e.current=n;if(Hs&&(Hs=!1,Qs=e,$s=i),o=e.pendingLanes,0===o&&(Gs=null),function(e){if(at&&"function"===typeof at.onCommitFiberRoot)try{at.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),ic(e,Ye()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Ks)throw Ks=!1,e=Ws,Ws=null,e;0!==(1&$s)&&0!==e.tag&&_c(),o=e.pendingLanes,0!==(1&o)?e===Xs?Ys++:(Ys=0,Xs=e):Ys=0,Bi()}(e,t,n,r)}finally{Cs.transition=i,kt=r}return null}function _c(){if(null!==Qs){var e=bt($s),t=Cs.transition,n=kt;try{if(Cs.transition=null,kt=16>e?16:e,null===Qs)var r=!1;else{if(e=Qs,Qs=null,$s=0,0!==(6&As))throw Error(a(331));var i=As;for(As|=4,Ju=e.current;null!==Ju;){var o=Ju,u=o.child;if(0!==(16&Ju.flags)){var s=o.deletions;if(null!==s){for(var c=0;c<s.length;c++){var l=s[c];for(Ju=l;null!==Ju;){var f=Ju;switch(f.tag){case 0:case 11:case 15:rs(8,f,o)}var h=f.child;if(null!==h)h.return=f,Ju=h;else for(;null!==Ju;){var d=(f=Ju).sibling,p=f.return;if(os(f),f===l){Ju=null;break}if(null!==d){d.return=p,Ju=d;break}Ju=p}}}var v=o.alternate;if(null!==v){var y=v.child;if(null!==y){v.child=null;do{var m=y.sibling;y.sibling=null,y=m}while(null!==y)}}Ju=o}}if(0!==(2064&o.subtreeFlags)&&null!==u)u.return=o,Ju=u;else e:for(;null!==Ju;){if(0!==(2048&(o=Ju).flags))switch(o.tag){case 0:case 11:case 15:rs(9,o,o.return)}var g=o.sibling;if(null!==g){g.return=o.return,Ju=g;break e}Ju=o.return}}var k=e.current;for(Ju=k;null!==Ju;){var b=(u=Ju).child;if(0!==(2064&u.subtreeFlags)&&null!==b)b.return=u,Ju=b;else e:for(u=k;null!==Ju;){if(0!==(2048&(s=Ju).flags))try{switch(s.tag){case 0:case 11:case 15:is(9,s)}}catch(x){Sc(s,s.return,x)}if(s===u){Ju=null;break e}var w=s.sibling;if(null!==w){w.return=s.return,Ju=w;break e}Ju=s.return}}if(As=i,Bi(),at&&"function"===typeof at.onPostCommitFiberRoot)try{at.onPostCommitFiberRoot(it,e)}catch(x){}r=!0}return r}finally{kt=n,Cs.transition=t}}return!1}function Ic(e,t,n){e=Ra(e,t=pu(0,t=lu(n,t),1),1),t=tc(),null!==e&&(mt(e,1,t),ic(e,t))}function Sc(e,t,n){if(3===e.tag)Ic(e,e,n);else for(;null!==t;){if(3===t.tag){Ic(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Gs||!Gs.has(r))){t=Ra(t,e=vu(t,e=lu(n,e),1),1),e=tc(),null!==t&&(mt(t,1,e),ic(t,e));break}}t=t.return}}function Ec(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=tc(),e.pingedLanes|=e.suspendedLanes&n,Ns===e&&(Ds&n)===n&&(4===Ls||3===Ls&&(130023424&Ds)===Ds&&500>Ye()-Bs?dc(e,0):js|=n),ic(e,t)}function Tc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=lt,0===(130023424&(lt<<=1))&&(lt=4194304)));var n=tc();null!==(e=Aa(e,t))&&(mt(e,t,n),ic(e,n))}function Cc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Tc(e,n)}function Ac(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(a(314))}null!==r&&r.delete(t),Tc(e,n)}function Nc(e,t){return Ge(e,t)}function Oc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Dc(e,t,n,r){return new Oc(e,t,n,r)}function Pc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Rc(e,t){var n=e.alternate;return null===n?((n=Dc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Lc(e,t,n,r,i,o){var u=2;if(r=e,"function"===typeof e)Pc(e)&&(u=1);else if("string"===typeof e)u=5;else e:switch(e){case _:return Mc(n.children,i,o,t);case I:u=8,i|=8;break;case S:return(e=Dc(12,n,t,2|i)).elementType=S,e.lanes=o,e;case A:return(e=Dc(13,n,t,i)).elementType=A,e.lanes=o,e;case N:return(e=Dc(19,n,t,i)).elementType=N,e.lanes=o,e;case P:return Fc(n,i,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case E:u=10;break e;case T:u=9;break e;case C:u=11;break e;case O:u=14;break e;case D:u=16,r=null;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Dc(u,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Mc(e,t,n,r){return(e=Dc(7,e,r,t)).lanes=n,e}function Fc(e,t,n,r){return(e=Dc(22,e,r,t)).elementType=P,e.lanes=n,e.stateNode={isHidden:!1},e}function Vc(e,t,n){return(e=Dc(6,e,null,t)).lanes=n,e}function jc(e,t,n){return(t=Dc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Uc(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=yt(0),this.expirationTimes=yt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=yt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function zc(e,t,n,r,i,a,o,u,s){return e=new Uc(e,t,n,u,s),1===t?(t=1,!0===a&&(t|=8)):t=0,a=Dc(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Oa(a),e}function Bc(e){if(!e)return Ti;e:{if(Be(e=e._reactInternals)!==e||1!==e.tag)throw Error(a(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Di(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(a(171))}if(1===e.tag){var n=e.type;if(Di(n))return Li(e,n,t)}return t}function qc(e,t,n,r,i,a,o,u,s){return(e=zc(n,r,!0,e,0,a,0,u,s)).context=Bc(null),n=e.current,(a=Pa(r=tc(),i=nc(n))).callback=void 0!==t&&null!==t?t:null,Ra(n,a,i),e.current.lanes=i,mt(e,i,r),ic(e,r),e}function Zc(e,t,n,r){var i=t.current,a=tc(),o=nc(i);return n=Bc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Pa(a,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Ra(i,t,o))&&(rc(e,i,o,a),La(e,i,o)),o}function Kc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Wc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Gc(e,t){Wc(e,t),(e=e.alternate)&&Wc(e,t)}Is=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ai.current)bu=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return bu=!1,function(e,t,n){switch(t.tag){case 3:Nu(t),da();break;case 5:ao(t);break;case 1:Di(t.type)&&Mi(t);break;case 4:ro(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ei(ma,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Ei(uo,1&uo.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Vu(e,t,n):(Ei(uo,1&uo.current),null!==(e=Ku(e,t,n))?e.sibling:null);Ei(uo,1&uo.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return qu(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ei(uo,uo.current),r)break;return null;case 22:case 23:return t.lanes=0,Su(e,t,n)}return Ku(e,t,n)}(e,t,n);bu=0!==(131072&e.flags)}else bu=!1,ia&&0!==(1048576&t.flags)&&Ji(t,Wi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Zu(e,t),e=t.pendingProps;var i=Oi(t,Ci.current);Ia(t,n),i=Io(null,t,r,e,i,n);var o=So();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Di(r)?(o=!0,Mi(t)):o=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Oa(t),i.updater=za,t.stateNode=i,i._reactInternals=t,Ka(t,r,e,n),t=Au(null,t,r,!0,o,n)):(t.tag=0,ia&&o&&ea(t),wu(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Zu(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Pc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===C)return 11;if(e===O)return 14}return 2}(r),e=ya(r,e),i){case 0:t=Tu(null,t,r,e,n);break e;case 1:t=Cu(null,t,r,e,n);break e;case 11:t=xu(null,t,r,e,n);break e;case 14:t=_u(null,t,r,ya(r.type,e),n);break e}throw Error(a(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Tu(e,t,r,i=t.elementType===r?i:ya(r,i),n);case 1:return r=t.type,i=t.pendingProps,Cu(e,t,r,i=t.elementType===r?i:ya(r,i),n);case 3:e:{if(Nu(t),null===e)throw Error(a(387));r=t.pendingProps,i=(o=t.memoizedState).element,Da(e,t),Fa(t,r,null,n);var u=t.memoizedState;if(r=u.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:u.cache,pendingSuspenseBoundaries:u.pendingSuspenseBoundaries,transitions:u.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=Ou(e,t,r,n,i=lu(Error(a(423)),t));break e}if(r!==i){t=Ou(e,t,r,n,i=lu(Error(a(424)),t));break e}for(ra=ci(t.stateNode.containerInfo.firstChild),na=t,ia=!0,aa=null,n=Ya(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(da(),r===i){t=Ku(e,t,n);break e}wu(e,t,r,n)}t=t.child}return t;case 5:return ao(t),null===e&&ca(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,u=i.children,ni(r,i)?u=null:null!==o&&ni(r,o)&&(t.flags|=32),Eu(e,t),wu(e,t,u,n),t.child;case 6:return null===e&&ca(t),null;case 13:return Vu(e,t,n);case 4:return ro(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=$a(t,null,r,n):wu(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,xu(e,t,r,i=t.elementType===r?i:ya(r,i),n);case 7:return wu(e,t,t.pendingProps,n),t.child;case 8:case 12:return wu(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,u=i.value,Ei(ma,r._currentValue),r._currentValue=u,null!==o)if(ur(o.value,u)){if(o.children===i.children&&!Ai.current){t=Ku(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var s=o.dependencies;if(null!==s){u=o.child;for(var c=s.firstContext;null!==c;){if(c.context===r){if(1===o.tag){(c=Pa(-1,n&-n)).tag=2;var l=o.updateQueue;if(null!==l){var f=(l=l.shared).pending;null===f?c.next=c:(c.next=f.next,f.next=c),l.pending=c}}o.lanes|=n,null!==(c=o.alternate)&&(c.lanes|=n),_a(o.return,n,t),s.lanes|=n;break}c=c.next}}else if(10===o.tag)u=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(u=o.return))throw Error(a(341));u.lanes|=n,null!==(s=u.alternate)&&(s.lanes|=n),_a(u,n,t),u=o.sibling}else u=o.child;if(null!==u)u.return=o;else for(u=o;null!==u;){if(u===t){u=null;break}if(null!==(o=u.sibling)){o.return=u.return,u=o;break}u=u.return}o=u}wu(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Ia(t,n),r=r(i=Sa(i)),t.flags|=1,wu(e,t,r,n),t.child;case 14:return i=ya(r=t.type,t.pendingProps),_u(e,t,r,i=ya(r.type,i),n);case 15:return Iu(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ya(r,i),Zu(e,t),t.tag=1,Di(r)?(e=!0,Mi(t)):e=!1,Ia(t,n),qa(t,r,i),Ka(t,r,i,n),Au(null,t,r,!0,e,n);case 19:return qu(e,t,n);case 22:return Su(e,t,n)}throw Error(a(156,t.tag))};var Hc="function"===typeof reportError?reportError:function(e){console.error(e)};function Qc(e){this._internalRoot=e}function $c(e){this._internalRoot=e}function Yc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Xc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Jc(){}function el(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a;if("function"===typeof i){var u=i;i=function(){var e=Kc(o);u.call(e)}}Zc(t,o,e,i)}else o=function(e,t,n,r,i){if(i){if("function"===typeof r){var a=r;r=function(){var e=Kc(o);a.call(e)}}var o=qc(t,r,e,0,null,!1,0,"",Jc);return e._reactRootContainer=o,e[pi]=o.current,Br(8===e.nodeType?e.parentNode:e),fc(),o}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var u=r;r=function(){var e=Kc(s);u.call(e)}}var s=zc(e,0,!1,null,0,!1,0,"",Jc);return e._reactRootContainer=s,e[pi]=s.current,Br(8===e.nodeType?e.parentNode:e),fc((function(){Zc(t,s,n,r)})),s}(n,t,e,i,r);return Kc(o)}$c.prototype.render=Qc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));Zc(e,t,null,null)},$c.prototype.unmount=Qc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;fc((function(){Zc(null,e,null,null)})),t[pi]=null}},$c.prototype.unstable_scheduleHydration=function(e){if(e){var t=It();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Pt.length&&0!==t&&t<Pt[n].priority;n++);Pt.splice(n,0,e),0===n&&Ft(e)}},wt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ft(t.pendingLanes);0!==n&&(gt(t,1|n),ic(t,Ye()),0===(6&As)&&(qs=Ye()+500,Bi()))}break;case 13:fc((function(){var t=Aa(e,1);if(null!==t){var n=tc();rc(t,e,1,n)}})),Gc(e,1)}},xt=function(e){if(13===e.tag){var t=Aa(e,134217728);if(null!==t)rc(t,e,134217728,tc());Gc(e,134217728)}},_t=function(e){if(13===e.tag){var t=nc(e),n=Aa(e,t);if(null!==n)rc(n,e,t,tc());Gc(e,t)}},It=function(){return kt},St=function(e,t){var n=kt;try{return kt=e,t()}finally{kt=n}},xe=function(e,t,n){switch(t){case"input":if(X(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=wi(r);if(!i)throw Error(a(90));G(r),X(r,i)}}}break;case"textarea":ae(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ce=lc,Ae=fc;var tl={usingClientEntryPoint:!1,Events:[ki,bi,wi,Ee,Te,lc]},nl={findFiberByHostInstance:gi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},rl={bundleType:nl.bundleType,version:nl.version,rendererPackageName:nl.rendererPackageName,rendererConfig:nl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:b.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ke(e))?null:e.stateNode},findFiberByHostInstance:nl.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var il=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!il.isDisabled&&il.supportsFiber)try{it=il.inject(rl),at=il}catch(le){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tl,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Yc(t))throw Error(a(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:x,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Yc(e))throw Error(a(299));var n=!1,r="",i=Hc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=zc(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,Br(8===e.nodeType?e.parentNode:e),new Qc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=null===(e=Ke(t))?null:e.stateNode},t.flushSync=function(e){return fc(e)},t.hydrate=function(e,t,n){if(!Xc(t))throw Error(a(200));return el(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Yc(e))throw Error(a(405));var r=null!=n&&n.hydratedSources||null,i=!1,o="",u=Hc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(u=n.onRecoverableError)),t=qc(t,null,e,1,null!=n?n:null,i,0,o,u),e[pi]=t.current,Br(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new $c(t)},t.render=function(e,t,n){if(!Xc(t))throw Error(a(200));return el(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Xc(e))throw Error(a(40));return!!e._reactRootContainer&&(fc((function(){el(null,null,e,!1,(function(){e._reactRootContainer=null,e[pi]=null}))})),!0)},t.unstable_batchedUpdates=lc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Xc(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return el(e,t,n,!1,r)},t.version="18.2.0-next-9e3b772b8-20220608"},4164:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(4463)},8459:function(e,t){"use strict";var n,r=Symbol.for("react.element"),i=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),c=Symbol.for("react.context"),l=Symbol.for("react.server_context"),f=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),d=Symbol.for("react.suspense_list"),p=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),y=Symbol.for("react.offscreen");function m(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case a:case u:case o:case h:case d:return e;default:switch(e=e&&e.$$typeof){case l:case c:case f:case v:case p:case s:return e;default:return t}}case i:return t}}}n=Symbol.for("react.module.reference")},6900:function(e,t,n){"use strict";n(8459)},6374:function(e,t,n){"use strict";var r=n(2791),i=Symbol.for("react.element"),a=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,u=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,a={},c=null,l=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(l=t.ref),t)o.call(t,r)&&!s.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:l,props:a,_owner:u.current}}t.Fragment=a,t.jsx=c,t.jsxs=c},9117:function(e,t){"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),s=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),d=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,y={};function m(e,t,n){this.props=e,this.context=t,this.refs=y,this.updater=n||p}function g(){}function k(e,t,n){this.props=e,this.context=t,this.refs=y,this.updater=n||p}m.prototype.isReactComponent={},m.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},m.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},g.prototype=m.prototype;var b=k.prototype=new g;b.constructor=k,v(b,m.prototype),b.isPureReactComponent=!0;var w=Array.isArray,x=Object.prototype.hasOwnProperty,_={current:null},I={key:!0,ref:!0,__self:!0,__source:!0};function S(e,t,r){var i,a={},o=null,u=null;if(null!=t)for(i in void 0!==t.ref&&(u=t.ref),void 0!==t.key&&(o=""+t.key),t)x.call(t,i)&&!I.hasOwnProperty(i)&&(a[i]=t[i]);var s=arguments.length-2;if(1===s)a.children=r;else if(1<s){for(var c=Array(s),l=0;l<s;l++)c[l]=arguments[l+2];a.children=c}if(e&&e.defaultProps)for(i in s=e.defaultProps)void 0===a[i]&&(a[i]=s[i]);return{$$typeof:n,type:e,key:o,ref:u,props:a,_owner:_.current}}function E(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var T=/\/+/g;function C(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function A(e,t,i,a,o){var u=typeof e;"undefined"!==u&&"boolean"!==u||(e=null);var s=!1;if(null===e)s=!0;else switch(u){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case n:case r:s=!0}}if(s)return o=o(s=e),e=""===a?"."+C(s,0):a,w(o)?(i="",null!=e&&(i=e.replace(T,"$&/")+"/"),A(o,t,i,"",(function(e){return e}))):null!=o&&(E(o)&&(o=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,i+(!o.key||s&&s.key===o.key?"":(""+o.key).replace(T,"$&/")+"/")+e)),t.push(o)),1;if(s=0,a=""===a?".":a+":",w(e))for(var c=0;c<e.length;c++){var l=a+C(u=e[c],c);s+=A(u,t,i,l,o)}else if(l=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=d&&e[d]||e["@@iterator"])?e:null}(e),"function"===typeof l)for(e=l.call(e),c=0;!(u=e.next()).done;)s+=A(u=u.value,t,i,l=a+C(u,c++),o);else if("object"===u)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function N(e,t,n){if(null==e)return e;var r=[],i=0;return A(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function O(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var D={current:null},P={transition:null},R={ReactCurrentDispatcher:D,ReactCurrentBatchConfig:P,ReactCurrentOwner:_};t.Children={map:N,forEach:function(e,t,n){N(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return N(e,(function(){t++})),t},toArray:function(e){return N(e,(function(e){return e}))||[]},only:function(e){if(!E(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=m,t.Fragment=i,t.Profiler=o,t.PureComponent=k,t.StrictMode=a,t.Suspense=l,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=R,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=v({},e.props),a=e.key,o=e.ref,u=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,u=_.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var s=e.type.defaultProps;for(c in t)x.call(t,c)&&!I.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==s?s[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){s=Array(c);for(var l=0;l<c;l++)s[l]=arguments[l+2];i.children=s}return{$$typeof:n,type:e.type,key:a,ref:o,props:i,_owner:u}},t.createContext=function(e){return(e={$$typeof:s,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:u,_context:e},e.Consumer=e},t.createElement=S,t.createFactory=function(e){var t=S.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=E,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:O}},t.memo=function(e,t){return{$$typeof:f,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=P.transition;P.transition={};try{e()}finally{P.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return D.current.useCallback(e,t)},t.useContext=function(e){return D.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return D.current.useDeferredValue(e)},t.useEffect=function(e,t){return D.current.useEffect(e,t)},t.useId=function(){return D.current.useId()},t.useImperativeHandle=function(e,t,n){return D.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return D.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return D.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return D.current.useMemo(e,t)},t.useReducer=function(e,t,n){return D.current.useReducer(e,t,n)},t.useRef=function(e){return D.current.useRef(e)},t.useState=function(e){return D.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return D.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return D.current.useTransition()},t.version="18.2.0"},2791:function(e,t,n){"use strict";e.exports=n(9117)},184:function(e,t,n){"use strict";e.exports=n(6374)},6813:function(e,t){"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<a(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,o=i>>>1;r<o;){var u=2*(r+1)-1,s=e[u],c=u+1,l=e[c];if(0>a(s,n))c<i&&0>a(l,s)?(e[r]=l,e[c]=n,r=c):(e[r]=s,e[u]=n,r=u);else{if(!(c<i&&0>a(l,n)))break e;e[r]=l,e[c]=n,r=c}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var u=Date,s=u.now();t.unstable_now=function(){return u.now()-s}}var c=[],l=[],f=1,h=null,d=3,p=!1,v=!1,y=!1,m="function"===typeof setTimeout?setTimeout:null,g="function"===typeof clearTimeout?clearTimeout:null,k="undefined"!==typeof setImmediate?setImmediate:null;function b(e){for(var t=r(l);null!==t;){if(null===t.callback)i(l);else{if(!(t.startTime<=e))break;i(l),t.sortIndex=t.expirationTime,n(c,t)}t=r(l)}}function w(e){if(y=!1,b(e),!v)if(null!==r(c))v=!0,P(x);else{var t=r(l);null!==t&&R(w,t.startTime-e)}}function x(e,n){v=!1,y&&(y=!1,g(E),E=-1),p=!0;var a=d;try{for(b(n),h=r(c);null!==h&&(!(h.expirationTime>n)||e&&!A());){var o=h.callback;if("function"===typeof o){h.callback=null,d=h.priorityLevel;var u=o(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof u?h.callback=u:h===r(c)&&i(c),b(n)}else i(c);h=r(c)}if(null!==h)var s=!0;else{var f=r(l);null!==f&&R(w,f.startTime-n),s=!1}return s}finally{h=null,d=a,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var _,I=!1,S=null,E=-1,T=5,C=-1;function A(){return!(t.unstable_now()-C<T)}function N(){if(null!==S){var e=t.unstable_now();C=e;var n=!0;try{n=S(!0,e)}finally{n?_():(I=!1,S=null)}}else I=!1}if("function"===typeof k)_=function(){k(N)};else if("undefined"!==typeof MessageChannel){var O=new MessageChannel,D=O.port2;O.port1.onmessage=N,_=function(){D.postMessage(null)}}else _=function(){m(N,0)};function P(e){S=e,I||(I=!0,_())}function R(e,n){E=m((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){v||p||(v=!0,P(x))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(d){case 1:case 2:case 3:var t=3;break;default:t=d}var n=d;d=t;try{return e()}finally{d=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=d;d=e;try{return t()}finally{d=n}},t.unstable_scheduleCallback=function(e,i,a){var o=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?o+a:o:a=o,e){case 1:var u=-1;break;case 2:u=250;break;case 5:u=1073741823;break;case 4:u=1e4;break;default:u=5e3}return e={id:f++,callback:i,priorityLevel:e,startTime:a,expirationTime:u=a+u,sortIndex:-1},a>o?(e.sortIndex=a,n(l,e),null===r(c)&&e===r(l)&&(y?(g(E),E=-1):y=!0,R(w,a-o))):(e.sortIndex=u,n(c,e),v||p||(v=!0,P(x))),e},t.unstable_shouldYield=A,t.unstable_wrapCallback=function(e){var t=d;return function(){var n=d;d=t;try{return e.apply(this,arguments)}finally{d=n}}}},5296:function(e,t,n){"use strict";e.exports=n(6813)},1561:function(e,t,n){"use strict";var r=n(2791);var i="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},a=r.useState,o=r.useEffect,u=r.useLayoutEffect,s=r.useDebugValue;function c(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!i(e,n)}catch(r){return!0}}var l="undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement?function(e,t){return t()}:function(e,t){var n=t(),r=a({inst:{value:n,getSnapshot:t}}),i=r[0].inst,l=r[1];return u((function(){i.value=n,i.getSnapshot=t,c(i)&&l({inst:i})}),[e,n,t]),o((function(){return c(i)&&l({inst:i}),e((function(){c(i)&&l({inst:i})}))}),[e]),s(n),n};t.useSyncExternalStore=void 0!==r.useSyncExternalStore?r.useSyncExternalStore:l},7595:function(e,t,n){"use strict";var r=n(2791),i=n(7248);var a="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},o=i.useSyncExternalStore,u=r.useRef,s=r.useEffect,c=r.useMemo,l=r.useDebugValue;t.useSyncExternalStoreWithSelector=function(e,t,n,r,i){var f=u(null);if(null===f.current){var h={hasValue:!1,value:null};f.current=h}else h=f.current;f=c((function(){function e(e){if(!s){if(s=!0,o=e,e=r(e),void 0!==i&&h.hasValue){var t=h.value;if(i(t,e))return u=t}return u=e}if(t=u,a(o,e))return t;var n=r(e);return void 0!==i&&i(t,n)?t:(o=e,u=n)}var o,u,s=!1,c=void 0===n?null:n;return[function(){return e(t())},null===c?void 0:function(){return e(c())}]}),[t,n,r,i]);var d=o(e,f[0],f[1]);return s((function(){h.hasValue=!0,h.value=d}),[d]),l(d),d}},7248:function(e,t,n){"use strict";e.exports=n(1561)},327:function(e,t,n){"use strict";e.exports=n(7595)},4836:function(e){e.exports=function(e){return e&&e.__esModule?e:{default:e}},e.exports.__esModule=!0,e.exports.default=e.exports},907:function(e,t,n){"use strict";function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}n.d(t,{Z:function(){return r}})},3878:function(e,t,n){"use strict";function r(e){if(Array.isArray(e))return e}n.d(t,{Z:function(){return r}})},4942:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(9142);function i(e,t,n){return(t=(0,r.Z)(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},7462:function(e,t,n){"use strict";function r(){return r=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},r.apply(this,arguments)}n.d(t,{Z:function(){return r}})},9199:function(e,t,n){"use strict";function r(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}n.d(t,{Z:function(){return r}})},5267:function(e,t,n){"use strict";function r(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}n.d(t,{Z:function(){return r}})},3366:function(e,t,n){"use strict";function r(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}n.d(t,{Z:function(){return r}})},9439:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(3878);var i=n(181),a=n(5267);function o(e,t){return(0,r.Z)(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,u=[],s=!0,c=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=a.call(n)).done)&&(u.push(r.value),u.length!==t);s=!0);}catch(l){c=!0,i=l}finally{try{if(!s&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return u}}(e,t)||(0,i.Z)(e,t)||(0,a.Z)()}},3433:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(907);var i=n(9199),a=n(181);function o(e){return function(e){if(Array.isArray(e))return(0,r.Z)(e)}(e)||(0,i.Z)(e)||(0,a.Z)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},9142:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(1002);function i(e){var t=function(e,t){if("object"!==(0,r.Z)(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==(0,r.Z)(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===(0,r.Z)(t)?t:String(t)}},1002:function(e,t,n){"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}n.d(t,{Z:function(){return r}})},181:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(907);function i(e,t){if(e){if("string"===typeof e)return(0,r.Z)(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?(0,r.Z)(e,t):void 0}}}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={exports:{}};return e[r](a,a.exports,n),a.exports}!function(){var e,t=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__};n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var a=Object.create(null);n.r(a);var o={};e=e||[null,t({}),t([]),t(t)];for(var u=2&i&&r;"object"==typeof u&&!~e.indexOf(u);u=t(u))Object.getOwnPropertyNames(u).forEach((function(e){o[e]=function(){return r[e]}}));return o.default=function(){return r},n.d(a,o),a}}(),n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},function(){"use strict";var e={};n.r(e),n.d(e,{FirebaseError:function(){return we},SDK_VERSION:function(){return Rt},_DEFAULT_ENTRY_NAME:function(){return wt},_addComponent:function(){return St},_addOrOverwriteComponent:function(){return Et},_apps:function(){return _t},_clearComponents:function(){return Nt},_components:function(){return It},_getProvider:function(){return Ct},_registerComponent:function(){return Tt},_removeServiceInstance:function(){return At},deleteApp:function(){return Vt},getApp:function(){return Mt},getApps:function(){return Ft},initializeApp:function(){return Lt},onLog:function(){return zt},registerVersion:function(){return Ut},setLogLevel:function(){return Bt}});var t=n(2791),r=n(4164),i=n(5403),a=n(9439),o=n(3366),u=n(7462),s=n(8182),c=n(4419),l=n(1543),f=n(1388),h=n(9201),d=n(184),p=(0,h.Z)((0,d.jsx)("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"}),"Person"),v=n(5878),y=n(1217);function m(e){return(0,y.Z)("MuiAvatar",e)}(0,v.Z)("MuiAvatar",["root","colorDefault","circular","rounded","square","img","fallback"]);var g=["alt","children","className","component","imgProps","sizes","src","srcSet","variant"],k=(0,l.ZP)("div",{name:"MuiAvatar",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,t[n.variant],n.colorDefault&&t.colorDefault]}})((function(e){var t=e.theme,n=e.ownerState;return(0,u.Z)({position:"relative",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,width:40,height:40,fontFamily:t.typography.fontFamily,fontSize:t.typography.pxToRem(20),lineHeight:1,borderRadius:"50%",overflow:"hidden",userSelect:"none"},"rounded"===n.variant&&{borderRadius:(t.vars||t).shape.borderRadius},"square"===n.variant&&{borderRadius:0},n.colorDefault&&(0,u.Z)({color:(t.vars||t).palette.background.default},t.vars?{backgroundColor:t.vars.palette.Avatar.defaultBg}:{backgroundColor:"light"===t.palette.mode?t.palette.grey[400]:t.palette.grey[600]}))})),b=(0,l.ZP)("img",{name:"MuiAvatar",slot:"Img",overridesResolver:function(e,t){return t.img}})({width:"100%",height:"100%",textAlign:"center",objectFit:"cover",color:"transparent",textIndent:1e4}),w=(0,l.ZP)(p,{name:"MuiAvatar",slot:"Fallback",overridesResolver:function(e,t){return t.fallback}})({width:"75%",height:"75%"});var x=t.forwardRef((function(e,n){var r=(0,f.Z)({props:e,name:"MuiAvatar"}),i=r.alt,l=r.children,h=r.className,p=r.component,v=void 0===p?"div":p,y=r.imgProps,x=r.sizes,_=r.src,I=r.srcSet,S=r.variant,E=void 0===S?"circular":S,T=(0,o.Z)(r,g),C=null,A=function(e){var n=e.crossOrigin,r=e.referrerPolicy,i=e.src,o=e.srcSet,u=t.useState(!1),s=(0,a.Z)(u,2),c=s[0],l=s[1];return t.useEffect((function(){if(i||o){l(!1);var e=!0,t=new Image;return t.onload=function(){e&&l("loaded")},t.onerror=function(){e&&l("error")},t.crossOrigin=n,t.referrerPolicy=r,t.src=i,o&&(t.srcset=o),function(){e=!1}}}),[n,r,i,o]),c}((0,u.Z)({},y,{src:_,srcSet:I})),N=_||I,O=N&&"error"!==A,D=(0,u.Z)({},r,{colorDefault:!O,component:v,variant:E}),P=function(e){var t=e.classes,n={root:["root",e.variant,e.colorDefault&&"colorDefault"],img:["img"],fallback:["fallback"]};return(0,c.Z)(n,m,t)}(D);return C=O?(0,d.jsx)(b,(0,u.Z)({alt:i,src:_,srcSet:I,sizes:x,ownerState:D,className:P.img},y)):null!=l?l:N&&i?i[0]:(0,d.jsx)(w,{ownerState:D,className:P.fallback}),(0,d.jsx)(k,(0,u.Z)({as:v,ownerState:D,className:(0,s.Z)(P.root,h),ref:n},T,{children:C}))})),_=x,I=function(e){var t=e.avatar,n=e.Icon,r=e.title;return(0,d.jsxs)("div",{className:"headerOptions",children:[n&&(0,d.jsx)(n,{className:"headerOptions__icon"}),t&&(0,d.jsx)(_,{className:"headerOptions__icon",src:t}),(0,d.jsx)("h3",{className:"headerOptions__title",children:r})]})},S=n(7541),E=n(2216),T=n(7653),C=n(52),A=n(8128);var N=function(){return(0,d.jsx)(d.Fragment,{children:(0,d.jsxs)("div",{className:"header",children:[(0,d.jsxs)("div",{className:"header__left",children:[(0,d.jsx)("img",{src:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcR76DZru7QuUV8kXkWPFFDjujF524htHtuDKw&usqp=CAU",alt:"linkedin-logo"}),(0,d.jsxs)("div",{className:"header__search",children:[(0,d.jsx)(i.Z,{}),(0,d.jsx)("input",{type:"text"})]})]}),(0,d.jsxs)("div",{className:"header__right",children:[(0,d.jsx)(I,{Icon:S.Z,title:"Home"}),(0,d.jsx)(I,{Icon:E.Z,title:"My Network"}),(0,d.jsx)(I,{Icon:T.Z,title:"Jobs"}),(0,d.jsx)(I,{Icon:C.Z,title:"Messaging"}),(0,d.jsx)(I,{Icon:A.Z,title:"Notifications"}),(0,d.jsx)(I,{avatar:"DSC_0602-modified.png",title:"Me"})]})]})})};var O=function(){var e=function(e){return(0,d.jsxs)("div",{className:"sidebar__recentItem",children:[(0,d.jsx)("span",{className:"sidebar__hash",children:"#"}),(0,d.jsx)("p",{children:e})]})};return(0,d.jsxs)("div",{className:"sidebar",children:[(0,d.jsxs)("div",{className:"sidebar__top",children:[(0,d.jsx)("img",{src:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSKy5ZazOSI025gPRoXA2TittZnhq1A8cOW7W0sb6ek&s",alt:"trek.jpg"}),(0,d.jsx)(_,{className:"sidebar__avatar"}),(0,d.jsx)("h2",{children:"Yash Paota"}),(0,d.jsx)("h4",{children:"yashpaota@gmail.com"})]}),(0,d.jsxs)("div",{className:"sidebar__stats",children:[(0,d.jsxs)("div",{className:"sidebar__stat",children:[(0,d.jsx)("p",{children:"Who viewed you"}),(0,d.jsx)("p",{className:"sidebar__statNumber",children:"2,543"})]}),(0,d.jsxs)("div",{className:"sidebar__stat",children:[(0,d.jsx)("p",{children:"Views on Post"}),(0,d.jsx)("p",{className:"sidebar__statNumber",children:"2,432"})]})]}),(0,d.jsxs)("div",{className:"sidebar__bottom",children:[(0,d.jsx)("p",{children:" Recent"}),e("ReactJs"),e("Programming"),e("SoftwareEngineering"),e("JavaScript"),e("Developer"),e("Jaipur- Pink City"),e("Chandigarh - Beautiful City"),e("Bengaluru - Tech City"),e("Hyderabad - Cyberabad"),e("Paota"),e("Kota-Ed City"),e("Ajmer"),e("Deharadun")]})]})};var D=function(e){var t=e.Icon,n=e.title,r=e.color;return(0,d.jsxs)("div",{className:"inputOption",children:[(0,d.jsx)(t,{style:{color:r}}),(0,d.jsx)("h4",{children:n})]})},P=n(9e3),R=n(5764),L=n(7466),M=n(8196),F=n(2503),V=n(2430),j=n(9287),U=n(4949),z=n(376);var B=function(e){var t=e.name,n=e.description,r=e.message;return e.photoUrl,(0,d.jsxs)("div",{className:"post",children:[(0,d.jsxs)("div",{className:"post__header",children:[(0,d.jsx)(_,{}),(0,d.jsxs)("div",{className:"post__info",children:[(0,d.jsx)("h2",{children:t}),(0,d.jsx)("p",{children:n})]})]}),(0,d.jsx)("div",{className:"post__body",children:(0,d.jsx)("p",{children:r})}),(0,d.jsxs)("div",{className:"post__buttons",children:[(0,d.jsx)(D,{Icon:V.Z,title:"Like",color:"gray"}),(0,d.jsx)(D,{Icon:j.Z,title:"Comment",color:"gray"}),(0,d.jsx)(D,{Icon:U.Z,title:"Share",color:"gray"}),(0,d.jsx)(D,{Icon:z.Z,title:"Send",color:"gray"})]})]})},q=n(4942);function Z(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var K=n(9142);function W(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(0,K.Z)(r.key),r)}}function G(e,t,n){return t&&W(e.prototype,t),n&&W(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var H=n(181);function Q(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=(0,H.Z)(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){u=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(u)throw a}}}}function $(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Y(e,t){return Y=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Y(e,t)}function X(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Y(e,t)}function J(e){return J=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},J(e)}function ee(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}var te=n(1002);function ne(e){var t=ee();return function(){var n,r=J(e);if(t){var i=J(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===(0,te.Z)(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return $(e)}(this,n)}}function re(e,t,n){return re=ee()?Reflect.construct.bind():function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&Y(i,n.prototype),i},re.apply(null,arguments)}function ie(e){var t="function"===typeof Map?new Map:void 0;return ie=function(e){if(null===e||!function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return re(e,arguments,J(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),Y(n,e)},ie(e)}var ae=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},oe={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var a=e[i],o=i+1<e.length,u=o?e[i+1]:0,s=i+2<e.length,c=s?e[i+2]:0,l=a>>2,f=(3&a)<<4|u>>4,h=(15&u)<<2|c>>6,d=63&c;s||(d=64,o||(h=64)),r.push(n[l],n[f],n[h],n[d])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(ae(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var a=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&a)}else if(i>239&&i<365){var o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{var u=e[n++],s=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&u)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var a=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0,u=++i<e.length?n[e.charAt(i)]:64,s=++i<e.length?n[e.charAt(i)]:64;if(++i,null==a||null==o||null==u||null==s)throw Error();var c=a<<2|o>>4;if(r.push(c),64!==u){var l=o<<4&240|u>>2;if(r.push(l),64!==s){var f=u<<6&192|s;r.push(f)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},ue=function(e){return function(e){var t=ae(e);return oe.encodeByteArray(t,!0)}(e).replace(/\./g,"")},se=function(e){try{return oe.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function ce(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=ce(e[n],t[n]));return e}var le=function(){return function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__},fe=function(){try{return le()||function(){if("undefined"!==typeof process){var e={NODE_ENV:"production",PUBLIC_URL:"/ReactLinkedinClone",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0}}()||function(){if("undefined"!==typeof document){var e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(n){return}var t=e&&se(e[1]);return t&&JSON.parse(t)}}()}catch(e){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(e))}},he=function(){var e;return null===(e=fe())||void 0===e?void 0:e.config},de=function(){function e(){var t=this;Z(this,e),this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return G(e,[{key:"wrapCallback",value:function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}}}]),e}();function pe(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function ve(){var e,t=null===(e=fe())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(r){return!1}}function ye(){var e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function me(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function ge(){var e=pe();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function ke(){try{return"object"===typeof indexedDB}catch(e){return!1}}var be="FirebaseError",we=function(e){X(n,e);var t=ne(n);function n(e,r,i){var a;return Z(this,n),(a=t.call(this,r)).code=e,a.customData=i,a.name=be,Object.setPrototypeOf($(a),n.prototype),Error.captureStackTrace&&Error.captureStackTrace($(a),xe.prototype.create),a}return G(n)}(ie(Error)),xe=function(){function e(t,n,r){Z(this,e),this.service=t,this.serviceName=n,this.errors=r}return G(e,[{key:"create",value:function(e){var t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?function(e,t){return e.replace(_e,(function(e,n){var r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}(r,t):"Error",a="".concat(this.serviceName,": ").concat(i," (").concat(n,").");return new we(n,a,t)}}]),e}();var _e=/\{\$([^}]+)}/g;function Ie(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Se(e,t){if(e===t)return!0;for(var n=Object.keys(e),r=Object.keys(t),i=0,a=n;i<a.length;i++){var o=a[i];if(!r.includes(o))return!1;var u=e[o],s=t[o];if(Ee(u)&&Ee(s)){if(!Se(u,s))return!1}else if(u!==s)return!1}for(var c=0,l=r;c<l.length;c++){var f=l[c];if(!n.includes(f))return!1}return!0}function Ee(e){return null!==e&&"object"===typeof e}function Te(e){for(var t=[],n=function(){var e=(0,a.Z)(i[r],2),n=e[0],o=e[1];Array.isArray(o)?o.forEach((function(e){t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(o))},r=0,i=Object.entries(e);r<i.length;r++)n();return t.length?"&"+t.join("&"):""}function Ce(e){var t={};return e.replace(/^\?/,"").split("&").forEach((function(e){if(e){var n=e.split("="),r=(0,a.Z)(n,2),i=r[0],o=r[1];t[decodeURIComponent(i)]=decodeURIComponent(o)}})),t}function Ae(e){var t=e.indexOf("?");if(!t)return"";var n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function Ne(e,t){var n=new Oe(e,t);return n.subscribe.bind(n)}var Oe=function(){function e(t,n){var r=this;Z(this,e),this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then((function(){t(r)})).catch((function(e){r.error(e)}))}return G(e,[{key:"next",value:function(e){this.forEachObserver((function(t){t.next(e)}))}},{key:"error",value:function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)}},{key:"complete",value:function(){this.forEachObserver((function(e){e.complete()})),this.close()}},{key:"subscribe",value:function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=Q(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i in e&&"function"===typeof e[i])return!0}}catch(a){r.e(a)}finally{r.f()}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n}).next&&(r.next=De),void 0===r.error&&(r.error=De),void 0===r.complete&&(r.complete=De);var a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(e){}})),this.observers.push(r),a}},{key:"unsubscribeOne",value:function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}},{key:"forEachObserver",value:function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)}},{key:"sendOne",value:function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(r){"undefined"!==typeof console&&console.error&&console.error(r)}}))}},{key:"close",value:function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))}}]),e}();function De(){}function Pe(e){return e&&e._delegate?e._delegate:e}function Re(){Re=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(C){s=function(e,t,n){return e[t]=n}}function c(e,t,n,i){var a=t&&t.prototype instanceof h?t:h,o=Object.create(a.prototype),u=new S(i||[]);return r(o,"_invoke",{value:w(e,n,u)}),o}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(C){return{type:"throw",arg:C}}}e.wrap=c;var f={};function h(){}function d(){}function p(){}var v={};s(v,a,(function(){return this}));var y=Object.getPrototypeOf,m=y&&y(y(E([])));m&&m!==t&&n.call(m,a)&&(v=m);var g=p.prototype=h.prototype=Object.create(v);function k(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){function i(r,a,o,u){var s=l(e[r],e,a);if("throw"!==s.type){var c=s.arg,f=c.value;return f&&"object"==(0,te.Z)(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){i("next",e,o,u)}),(function(e){i("throw",e,o,u)})):t.resolve(f).then((function(e){c.value=e,o(c)}),(function(e){return i("throw",e,o,u)}))}u(s.arg)}var a;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){i(e,n,t,r)}))}return a=a?a.then(r,r):r()}})}function w(e,t,n){var r="suspendedStart";return function(i,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw a;return T()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var u=x(o,n);if(u){if(u===f)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=l(e,t,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===f)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}function x(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var i=l(r,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,f;var a=i.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function _(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function I(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function S(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(_,this),this.reset(!0)}function E(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:T}}function T(){return{value:void 0,done:!0}}return d.prototype=p,r(g,"constructor",{value:p,configurable:!0}),r(p,"constructor",{value:d,configurable:!0}),d.displayName=s(p,u,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,s(e,u,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},k(b.prototype),s(b.prototype,o,(function(){return this})),e.AsyncIterator=b,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new b(c(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},k(g),s(g,u,"Generator"),s(g,a,(function(){return this})),s(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=E,S.prototype={constructor:S,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(I),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return o.type="throw",o.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],o=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var u=n.call(a,"catchLoc"),s=n.call(a,"finallyLoc");if(u&&s){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,f):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),I(n),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;I(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:E(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},e}var Le=n(3433);function Me(e,t,n,r,i,a,o){try{var u=e[a](o),s=u.value}catch(c){return void n(c)}u.done?t(s):Promise.resolve(s).then(r,i)}function Fe(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){Me(a,r,i,o,u,"next",e)}function u(e){Me(a,r,i,o,u,"throw",e)}o(void 0)}))}}var Ve=function(){function e(t,n,r){Z(this,e),this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return G(e,[{key:"setInstantiationMode",value:function(e){return this.instantiationMode=e,this}},{key:"setMultipleInstances",value:function(e){return this.multipleInstances=e,this}},{key:"setServiceProps",value:function(e){return this.serviceProps=e,this}},{key:"setInstanceCreatedCallback",value:function(e){return this.onInstanceCreated=e,this}}]),e}(),je="[DEFAULT]",Ue=function(){function e(t,n){Z(this,e),this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return G(e,[{key:"get",value:function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new de;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(i){}}return this.instancesDeferred.get(t).promise}},{key:"getImmediate",value:function(e){var t,n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}},{key:"getComponent",value:function(){return this.component}},{key:"setComponent",value:function(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:je})}catch(c){}var t,n=Q(this.instancesDeferred.entries());try{for(n.s();!(t=n.n()).done;){var r=(0,a.Z)(t.value,2),i=r[0],o=r[1],u=this.normalizeInstanceIdentifier(i);try{var s=this.getOrInitializeService({instanceIdentifier:u});o.resolve(s)}catch(c){}}}catch(l){n.e(l)}finally{n.f()}}}},{key:"clearInstance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:je;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}},{key:"delete",value:function(){var e=Fe(Re().mark((function e(){var t;return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Array.from(this.instances.values()),e.next=3,Promise.all([].concat((0,Le.Z)(t.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()}))),(0,Le.Z)(t.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"isComponentSet",value:function(){return null!=this.component}},{key:"isInitialized",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:je;return this.instances.has(e)}},{key:"getOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:je;return this.instancesOptions.get(e)||{}}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.options,n=void 0===t?{}:t,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error("".concat(this.name,"(").concat(r,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));var i,o=this.getOrInitializeService({instanceIdentifier:r,options:n}),u=Q(this.instancesDeferred.entries());try{for(u.s();!(i=u.n()).done;){var s=(0,a.Z)(i.value,2),c=s[0],l=s[1];r===this.normalizeInstanceIdentifier(c)&&l.resolve(o)}}catch(f){u.e(f)}finally{u.f()}return o}},{key:"onInit",value:function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var a=this.instances.get(r);return a&&e(a,r),function(){i.delete(e)}}},{key:"invokeOnInitCallbacks",value:function(e,t){var n=this.onInitCallbacks.get(t);if(n){var r,i=Q(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;try{a(e,t)}catch(X_){}}}catch(o){i.e(o)}finally{i.f()}}}},{key:"getOrInitializeService",value:function(e){var t,n=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,a=this.instances.get(n);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,t===je?void 0:t),options:i}),this.instances.set(n,a),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(a,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,a)}catch(X_){}return a||null}},{key:"normalizeInstanceIdentifier",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:je;return this.component?this.component.multipleInstances?e:je:e}},{key:"shouldAutoInitialize",value:function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}]),e}();var ze,Be,qe=function(){function e(t){Z(this,e),this.name=t,this.providers=new Map}return G(e,[{key:"addComponent",value:function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}},{key:"addOrOverwriteComponent",value:function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}},{key:"getProvider",value:function(e){if(this.providers.has(e))return this.providers.get(e);var t=new Ue(e,this);return this.providers.set(e,t),t}},{key:"getProviders",value:function(){return Array.from(this.providers.values())}}]),e}(),Ze=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(Be||(Be={}));var Ke={debug:Be.DEBUG,verbose:Be.VERBOSE,info:Be.INFO,warn:Be.WARN,error:Be.ERROR,silent:Be.SILENT},We=Be.INFO,Ge=(ze={},(0,q.Z)(ze,Be.DEBUG,"log"),(0,q.Z)(ze,Be.VERBOSE,"log"),(0,q.Z)(ze,Be.INFO,"info"),(0,q.Z)(ze,Be.WARN,"warn"),(0,q.Z)(ze,Be.ERROR,"error"),ze),He=function(e,t){if(!(t<e.logLevel)){var n=(new Date).toISOString(),r=Ge[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i,a=arguments.length,o=new Array(a>2?a-2:0),u=2;u<a;u++)o[u-2]=arguments[u];(i=console)[r].apply(i,["[".concat(n,"]  ").concat(e.name,":")].concat(o))}},Qe=function(){function e(t){Z(this,e),this.name=t,this._logLevel=We,this._logHandler=He,this._userLogHandler=null,Ze.push(this)}return G(e,[{key:"logLevel",get:function(){return this._logLevel},set:function(e){if(!(e in Be))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}},{key:"setLogLevel",value:function(e){this._logLevel="string"===typeof e?Ke[e]:e}},{key:"logHandler",get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}},{key:"userLogHandler",get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Be.DEBUG].concat(t)),this._logHandler.apply(this,[this,Be.DEBUG].concat(t))}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Be.VERBOSE].concat(t)),this._logHandler.apply(this,[this,Be.VERBOSE].concat(t))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Be.INFO].concat(t)),this._logHandler.apply(this,[this,Be.INFO].concat(t))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Be.WARN].concat(t)),this._logHandler.apply(this,[this,Be.WARN].concat(t))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Be.ERROR].concat(t)),this._logHandler.apply(this,[this,Be.ERROR].concat(t))}}]),e}();function $e(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ye(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$e(Object(n),!0).forEach((function(t){(0,q.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$e(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Xe,Je,et=function(e,t){return t.some((function(t){return e instanceof t}))};var tt=new WeakMap,nt=new WeakMap,rt=new WeakMap,it=new WeakMap,at=new WeakMap;var ot={get:function(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return nt.get(e);if("objectStoreNames"===t)return e.objectStoreNames||rt.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ct(e[t])},set:function(e,t,n){return e[t]=n,!0},has:function(e,t){return e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e}};function ut(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(Je||(Je=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(lt(this),n),ct(tt.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return ct(e.apply(lt(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var a=e.call.apply(e,[lt(this),t].concat(r));return rt.set(a,t.sort?t.sort():[t]),ct(a)}}function st(e){return"function"===typeof e?ut(e):(e instanceof IDBTransaction&&function(e){if(!nt.has(e)){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("complete",i),e.removeEventListener("error",a),e.removeEventListener("abort",a)},i=function(){t(),r()},a=function(){n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",a),e.addEventListener("abort",a)}));nt.set(e,t)}}(e),et(e,Xe||(Xe=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(e,ot):e)}function ct(e){if(e instanceof IDBRequest)return function(e){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("success",i),e.removeEventListener("error",a)},i=function(){t(ct(e.result)),r()},a=function(){n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",a)}));return t.then((function(t){t instanceof IDBCursor&&tt.set(t,e)})).catch((function(){})),at.set(t,e),t}(e);if(it.has(e))return it.get(e);var t=st(e);return t!==e&&(it.set(e,t),at.set(t,e)),t}var lt=function(e){return at.get(e)};var ft,ht,dt=["get","getKey","getAll","getAllKeys","count"],pt=["put","add","delete","clear"],vt=new Map;function yt(e,t){if(e instanceof IDBDatabase&&!(t in e)&&"string"===typeof t){if(vt.get(t))return vt.get(t);var n=t.replace(/FromIndex$/,""),r=t!==n,i=pt.includes(n);if(n in(r?IDBIndex:IDBObjectStore).prototype&&(i||dt.includes(n))){var a=function(){var e=Fe(Re().mark((function e(t){var a,o,u,s,c,l,f=arguments;return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(o=this.transaction(t,i?"readwrite":"readonly"),u=o.store,s=f.length,c=new Array(s>1?s-1:0),l=1;l<s;l++)c[l-1]=f[l];return r&&(u=u.index(c.shift())),e.next=6,Promise.all([(a=u)[n].apply(a,c),i&&o.done]);case 6:return e.abrupt("return",e.sent[0]);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}();return vt.set(t,a),a}}}ot=function(e){return Ye(Ye({},e),{},{get:function(t,n,r){return yt(t,n)||e.get(t,n,r)},has:function(t,n){return!!yt(t,n)||e.has(t,n)}})}(ot);var mt=function(){function e(t){Z(this,e),this.container=t}return G(e,[{key:"getPlatformInfoString",value:function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){var t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((function(e){return e})).join(" ")}}]),e}();var gt="@firebase/app",kt="0.9.3",bt=new Qe("@firebase/app"),wt="[DEFAULT]",xt=(ft={},(0,q.Z)(ft,gt,"fire-core"),(0,q.Z)(ft,"@firebase/app-compat","fire-core-compat"),(0,q.Z)(ft,"@firebase/analytics","fire-analytics"),(0,q.Z)(ft,"@firebase/analytics-compat","fire-analytics-compat"),(0,q.Z)(ft,"@firebase/app-check","fire-app-check"),(0,q.Z)(ft,"@firebase/app-check-compat","fire-app-check-compat"),(0,q.Z)(ft,"@firebase/auth","fire-auth"),(0,q.Z)(ft,"@firebase/auth-compat","fire-auth-compat"),(0,q.Z)(ft,"@firebase/database","fire-rtdb"),(0,q.Z)(ft,"@firebase/database-compat","fire-rtdb-compat"),(0,q.Z)(ft,"@firebase/functions","fire-fn"),(0,q.Z)(ft,"@firebase/functions-compat","fire-fn-compat"),(0,q.Z)(ft,"@firebase/installations","fire-iid"),(0,q.Z)(ft,"@firebase/installations-compat","fire-iid-compat"),(0,q.Z)(ft,"@firebase/messaging","fire-fcm"),(0,q.Z)(ft,"@firebase/messaging-compat","fire-fcm-compat"),(0,q.Z)(ft,"@firebase/performance","fire-perf"),(0,q.Z)(ft,"@firebase/performance-compat","fire-perf-compat"),(0,q.Z)(ft,"@firebase/remote-config","fire-rc"),(0,q.Z)(ft,"@firebase/remote-config-compat","fire-rc-compat"),(0,q.Z)(ft,"@firebase/storage","fire-gcs"),(0,q.Z)(ft,"@firebase/storage-compat","fire-gcs-compat"),(0,q.Z)(ft,"@firebase/firestore","fire-fst"),(0,q.Z)(ft,"@firebase/firestore-compat","fire-fst-compat"),(0,q.Z)(ft,"fire-js","fire-js"),(0,q.Z)(ft,"firebase","fire-js-all"),ft),_t=new Map,It=new Map;function St(e,t){try{e.container.addComponent(t)}catch(n){bt.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function Et(e,t){e.container.addOrOverwriteComponent(t)}function Tt(e){var t=e.name;if(It.has(t))return bt.debug("There were multiple attempts to register component ".concat(t,".")),!1;It.set(t,e);var n,r=Q(_t.values());try{for(r.s();!(n=r.n()).done;){St(n.value,e)}}catch(i){r.e(i)}finally{r.f()}return!0}function Ct(e,t){var n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function At(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:wt;Ct(e,t).clearInstance(n)}function Nt(){It.clear()}var Ot=(ht={},(0,q.Z)(ht,"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),(0,q.Z)(ht,"bad-app-name","Illegal App name: '{$appName}"),(0,q.Z)(ht,"duplicate-app","Firebase App named '{$appName}' already exists with different options or config"),(0,q.Z)(ht,"app-deleted","Firebase App named '{$appName}' already deleted"),(0,q.Z)(ht,"no-options","Need to provide options, when not being deployed to hosting via source."),(0,q.Z)(ht,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),(0,q.Z)(ht,"invalid-log-argument","First argument to `onLog` must be null or a function."),(0,q.Z)(ht,"idb-open","Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}."),(0,q.Z)(ht,"idb-get","Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}."),(0,q.Z)(ht,"idb-set","Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}."),(0,q.Z)(ht,"idb-delete","Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."),ht),Dt=new xe("app","Firebase",Ot),Pt=function(){function e(t,n,r){var i=this;Z(this,e),this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ve("app",(function(){return i}),"PUBLIC"))}return G(e,[{key:"automaticDataCollectionEnabled",get:function(){return this.checkDestroyed(),this._automaticDataCollectionEnabled},set:function(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this.checkDestroyed(),this._name}},{key:"options",get:function(){return this.checkDestroyed(),this._options}},{key:"config",get:function(){return this.checkDestroyed(),this._config}},{key:"container",get:function(){return this._container}},{key:"isDeleted",get:function(){return this._isDeleted},set:function(e){this._isDeleted=e}},{key:"checkDestroyed",value:function(){if(this.isDeleted)throw Dt.create("app-deleted",{appName:this._name})}}]),e}(),Rt="9.17.1";function Lt(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;"object"!==typeof t&&(t={name:t});var r=Object.assign({name:wt,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw Dt.create("bad-app-name",{appName:String(i)});if(n||(n=he()),!n)throw Dt.create("no-options");var a=_t.get(i);if(a){if(Se(n,a.options)&&Se(r,a.config))return a;throw Dt.create("duplicate-app",{appName:i})}var o,u=new qe(i),s=Q(It.values());try{for(s.s();!(o=s.n()).done;){var c=o.value;u.addComponent(c)}}catch(f){s.e(f)}finally{s.f()}var l=new Pt(n,r,u);return _t.set(i,l),l}function Mt(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:wt,t=_t.get(e);if(!t&&e===wt)return Lt();if(!t)throw Dt.create("no-app",{appName:e});return t}function Ft(){return Array.from(_t.values())}function Vt(e){return jt.apply(this,arguments)}function jt(){return(jt=Fe(Re().mark((function e(t){var n;return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.name,!_t.has(n)){e.next=6;break}return _t.delete(n),e.next=5,Promise.all(t.container.getProviders().map((function(e){return e.delete()})));case 5:t.isDeleted=!0;case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ut(e,t,n){var r,i=null!==(r=xt[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));var a=i.match(/\s|\//),o=t.match(/\s|\//);if(a||o){var u=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return a&&u.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),a&&o&&u.push("and"),o&&u.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void bt.warn(u.join(" "))}Tt(new Ve("".concat(i,"-version"),(function(){return{library:i,version:t}}),"VERSION"))}function zt(e,t){if(null!==e&&"function"!==typeof e)throw Dt.create("invalid-log-argument");!function(e,t){var n,r=Q(Ze);try{var i=function(){var r=n.value,i=null;t&&t.level&&(i=Ke[t.level]),r.userLogHandler=null===e?null:function(t,n){for(var r=arguments.length,a=new Array(r>2?r-2:0),o=2;o<r;o++)a[o-2]=arguments[o];var u=a.map((function(e){if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((function(e){return e})).join(" ");n>=(null!==i&&void 0!==i?i:t.logLevel)&&e({level:Be[n].toLowerCase(),message:u,args:a,type:t.name})}};for(r.s();!(n=r.n()).done;)i()}catch(a){r.e(a)}finally{r.f()}}(e,t)}function Bt(e){var t;t=e,Ze.forEach((function(e){e.setLogLevel(t)}))}var qt="firebase-heartbeat-database",Zt=1,Kt="firebase-heartbeat-store",Wt=null;function Gt(){return Wt||(Wt=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.blocked,i=n.upgrade,a=n.blocking,o=n.terminated,u=indexedDB.open(e,t),s=ct(u);return i&&u.addEventListener("upgradeneeded",(function(e){i(ct(u.result),e.oldVersion,e.newVersion,ct(u.transaction))})),r&&u.addEventListener("blocked",(function(){return r()})),s.then((function(e){o&&e.addEventListener("close",(function(){return o()})),a&&e.addEventListener("versionchange",(function(){return a()}))})).catch((function(){})),s}(qt,Zt,{upgrade:function(e,t){if(0===t)e.createObjectStore(Kt)}}).catch((function(e){throw Dt.create("idb-open",{originalErrorMessage:e.message})}))),Wt}function Ht(e){return Qt.apply(this,arguments)}function Qt(){return Qt=Fe(Re().mark((function e(t){var n,r;return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Gt();case 3:return n=e.sent,e.abrupt("return",n.transaction(Kt).objectStore(Kt).get(Xt(t)));case 7:e.prev=7,e.t0=e.catch(0),e.t0 instanceof we?bt.warn(e.t0.message):(r=Dt.create("idb-get",{originalErrorMessage:null===e.t0||void 0===e.t0?void 0:e.t0.message}),bt.warn(r.message));case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),Qt.apply(this,arguments)}function $t(e,t){return Yt.apply(this,arguments)}function Yt(){return Yt=Fe(Re().mark((function e(t,n){var r,i,a,o;return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Gt();case 3:return r=e.sent,i=r.transaction(Kt,"readwrite"),a=i.objectStore(Kt),e.next=8,a.put(n,Xt(t));case 8:return e.abrupt("return",i.done);case 11:e.prev=11,e.t0=e.catch(0),e.t0 instanceof we?bt.warn(e.t0.message):(o=Dt.create("idb-set",{originalErrorMessage:null===e.t0||void 0===e.t0?void 0:e.t0.message}),bt.warn(o.message));case 14:case"end":return e.stop()}}),e,null,[[0,11]])}))),Yt.apply(this,arguments)}function Xt(e){return"".concat(e.name,"!").concat(e.options.appId)}var Jt=1024,en=function(){function e(t){var n=this;Z(this,e),this.container=t,this._heartbeatsCache=null;var r=this.container.getProvider("app").getImmediate();this._storage=new on(r),this._heartbeatsCachePromise=this._storage.read().then((function(e){return n._heartbeatsCache=e,e}))}return G(e,[{key:"triggerHeartbeat",value:function(){var e=Fe(Re().mark((function e(){var t,n,r;return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.container.getProvider("platform-logger").getImmediate(),n=t.getPlatformInfoString(),r=tn(),null!==this._heartbeatsCache){e.next=7;break}return e.next=6,this._heartbeatsCachePromise;case 6:this._heartbeatsCache=e.sent;case 7:if(this._heartbeatsCache.lastSentHeartbeatDate!==r&&!this._heartbeatsCache.heartbeats.some((function(e){return e.date===r}))){e.next=11;break}return e.abrupt("return");case 11:this._heartbeatsCache.heartbeats.push({date:r,agent:n});case 12:return this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((function(e){var t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),e.abrupt("return",this._storage.overwrite(this._heartbeatsCache));case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getHeartbeatsHeader",value:function(){var e=Fe(Re().mark((function e(){var t,n,r,i,a;return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==this._heartbeatsCache){e.next=3;break}return e.next=3,this._heartbeatsCachePromise;case 3:if(null!==this._heartbeatsCache&&0!==this._heartbeatsCache.heartbeats.length){e.next=5;break}return e.abrupt("return","");case 5:if(t=tn(),n=nn(this._heartbeatsCache.heartbeats),r=n.heartbeatsToSend,i=n.unsentEntries,a=ue(JSON.stringify({version:2,heartbeats:r})),this._heartbeatsCache.lastSentHeartbeatDate=t,!(i.length>0)){e.next=15;break}return this._heartbeatsCache.heartbeats=i,e.next=13,this._storage.overwrite(this._heartbeatsCache);case 13:e.next=17;break;case 15:this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache);case 17:return e.abrupt("return",a);case 18:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function tn(){return(new Date).toISOString().substring(0,10)}function nn(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Jt,r=[],i=e.slice(),a=Q(e);try{var o=function(){var e=t.value,a=r.find((function(t){return t.agent===e.agent}));if(a){if(a.dates.push(e.date),un(r)>n)return a.dates.pop(),"break"}else if(r.push({agent:e.agent,dates:[e.date]}),un(r)>n)return r.pop(),"break";i=i.slice(1)};for(a.s();!(t=a.n()).done;){if("break"===o())break}}catch(u){a.e(u)}finally{a.f()}return{heartbeatsToSend:r,unsentEntries:i}}var rn,an,on=function(){function e(t){Z(this,e),this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}return G(e,[{key:"runIndexedDBEnvironmentCheck",value:function(){var e=Fe(Re().mark((function e(){return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(ke()){e.next=4;break}return e.abrupt("return",!1);case 4:return e.abrupt("return",new Promise((function(e,t){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(a){t(a)}})).then((function(){return!0})).catch((function(){return!1})));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"read",value:function(){var e=Fe(Re().mark((function e(){var t;return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return",{heartbeats:[]});case 7:return e.next=9,Ht(this.app);case 9:return t=e.sent,e.abrupt("return",t||{heartbeats:[]});case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"overwrite",value:function(){var e=Fe(Re().mark((function e(t){var n,r;return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",$t(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:t.heartbeats}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"add",value:function(){var e=Fe(Re().mark((function e(t){var n,r;return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",$t(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:[].concat((0,Le.Z)(r.heartbeats),(0,Le.Z)(t.heartbeats))}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();function un(e){return ue(JSON.stringify({version:2,heartbeats:e})).length}rn="",Tt(new Ve("platform-logger",(function(e){return new mt(e)}),"PRIVATE")),Tt(new Ve("heartbeat",(function(e){return new en(e)}),"PRIVATE")),Ut(gt,kt,rn),Ut(gt,kt,"esm2017"),Ut("fire-js","");var sn=function(){function e(t,n){var r=this;Z(this,e),this._delegate=t,this.firebase=n,St(t,new Ve("app-compat",(function(){return r}),"PUBLIC")),this.container=t.container}return G(e,[{key:"automaticDataCollectionEnabled",get:function(){return this._delegate.automaticDataCollectionEnabled},set:function(e){this._delegate.automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this._delegate.name}},{key:"options",get:function(){return this._delegate.options}},{key:"delete",value:function(){var e=this;return new Promise((function(t){e._delegate.checkDestroyed(),t()})).then((function(){return e.firebase.INTERNAL.removeApp(e.name),Vt(e._delegate)}))}},{key:"_getService",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:wt;this._delegate.checkDestroyed();var r=this._delegate.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(t=r.getComponent())||void 0===t?void 0:t.instantiationMode)||r.initialize(),r.getImmediate({identifier:n})}},{key:"_removeServiceInstance",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:wt;this._delegate.container.getProvider(e).clearInstance(t)}},{key:"_addComponent",value:function(e){St(this._delegate,e)}},{key:"_addOrOverwriteComponent",value:function(e){Et(this._delegate,e)}},{key:"toJSON",value:function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}]),e}(),cn=(an={},(0,q.Z)(an,"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),(0,q.Z)(an,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),an),ln=new xe("app-compat","Firebase",cn);var fn=function t(){var n=function(t){var n={},r={__esModule:!0,initializeApp:function(e){var i=Lt(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});if(Ie(n,i.name))return n[i.name];var a=new t(i,r);return n[i.name]=a,a},app:i,registerVersion:Ut,setLogLevel:Bt,onLog:zt,apps:null,SDK_VERSION:Rt,INTERNAL:{registerComponent:function(e){var n=e.name,a=n.replace("-compat","");if(Tt(e)&&"PUBLIC"===e.type){var o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i();if("function"!==typeof e[a])throw ln.create("invalid-app-argument",{appName:n});return e[a]()};void 0!==e.serviceProps&&ce(o,e.serviceProps),r[a]=o,t.prototype[a]=function(){for(var t=this._getService.bind(this,n),r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return t.apply(this,e.multipleInstances?i:[])}}return"PUBLIC"===e.type?r[a]:null},removeApp:function(e){delete n[e]},useAsService:function(e,t){return"serverAuth"===t?null:t},modularAPIs:e}};function i(e){if(!Ie(n,e=e||wt))throw ln.create("no-app",{appName:e});return n[e]}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(n).map((function(e){return n[e]}))}}),i.App=t,r}(sn);return n.INTERNAL=Object.assign(Object.assign({},n.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(e){ce(n,e)},createSubscribe:Ne,ErrorFactory:xe,deepExtend:ce}),n}(),hn=new Qe("@firebase/app-compat"),dn="@firebase/app-compat",pn="0.2.3";if("object"===typeof self&&self.self===self&&void 0!==self.firebase){hn.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var vn=self.firebase.SDK_VERSION;vn&&vn.indexOf("LITE")>=0&&hn.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var yn=fn;!function(e){Ut(dn,pn,e)}();yn.registerVersion("firebase","9.17.1","app-compat");var mn=n(3878),gn=n(9199),kn=n(5267);function bn(){return bn="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=J(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},bn.apply(this,arguments)}function wn(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;var xn;Object.create;var _n={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},In={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};function Sn(){return(0,q.Z)({},"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.")}var En=function(){var e;return e={},(0,q.Z)(e,"admin-restricted-operation","This operation is restricted to administrators only."),(0,q.Z)(e,"argument-error",""),(0,q.Z)(e,"app-not-authorized","This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console."),(0,q.Z)(e,"app-not-installed","The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device."),(0,q.Z)(e,"captcha-check-failed","The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains."),(0,q.Z)(e,"code-expired","The SMS code has expired. Please re-send the verification code to try again."),(0,q.Z)(e,"cordova-not-ready","Cordova framework is not ready."),(0,q.Z)(e,"cors-unsupported","This browser is not supported."),(0,q.Z)(e,"credential-already-in-use","This credential is already associated with a different user account."),(0,q.Z)(e,"custom-token-mismatch","The custom token corresponds to a different audience."),(0,q.Z)(e,"requires-recent-login","This operation is sensitive and requires recent authentication. Log in again before retrying this request."),(0,q.Z)(e,"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."),(0,q.Z)(e,"dynamic-link-not-activated","Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions."),(0,q.Z)(e,"email-change-needs-verification","Multi-factor users must always have a verified email."),(0,q.Z)(e,"email-already-in-use","The email address is already in use by another account."),(0,q.Z)(e,"emulator-config-failed",'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.'),(0,q.Z)(e,"expired-action-code","The action code has expired."),(0,q.Z)(e,"cancelled-popup-request","This operation has been cancelled due to another conflicting popup being opened."),(0,q.Z)(e,"internal-error","An internal AuthError has occurred."),(0,q.Z)(e,"invalid-app-credential","The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired."),(0,q.Z)(e,"invalid-app-id","The mobile app identifier is not registed for the current project."),(0,q.Z)(e,"invalid-user-token","This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key."),(0,q.Z)(e,"invalid-auth-event","An internal AuthError has occurred."),(0,q.Z)(e,"invalid-verification-code","The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user."),(0,q.Z)(e,"invalid-continue-uri","The continue URL provided in the request is invalid."),(0,q.Z)(e,"invalid-cordova-configuration","The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme."),(0,q.Z)(e,"invalid-custom-token","The custom token format is incorrect. Please check the documentation."),(0,q.Z)(e,"invalid-dynamic-link-domain","The provided dynamic link domain is not configured or authorized for the current project."),(0,q.Z)(e,"invalid-email","The email address is badly formatted."),(0,q.Z)(e,"invalid-emulator-scheme","Emulator URL must start with a valid scheme (http:// or https://)."),(0,q.Z)(e,"invalid-api-key","Your API key is invalid, please check you have copied it correctly."),(0,q.Z)(e,"invalid-cert-hash","The SHA-1 certificate hash provided is invalid."),(0,q.Z)(e,"invalid-credential","The supplied auth credential is malformed or has expired."),(0,q.Z)(e,"invalid-message-payload","The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console."),(0,q.Z)(e,"invalid-multi-factor-session","The request does not contain a valid proof of first factor successful sign-in."),(0,q.Z)(e,"invalid-oauth-provider","EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers."),(0,q.Z)(e,"invalid-oauth-client-id","The OAuth client ID provided is either invalid or does not match the specified API key."),(0,q.Z)(e,"unauthorized-domain","This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console."),(0,q.Z)(e,"invalid-action-code","The action code is invalid. This can happen if the code is malformed, expired, or has already been used."),(0,q.Z)(e,"wrong-password","The password is invalid or the user does not have a password."),(0,q.Z)(e,"invalid-persistence-type","The specified persistence type is invalid. It can only be local, session or none."),(0,q.Z)(e,"invalid-phone-number","The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code]."),(0,q.Z)(e,"invalid-provider-id","The specified provider ID is invalid."),(0,q.Z)(e,"invalid-recipient-email","The email corresponding to this action failed to send as the provided recipient email address is invalid."),(0,q.Z)(e,"invalid-sender","The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console."),(0,q.Z)(e,"invalid-verification-id","The verification ID used to create the phone auth credential is invalid."),(0,q.Z)(e,"invalid-tenant-id","The Auth instance's tenant ID is invalid."),(0,q.Z)(e,"login-blocked","Login blocked by user-provided method: {$originalMessage}"),(0,q.Z)(e,"missing-android-pkg-name","An Android Package Name must be provided if the Android App is required to be installed."),(0,q.Z)(e,"auth-domain-config-required","Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console."),(0,q.Z)(e,"missing-app-credential","The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided."),(0,q.Z)(e,"missing-verification-code","The phone auth credential was created with an empty SMS verification code."),(0,q.Z)(e,"missing-continue-uri","A continue URL must be provided in the request."),(0,q.Z)(e,"missing-iframe-start","An internal AuthError has occurred."),(0,q.Z)(e,"missing-ios-bundle-id","An iOS Bundle ID must be provided if an App Store ID is provided."),(0,q.Z)(e,"missing-or-invalid-nonce","The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload."),(0,q.Z)(e,"missing-multi-factor-info","No second factor identifier is provided."),(0,q.Z)(e,"missing-multi-factor-session","The request is missing proof of first factor successful sign-in."),(0,q.Z)(e,"missing-phone-number","To send verification codes, provide a phone number for the recipient."),(0,q.Z)(e,"missing-verification-id","The phone auth credential was created with an empty verification ID."),(0,q.Z)(e,"app-deleted","This instance of FirebaseApp has been deleted."),(0,q.Z)(e,"multi-factor-info-not-found","The user does not have a second factor matching the identifier provided."),(0,q.Z)(e,"multi-factor-auth-required","Proof of ownership of a second factor is required to complete sign-in."),(0,q.Z)(e,"account-exists-with-different-credential","An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address."),(0,q.Z)(e,"network-request-failed","A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred."),(0,q.Z)(e,"no-auth-event","An internal AuthError has occurred."),(0,q.Z)(e,"no-such-provider","User was not linked to an account with the given provider."),(0,q.Z)(e,"null-user","A null user object was provided as the argument for an operation which requires a non-null user object."),(0,q.Z)(e,"operation-not-allowed","The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section."),(0,q.Z)(e,"operation-not-supported-in-this-environment",'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.'),(0,q.Z)(e,"popup-blocked","Unable to establish a connection with the popup. It may have been blocked by the browser."),(0,q.Z)(e,"popup-closed-by-user","The popup has been closed by the user before finalizing the operation."),(0,q.Z)(e,"provider-already-linked","User can only be linked to one identity for the given provider."),(0,q.Z)(e,"quota-exceeded","The project's quota for this operation has been exceeded."),(0,q.Z)(e,"redirect-cancelled-by-user","The redirect operation has been cancelled by the user before finalizing."),(0,q.Z)(e,"redirect-operation-pending","A redirect sign-in operation is already pending."),(0,q.Z)(e,"rejected-credential","The request contains malformed or mismatching credentials."),(0,q.Z)(e,"second-factor-already-in-use","The second factor is already enrolled on this account."),(0,q.Z)(e,"maximum-second-factor-count-exceeded","The maximum allowed number of second factors on a user has been exceeded."),(0,q.Z)(e,"tenant-id-mismatch","The provided tenant ID does not match the Auth instance's tenant ID"),(0,q.Z)(e,"timeout","The operation has timed out."),(0,q.Z)(e,"user-token-expired","The user's credential is no longer valid. The user must sign in again."),(0,q.Z)(e,"too-many-requests","We have blocked all requests from this device due to unusual activity. Try again later."),(0,q.Z)(e,"unauthorized-continue-uri","The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console."),(0,q.Z)(e,"unsupported-first-factor","Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor."),(0,q.Z)(e,"unsupported-persistence-type","The current environment does not support the specified persistence type."),(0,q.Z)(e,"unsupported-tenant-operation","This operation is not supported in a multi-tenant context."),(0,q.Z)(e,"unverified-email","The operation requires a verified email."),(0,q.Z)(e,"user-cancelled","The user did not grant your application the permissions it requested."),(0,q.Z)(e,"user-not-found","There is no user record corresponding to this identifier. The user may have been deleted."),(0,q.Z)(e,"user-disabled","The user account has been disabled by an administrator."),(0,q.Z)(e,"user-mismatch","The supplied credentials do not correspond to the previously signed in user."),(0,q.Z)(e,"user-signed-out",""),(0,q.Z)(e,"weak-password","The password must be 6 characters long or more."),(0,q.Z)(e,"web-storage-unsupported","This browser is not supported or 3rd party cookies and data may be disabled."),(0,q.Z)(e,"already-initialized","initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."),e},Tn=Sn,Cn=new xe("auth","Firebase",Sn()),An=new Qe("@firebase/auth");function Nn(e){if(An.logLevel<=Be.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];An.error.apply(An,["Auth (".concat(Rt,"): ").concat(e)].concat(n))}}function On(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Ln.apply(void 0,[e].concat(n))}function Dn(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Ln.apply(void 0,[e].concat(n))}function Pn(e,t,n){var r=Object.assign(Object.assign({},Tn()),(0,q.Z)({},t,n));return new xe("auth","Firebase",r).create(t,{appName:e.name})}function Rn(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&On(e,"argument-error"),Pn(e,"argument-error","Type of ".concat(t.constructor.name," does not match expected instance.")+"Did you pass a reference from a different Auth SDK?")}function Ln(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){var i,a=n[0],o=(0,Le.Z)(n.slice(1));return o[0]&&(o[0].appName=e.name),(i=e._errorFactory).create.apply(i,[a].concat((0,Le.Z)(o)))}return Cn.create.apply(Cn,[e].concat(n))}function Mn(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw Ln.apply(void 0,[t].concat(r))}}function Fn(e){var t="INTERNAL ASSERTION FAILED: "+e;throw Nn(t),new Error(t)}function Vn(e,t){e||Fn(t)}var jn=new Map;function Un(e){Vn(e instanceof Function,"Expected a class definition");var t=jn.get(e);return t?(Vn(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,jn.set(e,t),t)}function zn(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function Bn(){return"http:"===qn()||"https:"===qn()}function qn(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}var Zn=function(){function e(t,n){Z(this,e),this.shortDelay=t,this.longDelay=n,Vn(n>t,"Short delay should be less than long delay!"),this.isMobile="undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(pe())||me()}return G(e,[{key:"get",value:function(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(Bn()||ye()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}]),e}();function Kn(e,t){Vn(e.emulator,"Emulator should always be set here");var n=e.emulator.url;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}var Wn=function(){function e(){Z(this,e)}return G(e,null,[{key:"initialize",value:function(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}},{key:"fetch",value:function(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:void Fn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"headers",value:function(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:void Fn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"response",value:function(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:void Fn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}]),e}(),Gn=(xn={},(0,q.Z)(xn,"CREDENTIAL_MISMATCH","custom-token-mismatch"),(0,q.Z)(xn,"MISSING_CUSTOM_TOKEN","internal-error"),(0,q.Z)(xn,"INVALID_IDENTIFIER","invalid-email"),(0,q.Z)(xn,"MISSING_CONTINUE_URI","internal-error"),(0,q.Z)(xn,"INVALID_PASSWORD","wrong-password"),(0,q.Z)(xn,"MISSING_PASSWORD","internal-error"),(0,q.Z)(xn,"EMAIL_EXISTS","email-already-in-use"),(0,q.Z)(xn,"PASSWORD_LOGIN_DISABLED","operation-not-allowed"),(0,q.Z)(xn,"INVALID_IDP_RESPONSE","invalid-credential"),(0,q.Z)(xn,"INVALID_PENDING_TOKEN","invalid-credential"),(0,q.Z)(xn,"FEDERATED_USER_ID_ALREADY_LINKED","credential-already-in-use"),(0,q.Z)(xn,"MISSING_REQ_TYPE","internal-error"),(0,q.Z)(xn,"EMAIL_NOT_FOUND","user-not-found"),(0,q.Z)(xn,"RESET_PASSWORD_EXCEED_LIMIT","too-many-requests"),(0,q.Z)(xn,"EXPIRED_OOB_CODE","expired-action-code"),(0,q.Z)(xn,"INVALID_OOB_CODE","invalid-action-code"),(0,q.Z)(xn,"MISSING_OOB_CODE","internal-error"),(0,q.Z)(xn,"CREDENTIAL_TOO_OLD_LOGIN_AGAIN","requires-recent-login"),(0,q.Z)(xn,"INVALID_ID_TOKEN","invalid-user-token"),(0,q.Z)(xn,"TOKEN_EXPIRED","user-token-expired"),(0,q.Z)(xn,"USER_NOT_FOUND","user-token-expired"),(0,q.Z)(xn,"TOO_MANY_ATTEMPTS_TRY_LATER","too-many-requests"),(0,q.Z)(xn,"INVALID_CODE","invalid-verification-code"),(0,q.Z)(xn,"INVALID_SESSION_INFO","invalid-verification-id"),(0,q.Z)(xn,"INVALID_TEMPORARY_PROOF","invalid-credential"),(0,q.Z)(xn,"MISSING_SESSION_INFO","missing-verification-id"),(0,q.Z)(xn,"SESSION_EXPIRED","code-expired"),(0,q.Z)(xn,"MISSING_ANDROID_PACKAGE_NAME","missing-android-pkg-name"),(0,q.Z)(xn,"UNAUTHORIZED_DOMAIN","unauthorized-continue-uri"),(0,q.Z)(xn,"INVALID_OAUTH_CLIENT_ID","invalid-oauth-client-id"),(0,q.Z)(xn,"ADMIN_ONLY_OPERATION","admin-restricted-operation"),(0,q.Z)(xn,"INVALID_MFA_PENDING_CREDENTIAL","invalid-multi-factor-session"),(0,q.Z)(xn,"MFA_ENROLLMENT_NOT_FOUND","multi-factor-info-not-found"),(0,q.Z)(xn,"MISSING_MFA_ENROLLMENT_ID","missing-multi-factor-info"),(0,q.Z)(xn,"MISSING_MFA_PENDING_CREDENTIAL","missing-multi-factor-session"),(0,q.Z)(xn,"SECOND_FACTOR_EXISTS","second-factor-already-in-use"),(0,q.Z)(xn,"SECOND_FACTOR_LIMIT_EXCEEDED","maximum-second-factor-count-exceeded"),(0,q.Z)(xn,"BLOCKING_FUNCTION_ERROR_RESPONSE","internal-error"),xn),Hn=new Zn(3e4,6e4);function Qn(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}function $n(e,t,n,r){return Yn.apply(this,arguments)}function Yn(){return Yn=Fe(Re().mark((function e(t,n,r,i){var a,o=arguments;return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=o.length>4&&void 0!==o[4]?o[4]:{},e.abrupt("return",Xn(t,a,Fe(Re().mark((function e(){var a,o,u,s;return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={},o={},i&&("GET"===n?o=i:a={body:JSON.stringify(i)}),u=Te(Object.assign({key:t.config.apiKey},o)).slice(1),e.next=6,t._getAdditionalHeaders();case 6:return(s=e.sent)["Content-Type"]="application/json",t.languageCode&&(s["X-Firebase-Locale"]=t.languageCode),e.abrupt("return",Wn.fetch()(nr(t,t.config.apiHost,r,u),Object.assign({method:n,headers:s,referrerPolicy:"no-referrer"},a)));case 10:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e)}))),Yn.apply(this,arguments)}function Xn(e,t,n){return Jn.apply(this,arguments)}function Jn(){return Jn=Fe(Re().mark((function e(t,n,r){var i,o,u,s,c,l,f,h,d,p;return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._canInitEmulator=!1,i=Object.assign(Object.assign({},Gn),n),e.prev=2,o=new rr(t),e.next=6,Promise.race([r(),o.promise]);case 6:return u=e.sent,o.clearNetworkTimeout(),e.next=10,u.json();case 10:if(!("needConfirmation"in(s=e.sent))){e.next=13;break}throw ir(t,"account-exists-with-different-credential",s);case 13:if(!u.ok||"errorMessage"in s){e.next=17;break}return e.abrupt("return",s);case 17:if(c=u.ok?s.errorMessage:s.error.message,l=c.split(" : "),f=(0,a.Z)(l,2),h=f[0],d=f[1],"FEDERATED_USER_ID_ALREADY_LINKED"!==h){e.next=23;break}throw ir(t,"credential-already-in-use",s);case 23:if("EMAIL_EXISTS"!==h){e.next=27;break}throw ir(t,"email-already-in-use",s);case 27:if("USER_DISABLED"!==h){e.next=29;break}throw ir(t,"user-disabled",s);case 29:if(p=i[h]||h.toLowerCase().replace(/[_\s]+/g,"-"),!d){e.next=34;break}throw Pn(t,p,d);case 34:On(t,p);case 35:e.next=42;break;case 37:if(e.prev=37,e.t0=e.catch(2),!(e.t0 instanceof we)){e.next=41;break}throw e.t0;case 41:On(t,"network-request-failed");case 42:case"end":return e.stop()}}),e,null,[[2,37]])}))),Jn.apply(this,arguments)}function er(e,t,n,r){return tr.apply(this,arguments)}function tr(){return tr=Fe(Re().mark((function e(t,n,r,i){var a,o,u=arguments;return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=u.length>4&&void 0!==u[4]?u[4]:{},e.next=3,$n(t,n,r,i,a);case 3:return"mfaPendingCredential"in(o=e.sent)&&On(t,"multi-factor-auth-required",{_serverResponse:o}),e.abrupt("return",o);case 6:case"end":return e.stop()}}),e)}))),tr.apply(this,arguments)}function nr(e,t,n,r){var i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?Kn(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}var rr=function(){function e(t){var n=this;Z(this,e),this.auth=t,this.timer=null,this.promise=new Promise((function(e,t){n.timer=setTimeout((function(){return t(Dn(n.auth,"network-request-failed"))}),Hn.get())}))}return G(e,[{key:"clearNetworkTimeout",value:function(){clearTimeout(this.timer)}}]),e}();function ir(e,t,n){var r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);var i=Dn(e,t,r);return i.customData._tokenResponse=n,i}function ar(e,t){return or.apply(this,arguments)}function or(){return or=Fe(Re().mark((function e(t,n){return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",$n(t,"POST","/v1/accounts:delete",n));case 1:case"end":return e.stop()}}),e)}))),or.apply(this,arguments)}function ur(e,t){return sr.apply(this,arguments)}function sr(){return sr=Fe(Re().mark((function e(t,n){return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",$n(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),sr.apply(this,arguments)}function cr(e,t){return lr.apply(this,arguments)}function lr(){return lr=Fe(Re().mark((function e(t,n){return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",$n(t,"POST","/v1/accounts:lookup",n));case 1:case"end":return e.stop()}}),e)}))),lr.apply(this,arguments)}function fr(e){if(e)try{var t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(n){}}function hr(){return hr=Fe(Re().mark((function e(t){var n,r,i,a,o,u,s=arguments;return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=s.length>1&&void 0!==s[1]&&s[1],r=Pe(t),e.next=4,r.getIdToken(n);case 4:return i=e.sent,Mn((a=pr(i))&&a.exp&&a.auth_time&&a.iat,r.auth,"internal-error"),o="object"===typeof a.firebase?a.firebase:void 0,u=null===o||void 0===o?void 0:o.sign_in_provider,e.abrupt("return",{claims:a,token:i,authTime:fr(dr(a.auth_time)),issuedAtTime:fr(dr(a.iat)),expirationTime:fr(dr(a.exp)),signInProvider:u||null,signInSecondFactor:(null===o||void 0===o?void 0:o.sign_in_second_factor)||null});case 10:case"end":return e.stop()}}),e)}))),hr.apply(this,arguments)}function dr(e){return 1e3*Number(e)}function pr(e){var t=e.split("."),n=(0,a.Z)(t,3),r=n[0],i=n[1],o=n[2];if(void 0===r||void 0===i||void 0===o)return Nn("JWT malformed, contained fewer than 3 sections"),null;try{var u=se(i);return u?JSON.parse(u):(Nn("Failed to decode base64 JWT payload"),null)}catch(s){return Nn("Caught error parsing JWT payload as JSON",null===s||void 0===s?void 0:s.toString()),null}}function vr(e,t){return yr.apply(this,arguments)}function yr(){return yr=Fe(Re().mark((function e(t,n){var r=arguments;return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r.length>2&&void 0!==r[2]&&r[2])){e.next=3;break}return e.abrupt("return",n);case 3:return e.prev=3,e.next=6,n;case 6:return e.abrupt("return",e.sent);case 9:if(e.prev=9,e.t0=e.catch(3),!(e.t0 instanceof we&&mr(e.t0))){e.next=15;break}if(t.auth.currentUser!==t){e.next=15;break}return e.next=15,t.auth.signOut();case 15:throw e.t0;case 16:case"end":return e.stop()}}),e,null,[[3,9]])}))),yr.apply(this,arguments)}function mr(e){var t=e.code;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}var gr=function(){function e(t){Z(this,e),this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}return G(e,[{key:"_start",value:function(){this.isRunning||(this.isRunning=!0,this.schedule())}},{key:"_stop",value:function(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}},{key:"getInterval",value:function(e){var t;if(e){var n=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),n}this.errorBackoff=3e4;var r=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,r)}},{key:"schedule",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isRunning){var n=this.getInterval(t);this.timerId=setTimeout(Fe(Re().mark((function t(){return Re().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.iteration();case 2:case"end":return t.stop()}}),t)}))),n)}}},{key:"iteration",value:function(){var e=Fe(Re().mark((function e(){return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.user.getIdToken(!0);case 3:e.next=9;break;case 5:return e.prev=5,e.t0=e.catch(0),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("network-request-failed")&&this.schedule(!0),e.abrupt("return");case 9:this.schedule();case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(){return e.apply(this,arguments)}}()}]),e}(),kr=function(){function e(t,n){Z(this,e),this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}return G(e,[{key:"_initializeTime",value:function(){this.lastSignInTime=fr(this.lastLoginAt),this.creationTime=fr(this.createdAt)}},{key:"_copy",value:function(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}},{key:"toJSON",value:function(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}]),e}();function br(e){return wr.apply(this,arguments)}function wr(){return wr=Fe(Re().mark((function e(t){var n,r,i,a,o,u,s,c,l,f,h;return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.auth,e.next=3,t.getIdToken();case 3:return i=e.sent,e.next=6,vr(t,cr(r,{idToken:i}));case 6:Mn(null===(a=e.sent)||void 0===a?void 0:a.users.length,r,"internal-error"),o=a.users[0],t._notifyReloadListener(o),u=(null===(n=o.providerUserInfo)||void 0===n?void 0:n.length)?o.providerUserInfo.map((function(e){var t=e.providerId,n=wn(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})):[],s=_r(t.providerData,u),c=t.isAnonymous,l=!(t.email&&o.passwordHash)&&!(null===s||void 0===s?void 0:s.length),f=!!c&&l,h={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:s,metadata:new kr(o.createdAt,o.lastLoginAt),isAnonymous:f},Object.assign(t,h);case 17:case"end":return e.stop()}}),e)}))),wr.apply(this,arguments)}function xr(){return(xr=Fe(Re().mark((function e(t){var n;return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Pe(t),e.next=3,br(n);case 3:return e.next=5,n.auth._persistUserIfCurrent(n);case 5:n.auth._notifyListenersIfCurrent(n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _r(e,t){var n=e.filter((function(e){return!t.some((function(t){return t.providerId===e.providerId}))}));return[].concat((0,Le.Z)(n),(0,Le.Z)(t))}function Ir(e,t){return Sr.apply(this,arguments)}function Sr(){return Sr=Fe(Re().mark((function e(t,n){var r;return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Xn(t,{},Fe(Re().mark((function e(){var r,i,a,o,u,s;return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Te({grant_type:"refresh_token",refresh_token:n}).slice(1),i=t.config,a=i.tokenApiHost,o=i.apiKey,u=nr(t,a,"/v1/token","key=".concat(o)),e.next=5,t._getAdditionalHeaders();case 5:return(s=e.sent)["Content-Type"]="application/x-www-form-urlencoded",e.abrupt("return",Wn.fetch()(u,{method:"POST",headers:s,body:r}));case 8:case"end":return e.stop()}}),e)}))));case 2:return r=e.sent,e.abrupt("return",{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token});case 4:case"end":return e.stop()}}),e)}))),Sr.apply(this,arguments)}var Er=function(){function e(){Z(this,e),this.refreshToken=null,this.accessToken=null,this.expirationTime=null}return G(e,[{key:"isExpired",get:function(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}},{key:"updateFromServerResponse",value:function(e){Mn(e.idToken,"internal-error"),Mn("undefined"!==typeof e.idToken,"internal-error"),Mn("undefined"!==typeof e.refreshToken,"internal-error");var t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):function(e){var t=pr(e);return Mn(t,"internal-error"),Mn("undefined"!==typeof t.exp,"internal-error"),Mn("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}},{key:"getToken",value:function(){var e=Fe(Re().mark((function e(t){var n,r=arguments;return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.length>1&&void 0!==r[1]&&r[1],Mn(!this.accessToken||this.refreshToken,t,"user-token-expired"),n||!this.accessToken||this.isExpired){e.next=4;break}return e.abrupt("return",this.accessToken);case 4:if(!this.refreshToken){e.next=8;break}return e.next=7,this.refresh(t,this.refreshToken);case 7:return e.abrupt("return",this.accessToken);case 8:return e.abrupt("return",null);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearRefreshToken",value:function(){this.refreshToken=null}},{key:"refresh",value:function(){var e=Fe(Re().mark((function e(t,n){var r,i,a,o;return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ir(t,n);case 2:r=e.sent,i=r.accessToken,a=r.refreshToken,o=r.expiresIn,this.updateTokensAndExpiration(i,a,Number(o));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"updateTokensAndExpiration",value:function(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}},{key:"toJSON",value:function(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}},{key:"_assign",value:function(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}},{key:"_clone",value:function(){return Object.assign(new e,this.toJSON())}},{key:"_performRefresh",value:function(){return Fn("not implemented")}}],[{key:"fromJSON",value:function(t,n){var r=n.refreshToken,i=n.accessToken,a=n.expirationTime,o=new e;return r&&(Mn("string"===typeof r,"internal-error",{appName:t}),o.refreshToken=r),i&&(Mn("string"===typeof i,"internal-error",{appName:t}),o.accessToken=i),a&&(Mn("number"===typeof a,"internal-error",{appName:t}),o.expirationTime=a),o}}]),e}();function Tr(e,t){Mn("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}var Cr=function(){function e(t){Z(this,e);var n=t.uid,r=t.auth,i=t.stsTokenManager,a=wn(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new gr(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?(0,Le.Z)(a.providerData):[],this.metadata=new kr(a.createdAt||void 0,a.lastLoginAt||void 0)}return G(e,[{key:"getIdToken",value:function(){var e=Fe(Re().mark((function e(t){var n;return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,vr(this,this.stsTokenManager.getToken(this.auth,t));case 2:if(Mn(n=e.sent,this.auth,"internal-error"),this.accessToken===n){e.next=9;break}return this.accessToken=n,e.next=8,this.auth._persistUserIfCurrent(this);case 8:this.auth._notifyListenersIfCurrent(this);case 9:return e.abrupt("return",n);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getIdTokenResult",value:function(e){return function(e){return hr.apply(this,arguments)}(this,e)}},{key:"reload",value:function(){return function(e){return xr.apply(this,arguments)}(this)}},{key:"_assign",value:function(e){this!==e&&(Mn(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((function(e){return Object.assign({},e)})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}},{key:"_clone",value:function(t){return new e(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}))}},{key:"_onReload",value:function(e){Mn(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}},{key:"_notifyReloadListener",value:function(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}},{key:"_startProactiveRefresh",value:function(){this.proactiveRefresh._start()}},{key:"_stopProactiveRefresh",value:function(){this.proactiveRefresh._stop()}},{key:"_updateTokensIfNecessary",value:function(){var e=Fe(Re().mark((function e(t){var n,r,i=arguments;return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],r=!1,t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),!n){e.next=6;break}return e.next=6,br(this);case 6:return e.next=8,this.auth._persistUserIfCurrent(this);case 8:r&&this.auth._notifyListenersIfCurrent(this);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=Fe(Re().mark((function e(){var t;return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getIdToken();case 2:return t=e.sent,e.next=5,vr(this,ar(this.auth,{idToken:t}));case 5:return this.stsTokenManager.clearRefreshToken(),e.abrupt("return",this.auth.signOut());case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"toJSON",value:function(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((function(e){return Object.assign({},e)})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}},{key:"refreshToken",get:function(){return this.stsTokenManager.refreshToken||""}}],[{key:"_fromJSON",value:function(t,n){var r,i,a,o,u,s,c,l,f=null!==(r=n.displayName)&&void 0!==r?r:void 0,h=null!==(i=n.email)&&void 0!==i?i:void 0,d=null!==(a=n.phoneNumber)&&void 0!==a?a:void 0,p=null!==(o=n.photoURL)&&void 0!==o?o:void 0,v=null!==(u=n.tenantId)&&void 0!==u?u:void 0,y=null!==(s=n._redirectEventId)&&void 0!==s?s:void 0,m=null!==(c=n.createdAt)&&void 0!==c?c:void 0,g=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,k=n.uid,b=n.emailVerified,w=n.isAnonymous,x=n.providerData,_=n.stsTokenManager;Mn(k&&_,t,"internal-error");var I=Er.fromJSON(this.name,_);Mn("string"===typeof k,t,"internal-error"),Tr(f,t.name),Tr(h,t.name),Mn("boolean"===typeof b,t,"internal-error"),Mn("boolean"===typeof w,t,"internal-error"),Tr(d,t.name),Tr(p,t.name),Tr(v,t.name),Tr(y,t.name),Tr(m,t.name),Tr(g,t.name);var S=new e({uid:k,auth:t,email:h,emailVerified:b,displayName:f,isAnonymous:w,photoURL:p,phoneNumber:d,tenantId:v,stsTokenManager:I,createdAt:m,lastLoginAt:g});return x&&Array.isArray(x)&&(S.providerData=x.map((function(e){return Object.assign({},e)}))),y&&(S._redirectEventId=y),S}},{key:"_fromIdTokenResponse",value:function(){var t=Fe(Re().mark((function t(n,r){var i,a,o,u=arguments;return Re().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=u.length>2&&void 0!==u[2]&&u[2],(a=new Er).updateFromServerResponse(r),o=new e({uid:r.localId,auth:n,stsTokenManager:a,isAnonymous:i}),t.next=6,br(o);case 6:return t.abrupt("return",o);case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}]),e}(),Ar=function(){function e(){Z(this,e),this.type="NONE",this.storage={}}return G(e,[{key:"_isAvailable",value:function(){var e=Fe(Re().mark((function e(){return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!0);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=Fe(Re().mark((function e(t,n){return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.storage[t]=n;case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=Fe(Re().mark((function e(t){var n;return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.storage[t],e.abrupt("return",void 0===n?null:n);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=Fe(Re().mark((function e(t){return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:delete this.storage[t];case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),e}();Ar.type="NONE";var Nr=Ar;function Or(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}var Dr=function(){function e(t,n,r){Z(this,e),this.persistence=t,this.auth=n,this.userKey=r;var i=this.auth,a=i.config,o=i.name;this.fullUserKey=Or(this.userKey,a.apiKey,o),this.fullPersistenceKey=Or("persistence",a.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}return G(e,[{key:"setCurrentUser",value:function(e){return this.persistence._set(this.fullUserKey,e.toJSON())}},{key:"getCurrentUser",value:function(){var e=Fe(Re().mark((function e(){var t;return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.persistence._get(this.fullUserKey);case 2:return t=e.sent,e.abrupt("return",t?Cr._fromJSON(this.auth,t):null);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"removeCurrentUser",value:function(){return this.persistence._remove(this.fullUserKey)}},{key:"savePersistenceForRedirect",value:function(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}},{key:"setPersistence",value:function(){var e=Fe(Re().mark((function e(t){var n;return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.persistence!==t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.getCurrentUser();case 4:return n=e.sent,e.next=7,this.removeCurrentUser();case 7:if(this.persistence=t,!n){e.next=10;break}return e.abrupt("return",this.setCurrentUser(n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}}],[{key:"create",value:function(){var t=Fe(Re().mark((function t(n,r){var i,a,o,u,s,c,l,f,h,d,p,v=arguments;return Re().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=v.length>2&&void 0!==v[2]?v[2]:"authUser",r.length){t.next=3;break}return t.abrupt("return",new e(Un(Nr),n,i));case 3:return t.next=5,Promise.all(r.map(function(){var e=Fe(Re().mark((function e(t){return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._isAvailable();case 2:if(!e.sent){e.next=4;break}return e.abrupt("return",t);case 4:return e.abrupt("return",void 0);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 5:a=t.sent.filter((function(e){return e})),o=a[0]||Un(Nr),u=Or(i,n.config.apiKey,n.name),s=null,c=Q(r),t.prev=10,c.s();case 12:if((l=c.n()).done){t.next=29;break}return f=l.value,t.prev=14,t.next=17,f._get(u);case 17:if(!(h=t.sent)){t.next=23;break}return d=Cr._fromJSON(n,h),f!==o&&(s=d),o=f,t.abrupt("break",29);case 23:t.next=27;break;case 25:t.prev=25,t.t0=t.catch(14);case 27:t.next=12;break;case 29:t.next=34;break;case 31:t.prev=31,t.t1=t.catch(10),c.e(t.t1);case 34:return t.prev=34,c.f(),t.finish(34);case 37:if(p=a.filter((function(e){return e._shouldAllowMigration})),o._shouldAllowMigration&&p.length){t.next=40;break}return t.abrupt("return",new e(o,n,i));case 40:if(o=p[0],!s){t.next=44;break}return t.next=44,o._set(u,s.toJSON());case 44:return t.next=46,Promise.all(r.map(function(){var e=Fe(Re().mark((function e(t){return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t===o){e.next=8;break}return e.prev=1,e.next=4,t._remove(u);case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(1);case 8:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}()));case 46:return t.abrupt("return",new e(o,n,i));case 47:case"end":return t.stop()}}),t,null,[[10,31,34,37],[14,25]])})));return function(e,n){return t.apply(this,arguments)}}()}]),e}();function Pr(e){var t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Fr(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Rr(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(jr(t))return"Blackberry";if(Ur(t))return"Webos";if(Lr(t))return"Safari";if((t.includes("chrome/")||Mr(t))&&!t.includes("edge/"))return"Chrome";if(Vr(t))return"Android";var n=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);return 2===(null===n||void 0===n?void 0:n.length)?n[1]:"Other"}function Rr(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pe();return/firefox\//i.test(e)}function Lr(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:pe()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Mr(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pe();return/crios\//i.test(e)}function Fr(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pe();return/iemobile/i.test(e)}function Vr(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pe();return/android/i.test(e)}function jr(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pe();return/blackberry/i.test(e)}function Ur(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pe();return/webos/i.test(e)}function zr(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pe();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function Br(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pe();return zr(e)||Vr(e)||Ur(e)||jr(e)||/windows phone/i.test(e)||Fr(e)}function qr(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=Pr(pe());break;case"Worker":t="".concat(Pr(pe()),"-").concat(e);break;default:t=e}var r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(Rt,"/").concat(r)}var Zr=function(){function e(t){Z(this,e),this.auth=t,this.queue=[]}return G(e,[{key:"pushCallback",value:function(e,t){var n=this,r=function(t){return new Promise((function(n,r){try{n(e(t))}catch(i){r(i)}}))};r.onAbort=t,this.queue.push(r);var i=this.queue.length-1;return function(){n.queue[i]=function(){return Promise.resolve()}}}},{key:"runMiddleware",value:function(){var e=Fe(Re().mark((function e(t){var n,r,i,a,o,u,s;return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.auth.currentUser!==t){e.next=2;break}return e.abrupt("return");case 2:n=[],e.prev=3,r=Q(this.queue),e.prev=5,r.s();case 7:if((i=r.n()).done){e.next=14;break}return a=i.value,e.next=11,a(t);case 11:a.onAbort&&n.push(a.onAbort);case 12:e.next=7;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(5),r.e(e.t0);case 19:return e.prev=19,r.f(),e.finish(19);case 22:e.next=30;break;case 24:e.prev=24,e.t1=e.catch(3),n.reverse(),o=Q(n);try{for(o.s();!(u=o.n()).done;){s=u.value;try{s()}catch(fT){}}}catch(c){o.e(c)}finally{o.f()}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===e.t1||void 0===e.t1?void 0:e.t1.message});case 30:case"end":return e.stop()}}),e,this,[[3,24],[5,16,19,22]])})));return function(t){return e.apply(this,arguments)}}()}]),e}(),Kr=function(){function e(t,n,r){Z(this,e),this.app=t,this.heartbeatServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Gr(this),this.idTokenSubscription=new Gr(this),this.beforeStateQueue=new Zr(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Cn,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=r.sdkClientVersion}return G(e,[{key:"_initializeWithPersistence",value:function(e,t){var n=this;return t&&(this._popupRedirectResolver=Un(t)),this._initializationPromise=this.queue(Fe(Re().mark((function r(){var i,a;return Re().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!n._deleted){r.next=2;break}return r.abrupt("return");case 2:return r.next=4,Dr.create(n,e);case 4:if(n.persistenceManager=r.sent,!n._deleted){r.next=7;break}return r.abrupt("return");case 7:if(!(null===(i=n._popupRedirectResolver)||void 0===i?void 0:i._shouldInitProactively)){r.next=15;break}return r.prev=8,r.next=11,n._popupRedirectResolver._initialize(n);case 11:r.next=15;break;case 13:r.prev=13,r.t0=r.catch(8);case 15:return r.next=17,n.initializeCurrentUser(t);case 17:if(n.lastNotifiedUid=(null===(a=n.currentUser)||void 0===a?void 0:a.uid)||null,!n._deleted){r.next=20;break}return r.abrupt("return");case 20:n._isInitialized=!0;case 21:case"end":return r.stop()}}),r,null,[[8,13]])})))),this._initializationPromise}},{key:"_onStorageEvent",value:function(){var e=Fe(Re().mark((function e(){var t;return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._deleted){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.assertedPersistence.getCurrentUser();case 4:if(t=e.sent,this.currentUser||t){e.next=7;break}return e.abrupt("return");case 7:if(!this.currentUser||!t||this.currentUser.uid!==t.uid){e.next=12;break}return this._currentUser._assign(t),e.next=11,this.currentUser.getIdToken();case 11:return e.abrupt("return");case 12:return e.next=14,this._updateCurrentUser(t,!0);case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeCurrentUser",value:function(){var e=Fe(Re().mark((function e(t){var n,r,i,a,o,u,s;return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.assertedPersistence.getCurrentUser();case 2:if(r=e.sent,i=r,a=!1,!t||!this.config.authDomain){e.next=14;break}return e.next=8,this.getOrInitRedirectPersistenceManager();case 8:return o=null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId,u=null===i||void 0===i?void 0:i._redirectEventId,e.next=12,this.tryRedirectSignIn(t);case 12:s=e.sent,o&&o!==u||!(null===s||void 0===s?void 0:s.user)||(i=s.user,a=!0);case 14:if(i){e.next=16;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 16:if(i._redirectEventId){e.next=32;break}if(!a){e.next=27;break}return e.prev=18,e.next=21,this.beforeStateQueue.runMiddleware(i);case 21:e.next=27;break;case 23:e.prev=23,e.t0=e.catch(18),i=r,this._popupRedirectResolver._overrideRedirectResult(this,(function(){return Promise.reject(e.t0)}));case 27:if(!i){e.next=31;break}return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(i));case 31:return e.abrupt("return",this.directlySetCurrentUser(null));case 32:return Mn(this._popupRedirectResolver,this,"argument-error"),e.next=35,this.getOrInitRedirectPersistenceManager();case 35:if(!this.redirectUser||this.redirectUser._redirectEventId!==i._redirectEventId){e.next=37;break}return e.abrupt("return",this.directlySetCurrentUser(i));case 37:return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(i));case 38:case"end":return e.stop()}}),e,this,[[18,23]])})));return function(t){return e.apply(this,arguments)}}()},{key:"tryRedirectSignIn",value:function(){var e=Fe(Re().mark((function e(t){var n;return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=null,e.prev=1,e.next=4,this._popupRedirectResolver._completeRedirectFn(this,t,!0);case 4:n=e.sent,e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(1),e.next=11,this._setRedirectUser(null);case 11:return e.abrupt("return",n);case 12:case"end":return e.stop()}}),e,this,[[1,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"reloadAndSetCurrentUserOrClear",value:function(){var e=Fe(Re().mark((function e(t){return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,br(t);case 3:e.next=9;break;case 5:if(e.prev=5,e.t0=e.catch(0),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("network-request-failed")){e.next=9;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 9:return e.abrupt("return",this.directlySetCurrentUser(t));case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(t){return e.apply(this,arguments)}}()},{key:"useDeviceLanguage",value:function(){this.languageCode=function(){if("undefined"===typeof navigator)return null;var e=navigator;return e.languages&&e.languages[0]||e.language||null}()}},{key:"_delete",value:function(){var e=Fe(Re().mark((function e(){return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._deleted=!0;case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(){var e=Fe(Re().mark((function e(t){var n;return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=t?Pe(t):null)&&Mn(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),e.abrupt("return",this._updateCurrentUser(n&&n._clone(this)));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_updateCurrentUser",value:function(){var e=Fe(Re().mark((function e(t){var n,r=this,i=arguments;return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],!this._deleted){e.next=3;break}return e.abrupt("return");case 3:if(t&&Mn(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n){e.next=7;break}return e.next=7,this.beforeStateQueue.runMiddleware(t);case 7:return e.abrupt("return",this.queue(Fe(Re().mark((function e(){return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.directlySetCurrentUser(t);case 2:r.notifyAuthListeners();case 3:case"end":return e.stop()}}),e)})))));case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signOut",value:function(){var e=Fe(Re().mark((function e(){return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.beforeStateQueue.runMiddleware(null);case 2:if(!this.redirectPersistenceManager&&!this._popupRedirectResolver){e.next=5;break}return e.next=5,this._setRedirectUser(null);case 5:return e.abrupt("return",this._updateCurrentUser(null,!0));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setPersistence",value:function(e){var t=this;return this.queue(Fe(Re().mark((function n(){return Re().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.assertedPersistence.setPersistence(Un(e));case 2:case"end":return n.stop()}}),n)}))))}},{key:"_getPersistence",value:function(){return this.assertedPersistence.persistence.type}},{key:"_updateErrorMap",value:function(e){this._errorFactory=new xe("auth","Firebase",e())}},{key:"onAuthStateChanged",value:function(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}},{key:"beforeAuthStateChanged",value:function(e,t){return this.beforeStateQueue.pushCallback(e,t)}},{key:"onIdTokenChanged",value:function(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}},{key:"toJSON",value:function(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}},{key:"_setRedirectUser",value:function(){var e=Fe(Re().mark((function e(t,n){var r;return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getOrInitRedirectPersistenceManager(n);case 2:return r=e.sent,e.abrupt("return",null===t?r.removeCurrentUser():r.setCurrentUser(t));case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getOrInitRedirectPersistenceManager",value:function(){var e=Fe(Re().mark((function e(t){var n;return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.redirectPersistenceManager){e.next=9;break}return Mn(n=t&&Un(t)||this._popupRedirectResolver,this,"argument-error"),e.next=5,Dr.create(this,[Un(n._redirectPersistence)],"redirectUser");case 5:return this.redirectPersistenceManager=e.sent,e.next=8,this.redirectPersistenceManager.getCurrentUser();case 8:this.redirectUser=e.sent;case 9:return e.abrupt("return",this.redirectPersistenceManager);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_redirectUserForId",value:function(){var e=Fe(Re().mark((function e(t){var n,r;return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._isInitialized){e.next=3;break}return e.next=3,this.queue(Fe(Re().mark((function e(){return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))));case 3:if((null===(n=this._currentUser)||void 0===n?void 0:n._redirectEventId)!==t){e.next=5;break}return e.abrupt("return",this._currentUser);case 5:if((null===(r=this.redirectUser)||void 0===r?void 0:r._redirectEventId)!==t){e.next=7;break}return e.abrupt("return",this.redirectUser);case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_persistUserIfCurrent",value:function(){var e=Fe(Re().mark((function e(t){var n=this;return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t!==this.currentUser){e.next=2;break}return e.abrupt("return",this.queue(Fe(Re().mark((function e(){return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.directlySetCurrentUser(t));case 1:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_notifyListenersIfCurrent",value:function(e){e===this.currentUser&&this.notifyAuthListeners()}},{key:"_key",value:function(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}},{key:"_startProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}},{key:"_stopProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}},{key:"_currentUser",get:function(){return this.currentUser}},{key:"notifyAuthListeners",value:function(){var e,t;if(this._isInitialized){this.idTokenSubscription.next(this.currentUser);var n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}}},{key:"registerStateListener",value:function(e,t,n,r){var i=this;if(this._deleted)return function(){};var a="function"===typeof t?t:t.next.bind(t),o=this._isInitialized?Promise.resolve():this._initializationPromise;return Mn(o,this,"internal-error"),o.then((function(){return a(i.currentUser)})),"function"===typeof t?e.addObserver(t,n,r):e.addObserver(t)}},{key:"directlySetCurrentUser",value:function(){var e=Fe(Re().mark((function e(t){return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,!t){e.next=8;break}return e.next=6,this.assertedPersistence.setCurrentUser(t);case 6:e.next=10;break;case 8:return e.next=10,this.assertedPersistence.removeCurrentUser();case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"queue",value:function(e){return this.operations=this.operations.then(e,e),this.operations}},{key:"assertedPersistence",get:function(){return Mn(this.persistenceManager,this,"internal-error"),this.persistenceManager}},{key:"_logFramework",value:function(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=qr(this.config.clientPlatform,this._getFrameworks()))}},{key:"_getFrameworks",value:function(){return this.frameworks}},{key:"_getAdditionalHeaders",value:function(){var e=Fe(Re().mark((function e(){var t,n,r;return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=(0,q.Z)({},"X-Client-Version",this.clientVersion),this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId),e.next=4,null===(t=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();case 4:return(r=e.sent)&&(n["X-Firebase-Client"]=r),e.abrupt("return",n);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function Wr(e){return Pe(e)}var Gr=function(){function e(t){var n=this;Z(this,e),this.auth=t,this.observer=null,this.addObserver=Ne((function(e){return n.observer=e}))}return G(e,[{key:"next",get:function(){return Mn(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}]),e}();function Hr(e,t,n){var r=Wr(e);Mn(r._canInitEmulator,r,"emulator-config-failed"),Mn(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");var i=!!(null===n||void 0===n?void 0:n.disableWarnings),o=Qr(t),u=function(e){var t=Qr(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};var r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){var o=i[1];return{host:o,port:$r(r.substr(o.length+1))}}var u=r.split(":"),s=(0,a.Z)(u,2);return{host:s[0],port:$r(s[1])}}(t),s=u.host,c=u.port,l=null===c?"":":".concat(c);r.config.emulator={url:"".concat(o,"//").concat(s).concat(l,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:c,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){var e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function Qr(e){var t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function $r(e){if(!e)return null;var t=Number(e);return isNaN(t)?null:t}var Yr=function(){function e(t,n){Z(this,e),this.providerId=t,this.signInMethod=n}return G(e,[{key:"toJSON",value:function(){return Fn("not implemented")}},{key:"_getIdTokenResponse",value:function(e){return Fn("not implemented")}},{key:"_linkToIdToken",value:function(e,t){return Fn("not implemented")}},{key:"_getReauthenticationResolver",value:function(e){return Fn("not implemented")}}]),e}();function Xr(e,t){return Jr.apply(this,arguments)}function Jr(){return Jr=Fe(Re().mark((function e(t,n){return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",$n(t,"POST","/v1/accounts:resetPassword",Qn(t,n)));case 1:case"end":return e.stop()}}),e)}))),Jr.apply(this,arguments)}function ei(e,t){return ti.apply(this,arguments)}function ti(){return ti=Fe(Re().mark((function e(t,n){return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",$n(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),ti.apply(this,arguments)}function ni(e,t){return ri.apply(this,arguments)}function ri(){return ri=Fe(Re().mark((function e(t,n){return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",$n(t,"POST","/v1/accounts:update",Qn(t,n)));case 1:case"end":return e.stop()}}),e)}))),ri.apply(this,arguments)}function ii(e,t){return ai.apply(this,arguments)}function ai(){return ai=Fe(Re().mark((function e(t,n){return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",er(t,"POST","/v1/accounts:signInWithPassword",Qn(t,n)));case 1:case"end":return e.stop()}}),e)}))),ai.apply(this,arguments)}function oi(e,t){return ui.apply(this,arguments)}function ui(){return ui=Fe(Re().mark((function e(t,n){return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",$n(t,"POST","/v1/accounts:sendOobCode",Qn(t,n)));case 1:case"end":return e.stop()}}),e)}))),ui.apply(this,arguments)}function si(e,t){return ci.apply(this,arguments)}function ci(){return ci=Fe(Re().mark((function e(t,n){return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",oi(t,n));case 1:case"end":return e.stop()}}),e)}))),ci.apply(this,arguments)}function li(e,t){return fi.apply(this,arguments)}function fi(){return fi=Fe(Re().mark((function e(t,n){return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",oi(t,n));case 1:case"end":return e.stop()}}),e)}))),fi.apply(this,arguments)}function hi(e,t){return di.apply(this,arguments)}function di(){return di=Fe(Re().mark((function e(t,n){return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",oi(t,n));case 1:case"end":return e.stop()}}),e)}))),di.apply(this,arguments)}function pi(e,t){return vi.apply(this,arguments)}function vi(){return vi=Fe(Re().mark((function e(t,n){return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",oi(t,n));case 1:case"end":return e.stop()}}),e)}))),vi.apply(this,arguments)}function yi(e,t){return mi.apply(this,arguments)}function mi(){return mi=Fe(Re().mark((function e(t,n){return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",er(t,"POST","/v1/accounts:signInWithEmailLink",Qn(t,n)));case 1:case"end":return e.stop()}}),e)}))),mi.apply(this,arguments)}function gi(e,t){return ki.apply(this,arguments)}function ki(){return ki=Fe(Re().mark((function e(t,n){return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",er(t,"POST","/v1/accounts:signInWithEmailLink",Qn(t,n)));case 1:case"end":return e.stop()}}),e)}))),ki.apply(this,arguments)}var bi=function(e){X(n,e);var t=ne(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return Z(this,n),(a=t.call(this,"password",i))._email=e,a._password=r,a._tenantId=o,a}return G(n,[{key:"toJSON",value:function(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}},{key:"_getIdTokenResponse",value:function(){var e=Fe(Re().mark((function e(t){return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",ii(t,{returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",yi(t,{email:this._email,oobCode:this._password}));case 5:On(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_linkToIdToken",value:function(){var e=Fe(Re().mark((function e(t,n){return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",ei(t,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",gi(t,{idToken:n,email:this._email,oobCode:this._password}));case 5:On(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_getReauthenticationResolver",value:function(e){return this._getIdTokenResponse(e)}}],[{key:"_fromEmailAndPassword",value:function(e,t){return new n(e,t,"password")}},{key:"_fromEmailAndCode",value:function(e,t){return new n(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}}]),n}(Yr);function wi(e,t){return xi.apply(this,arguments)}function xi(){return xi=Fe(Re().mark((function e(t,n){return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",er(t,"POST","/v1/accounts:signInWithIdp",Qn(t,n)));case 1:case"end":return e.stop()}}),e)}))),xi.apply(this,arguments)}var _i=function(e){X(n,e);var t=ne(n);function n(){var e;return Z(this,n),(e=t.apply(this,arguments)).pendingToken=null,e}return G(n,[{key:"toJSON",value:function(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}},{key:"_getIdTokenResponse",value:function(e){return wi(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,wi(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,wi(e,t)}},{key:"buildRequest",value:function(){var e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{var t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Te(t)}return e}}],[{key:"_fromParams",value:function(e){var t=new n(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):On("argument-error"),t}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=wn(t,["providerId","signInMethod"]);if(!r||!i)return null;var o=new n(r,i);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}}]),n}(Yr);function Ii(e,t){return Si.apply(this,arguments)}function Si(){return Si=Fe(Re().mark((function e(t,n){return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",$n(t,"POST","/v1/accounts:sendVerificationCode",Qn(t,n)));case 1:case"end":return e.stop()}}),e)}))),Si.apply(this,arguments)}function Ei(){return Ei=Fe(Re().mark((function e(t,n){return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",er(t,"POST","/v1/accounts:signInWithPhoneNumber",Qn(t,n)));case 1:case"end":return e.stop()}}),e)}))),Ei.apply(this,arguments)}function Ti(){return Ti=Fe(Re().mark((function e(t,n){var r;return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,er(t,"POST","/v1/accounts:signInWithPhoneNumber",Qn(t,n));case 2:if(!(r=e.sent).temporaryProof){e.next=5;break}throw ir(t,"account-exists-with-different-credential",r);case 5:return e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)}))),Ti.apply(this,arguments)}var Ci=(0,q.Z)({},"USER_NOT_FOUND","user-not-found");function Ai(){return Ai=Fe(Re().mark((function e(t,n){var r;return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object.assign(Object.assign({},n),{operation:"REAUTH"}),e.abrupt("return",er(t,"POST","/v1/accounts:signInWithPhoneNumber",Qn(t,r),Ci));case 2:case"end":return e.stop()}}),e)}))),Ai.apply(this,arguments)}var Ni=function(e){X(n,e);var t=ne(n);function n(e){var r;return Z(this,n),(r=t.call(this,"phone","phone")).params=e,r}return G(n,[{key:"_getIdTokenResponse",value:function(e){return function(e,t){return Ei.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_linkToIdToken",value:function(e,t){return function(e,t){return Ti.apply(this,arguments)}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}},{key:"_getReauthenticationResolver",value:function(e){return function(e,t){return Ai.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_makeVerificationRequest",value:function(){var e=this.params,t=e.temporaryProof,n=e.phoneNumber,r=e.verificationId,i=e.verificationCode;return t&&n?{temporaryProof:t,phoneNumber:n}:{sessionInfo:r,code:i}}},{key:"toJSON",value:function(){var e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}}],[{key:"_fromVerification",value:function(e,t){return new n({verificationId:e,verificationCode:t})}},{key:"_fromTokenResponse",value:function(e,t){return new n({phoneNumber:e,temporaryProof:t})}},{key:"fromJSON",value:function(e){"string"===typeof e&&(e=JSON.parse(e));var t=e,r=t.verificationId,i=t.verificationCode,a=t.phoneNumber,o=t.temporaryProof;return i||r||a||o?new n({verificationId:r,verificationCode:i,phoneNumber:a,temporaryProof:o}):null}}]),n}(Yr);var Oi=function(){function e(t){var n,r,i,a,o,u;Z(this,e);var s=Ce(Ae(t)),c=null!==(n=s.apiKey)&&void 0!==n?n:null,l=null!==(r=s.oobCode)&&void 0!==r?r:null,f=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=s.mode)&&void 0!==i?i:null);Mn(c&&l&&f,"argument-error"),this.apiKey=c,this.operation=f,this.code=l,this.continueUrl=null!==(a=s.continueUrl)&&void 0!==a?a:null,this.languageCode=null!==(o=s.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(u=s.tenantId)&&void 0!==u?u:null}return G(e,null,[{key:"parseLink",value:function(t){var n=function(e){var t=Ce(Ae(e)).link,n=t?Ce(Ae(t)).deep_link_id:null,r=Ce(Ae(e)).deep_link_id;return(r?Ce(Ae(r)).link:null)||r||n||t||e}(t);try{return new e(n)}catch(X_){return null}}}]),e}();var Di=function(){function e(){Z(this,e),this.providerId=e.PROVIDER_ID}return G(e,null,[{key:"credential",value:function(e,t){return bi._fromEmailAndPassword(e,t)}},{key:"credentialWithLink",value:function(e,t){var n=Oi.parseLink(t);return Mn(n,"argument-error"),bi._fromEmailAndCode(e,n.code,n.tenantId)}}]),e}();Di.PROVIDER_ID="password",Di.EMAIL_PASSWORD_SIGN_IN_METHOD="password",Di.EMAIL_LINK_SIGN_IN_METHOD="emailLink";var Pi=function(){function e(t){Z(this,e),this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}return G(e,[{key:"setDefaultLanguage",value:function(e){this.defaultLanguageCode=e}},{key:"setCustomParameters",value:function(e){return this.customParameters=e,this}},{key:"getCustomParameters",value:function(){return this.customParameters}}]),e}(),Ri=function(e){X(n,e);var t=ne(n);function n(){var e;return Z(this,n),(e=t.apply(this,arguments)).scopes=[],e}return G(n,[{key:"addScope",value:function(e){return this.scopes.includes(e)||this.scopes.push(e),this}},{key:"getScopes",value:function(){return(0,Le.Z)(this.scopes)}}]),n}(Pi),Li=function(e){X(n,e);var t=ne(n);function n(){return Z(this,n),t.apply(this,arguments)}return G(n,[{key:"credential",value:function(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}},{key:"_credential",value:function(e){return Mn(e.idToken||e.accessToken,"argument-error"),_i._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}}],[{key:"credentialFromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;return Mn("providerId"in t&&"signInMethod"in t,"argument-error"),_i._fromParams(t)}},{key:"credentialFromResult",value:function(e){return n.oauthCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.oauthCredentialFromTaggedObject(e.customData||{})}},{key:"oauthCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken,a=t.oauthTokenSecret,o=t.pendingToken,u=t.nonce,s=t.providerId;if(!i&&!a&&!r&&!o)return null;if(!s)return null;try{return new n(s)._credential({idToken:r,accessToken:i,nonce:u,pendingToken:o})}catch(c){return null}}}]),n}(Ri),Mi=function(e){X(n,e);var t=ne(n);function n(){return Z(this,n),t.call(this,"facebook.com")}return G(n,null,[{key:"credential",value:function(e){return _i._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(X_){return null}}}]),n}(Ri);Mi.FACEBOOK_SIGN_IN_METHOD="facebook.com",Mi.PROVIDER_ID="facebook.com";var Fi=function(e){X(n,e);var t=ne(n);function n(){var e;return Z(this,n),(e=t.call(this,"google.com")).addScope("profile"),e}return G(n,null,[{key:"credential",value:function(e,t){return _i._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken;if(!r&&!i)return null;try{return n.credential(r,i)}catch(X_){return null}}}]),n}(Ri);Fi.GOOGLE_SIGN_IN_METHOD="google.com",Fi.PROVIDER_ID="google.com";var Vi=function(e){X(n,e);var t=ne(n);function n(){return Z(this,n),t.call(this,"github.com")}return G(n,null,[{key:"credential",value:function(e){return _i._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GITHUB_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(X_){return null}}}]),n}(Ri);Vi.GITHUB_SIGN_IN_METHOD="github.com",Vi.PROVIDER_ID="github.com";var ji=function(e){X(n,e);var t=ne(n);function n(e,r){var i;return Z(this,n),(i=t.call(this,e,e)).pendingToken=r,i}return G(n,[{key:"_getIdTokenResponse",value:function(e){return wi(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,wi(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,wi(e,t)}},{key:"toJSON",value:function(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}},{key:"buildRequest",value:function(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}],[{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=t.pendingToken;return r&&i&&a&&r===i?new n(r,a):null}},{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(Yr),Ui="saml.",zi=function(e){X(n,e);var t=ne(n);function n(e){return Z(this,n),Mn(e.startsWith(Ui),"argument-error"),t.call(this,e)}return G(n,null,[{key:"credentialFromResult",value:function(e){return n.samlCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.samlCredentialFromTaggedObject(e.customData||{})}},{key:"credentialFromJSON",value:function(e){var t=ji.fromJSON(e);return Mn(t,"argument-error"),t}},{key:"samlCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.pendingToken,r=t.providerId;if(!n||!r)return null;try{return ji._create(r,n)}catch(i){return null}}}]),n}(Pi),Bi=function(e){X(n,e);var t=ne(n);function n(){return Z(this,n),t.call(this,"twitter.com")}return G(n,null,[{key:"credential",value:function(e,t){return _i._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthAccessToken,i=t.oauthTokenSecret;if(!r||!i)return null;try{return n.credential(r,i)}catch(X_){return null}}}]),n}(Ri);function qi(e,t){return Zi.apply(this,arguments)}function Zi(){return Zi=Fe(Re().mark((function e(t,n){return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",er(t,"POST","/v1/accounts:signUp",Qn(t,n)));case 1:case"end":return e.stop()}}),e)}))),Zi.apply(this,arguments)}Bi.TWITTER_SIGN_IN_METHOD="twitter.com",Bi.PROVIDER_ID="twitter.com";var Ki=function(){function e(t){Z(this,e),this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}return G(e,null,[{key:"_fromIdTokenResponse",value:function(){var t=Fe(Re().mark((function t(n,r,i){var a,o,u,s,c=arguments;return Re().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=c.length>3&&void 0!==c[3]&&c[3],t.next=3,Cr._fromIdTokenResponse(n,i,a);case 3:return o=t.sent,u=Wi(i),s=new e({user:o,providerId:u,_tokenResponse:i,operationType:r}),t.abrupt("return",s);case 7:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()},{key:"_forOperation",value:function(){var t=Fe(Re().mark((function t(n,r,i){var a;return Re().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n._updateTokensIfNecessary(i,!0);case 2:return a=Wi(i),t.abrupt("return",new e({user:n,providerId:a,_tokenResponse:i,operationType:r}));case 4:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()}]),e}();function Wi(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}function Gi(){return Gi=Fe(Re().mark((function e(t){var n,r,i,a;return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Wr(t),e.next=3,r._initializationPromise;case 3:if(!(null===(n=r.currentUser)||void 0===n?void 0:n.isAnonymous)){e.next=5;break}return e.abrupt("return",new Ki({user:r.currentUser,providerId:null,operationType:"signIn"}));case 5:return e.next=7,qi(r,{returnSecureToken:!0});case 7:return i=e.sent,e.next=10,Ki._fromIdTokenResponse(r,"signIn",i,!0);case 10:return a=e.sent,e.next=13,r._updateCurrentUser(a.user);case 13:return e.abrupt("return",a);case 14:case"end":return e.stop()}}),e)}))),Gi.apply(this,arguments)}var Hi=function(e){X(n,e);var t=ne(n);function n(e,r,i,a){var o,u;return Z(this,n),(o=t.call(this,r.code,r.message)).operationType=i,o.user=a,Object.setPrototypeOf($(o),n.prototype),o.customData={appName:e.name,tenantId:null!==(u=e.tenantId)&&void 0!==u?u:void 0,_serverResponse:r.customData._serverResponse,operationType:i},o}return G(n,null,[{key:"_fromErrorAndOperation",value:function(e,t,r,i){return new n(e,t,r,i)}}]),n}(we);function Qi(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((function(n){if(n.code==="auth/".concat("multi-factor-auth-required"))throw Hi._fromErrorAndOperation(e,n,t,r);throw n}))}function $i(e){return new Set(e.map((function(e){return e.providerId})).filter((function(e){return!!e})))}function Yi(e,t){return Xi.apply(this,arguments)}function Xi(){return Xi=Fe(Re().mark((function e(t,n){var r,i,a,o;return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Pe(t),e.next=3,ta(!0,r,n);case 3:return e.t0=ur,e.t1=r.auth,e.next=7,r.getIdToken();case 7:return e.t2=e.sent,e.t3=[n],e.t4={idToken:e.t2,deleteProvider:e.t3},e.next=12,(0,e.t0)(e.t1,e.t4);case 12:return i=e.sent,a=i.providerUserInfo,o=$i(a||[]),r.providerData=r.providerData.filter((function(e){return o.has(e.providerId)})),o.has("phone")||(r.phoneNumber=null),e.next=19,r.auth._persistUserIfCurrent(r);case 19:return e.abrupt("return",r);case 20:case"end":return e.stop()}}),e)}))),Xi.apply(this,arguments)}function Ji(e,t){return ea.apply(this,arguments)}function ea(){return ea=Fe(Re().mark((function e(t,n){var r,i,a=arguments;return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>2&&void 0!==a[2]&&a[2],e.t0=vr,e.t1=t,e.t2=n,e.t3=t.auth,e.next=7,t.getIdToken();case 7:return e.t4=e.sent,e.t5=e.t2._linkToIdToken.call(e.t2,e.t3,e.t4),e.t6=r,e.next=12,(0,e.t0)(e.t1,e.t5,e.t6);case 12:return i=e.sent,e.abrupt("return",Ki._forOperation(t,"link",i));case 14:case"end":return e.stop()}}),e)}))),ea.apply(this,arguments)}function ta(e,t,n){return na.apply(this,arguments)}function na(){return(na=Fe(Re().mark((function e(t,n,r){var i,a;return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,br(n);case 2:i=$i(n.providerData),a=!1===t?"provider-already-linked":"no-such-provider",Mn(i.has(r)===t,n.auth,a);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ra(e,t){return ia.apply(this,arguments)}function ia(){return ia=Fe(Re().mark((function e(t,n){var r,i,a,o,u,s,c=arguments;return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>2&&void 0!==c[2]&&c[2],i=t.auth,a="reauthenticate",e.prev=3,e.next=6,vr(t,Qi(i,a,n,t),r);case 6:return Mn((o=e.sent).idToken,i,"internal-error"),Mn(u=pr(o.idToken),i,"internal-error"),s=u.sub,Mn(t.uid===s,i,"user-mismatch"),e.abrupt("return",Ki._forOperation(t,a,o));case 15:throw e.prev=15,e.t0=e.catch(3),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("user-not-found")&&On(i,"user-mismatch"),e.t0;case 19:case"end":return e.stop()}}),e,null,[[3,15]])}))),ia.apply(this,arguments)}function aa(e,t){return oa.apply(this,arguments)}function oa(){return oa=Fe(Re().mark((function e(t,n){var r,i,a,o,u=arguments;return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>2&&void 0!==u[2]&&u[2],i="signIn",e.next=4,Qi(t,i,n);case 4:return a=e.sent,e.next=7,Ki._fromIdTokenResponse(t,i,a);case 7:if(o=e.sent,r){e.next=11;break}return e.next=11,t._updateCurrentUser(o.user);case 11:return e.abrupt("return",o);case 12:case"end":return e.stop()}}),e)}))),oa.apply(this,arguments)}function ua(e,t){return sa.apply(this,arguments)}function sa(){return sa=Fe(Re().mark((function e(t,n){return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",aa(Wr(t),n));case 1:case"end":return e.stop()}}),e)}))),sa.apply(this,arguments)}function ca(e,t){return la.apply(this,arguments)}function la(){return(la=Fe(Re().mark((function e(t,n){var r;return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Pe(t),e.next=3,ta(!1,r,n.providerId);case 3:return e.abrupt("return",Ji(r,n));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function fa(e,t){return ha.apply(this,arguments)}function ha(){return(ha=Fe(Re().mark((function e(t,n){return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ra(Pe(t),n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function da(e,t){return pa.apply(this,arguments)}function pa(){return pa=Fe(Re().mark((function e(t,n){return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",er(t,"POST","/v1/accounts:signInWithCustomToken",Qn(t,n)));case 1:case"end":return e.stop()}}),e)}))),pa.apply(this,arguments)}function va(){return va=Fe(Re().mark((function e(t,n){var r,i,a;return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Wr(t),e.next=3,da(r,{token:n,returnSecureToken:!0});case 3:return i=e.sent,e.next=6,Ki._fromIdTokenResponse(r,"signIn",i);case 6:return a=e.sent,e.next=9,r._updateCurrentUser(a.user);case 9:return e.abrupt("return",a);case 10:case"end":return e.stop()}}),e)}))),va.apply(this,arguments)}var ya=function(){function e(t,n){Z(this,e),this.factorId=t,this.uid=n.mfaEnrollmentId,this.enrollmentTime=new Date(n.enrolledAt).toUTCString(),this.displayName=n.displayName}return G(e,null,[{key:"_fromServerResponse",value:function(e,t){return"phoneInfo"in t?ma._fromServerResponse(e,t):On(e,"internal-error")}}]),e}(),ma=function(e){X(n,e);var t=ne(n);function n(e){var r;return Z(this,n),(r=t.call(this,"phone",e)).phoneNumber=e.phoneInfo,r}return G(n,null,[{key:"_fromServerResponse",value:function(e,t){return new n(t)}}]),n}(ya);function ga(e,t,n){var r;Mn((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),Mn("undefined"===typeof n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(Mn(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(Mn(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}function ka(){return ka=Fe(Re().mark((function e(t,n,r){var i,a;return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Pe(t),a={requestType:"PASSWORD_RESET",email:n},r&&ga(i,a,r),e.next=5,li(i,a);case 5:case"end":return e.stop()}}),e)}))),ka.apply(this,arguments)}function ba(){return ba=Fe(Re().mark((function e(t,n,r){return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Xr(Pe(t),{oobCode:n,newPassword:r});case 2:case"end":return e.stop()}}),e)}))),ba.apply(this,arguments)}function wa(){return wa=Fe(Re().mark((function e(t,n){return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ni(Pe(t),{oobCode:n});case 2:case"end":return e.stop()}}),e)}))),wa.apply(this,arguments)}function xa(e,t){return _a.apply(this,arguments)}function _a(){return _a=Fe(Re().mark((function e(t,n){var r,i,a,o;return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Pe(t),e.next=3,Xr(r,{oobCode:n});case 3:i=e.sent,Mn(a=i.requestType,r,"internal-error"),e.t0=a,e.next="EMAIL_SIGNIN"===e.t0?9:"VERIFY_AND_CHANGE_EMAIL"===e.t0?10:"REVERT_SECOND_FACTOR_ADDITION"===e.t0?12:13;break;case 9:return e.abrupt("break",14);case 10:return Mn(i.newEmail,r,"internal-error"),e.abrupt("break",14);case 12:Mn(i.mfaInfo,r,"internal-error");case 13:Mn(i.email,r,"internal-error");case 14:return o=null,i.mfaInfo&&(o=ya._fromServerResponse(Wr(r),i.mfaInfo)),e.abrupt("return",{data:{email:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.newEmail:i.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.email:i.newEmail)||null,multiFactorInfo:o},operation:a});case 17:case"end":return e.stop()}}),e)}))),_a.apply(this,arguments)}function Ia(){return Ia=Fe(Re().mark((function e(t,n){var r,i;return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,xa(Pe(t),n);case 2:return r=e.sent,i=r.data,e.abrupt("return",i.email);case 5:case"end":return e.stop()}}),e)}))),Ia.apply(this,arguments)}function Sa(e,t,n){return Ea.apply(this,arguments)}function Ea(){return Ea=Fe(Re().mark((function e(t,n,r){var i,a,o;return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Wr(t),e.next=3,qi(i,{returnSecureToken:!0,email:n,password:r});case 3:return a=e.sent,e.next=6,Ki._fromIdTokenResponse(i,"signIn",a);case 6:return o=e.sent,e.next=9,i._updateCurrentUser(o.user);case 9:return e.abrupt("return",o);case 10:case"end":return e.stop()}}),e)}))),Ea.apply(this,arguments)}function Ta(){return Ta=Fe(Re().mark((function e(t,n,r){var i,a;return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Pe(t),a={requestType:"EMAIL_SIGNIN",email:n},Mn(r.handleCodeInApp,i,"argument-error"),r&&ga(i,a,r),e.next=6,hi(i,a);case 6:case"end":return e.stop()}}),e)}))),Ta.apply(this,arguments)}function Ca(){return Ca=Fe(Re().mark((function e(t,n,r){var i,a;return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Pe(t),Mn((a=Di.credentialWithLink(n,r||zn()))._tenantId===(i.tenantId||null),i,"tenant-id-mismatch"),e.abrupt("return",ua(i,a));case 4:case"end":return e.stop()}}),e)}))),Ca.apply(this,arguments)}function Aa(e,t){return Na.apply(this,arguments)}function Na(){return Na=Fe(Re().mark((function e(t,n){return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",$n(t,"POST","/v1/accounts:createAuthUri",Qn(t,n)));case 1:case"end":return e.stop()}}),e)}))),Na.apply(this,arguments)}function Oa(){return Oa=Fe(Re().mark((function e(t,n){var r,i,a,o;return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Bn()?zn():"http://localhost",i={identifier:n,continueUri:r},e.next=4,Aa(Pe(t),i);case 4:return a=e.sent,o=a.signinMethods,e.abrupt("return",o||[]);case 7:case"end":return e.stop()}}),e)}))),Oa.apply(this,arguments)}function Da(){return(Da=Fe(Re().mark((function e(t,n){var r,i,a,o;return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Pe(t),e.next=3,t.getIdToken();case 3:return i=e.sent,a={requestType:"VERIFY_EMAIL",idToken:i},n&&ga(r.auth,a,n),e.next=8,si(r.auth,a);case 8:if(o=e.sent,o.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Pa(){return(Pa=Fe(Re().mark((function e(t,n,r){var i,a,o,u;return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Pe(t),e.next=3,t.getIdToken();case 3:return a=e.sent,o={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:a,newEmail:n},r&&ga(i.auth,o,r),e.next=8,pi(i.auth,o);case 8:if(u=e.sent,u.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ra(e,t){return La.apply(this,arguments)}function La(){return La=Fe(Re().mark((function e(t,n){return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",$n(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),La.apply(this,arguments)}function Ma(){return(Ma=Fe(Re().mark((function e(t,n){var r,i,a,o,u,s,c;return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.displayName,i=n.photoURL,void 0!==r||void 0!==i){e.next=3;break}return e.abrupt("return");case 3:return a=Pe(t),e.next=6,a.getIdToken();case 6:return o=e.sent,u={idToken:o,displayName:r,photoUrl:i,returnSecureToken:!0},e.next=10,vr(a,Ra(a.auth,u));case 10:return s=e.sent,a.displayName=s.displayName||null,a.photoURL=s.photoUrl||null,(c=a.providerData.find((function(e){return"password"===e.providerId})))&&(c.displayName=a.displayName,c.photoURL=a.photoURL),e.next=17,a._updateTokensIfNecessary(s);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Fa(e,t,n){return Va.apply(this,arguments)}function Va(){return Va=Fe(Re().mark((function e(t,n,r){var i,a,o,u;return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.auth,e.next=3,t.getIdToken();case 3:return a=e.sent,o={idToken:a,returnSecureToken:!0},n&&(o.email=n),r&&(o.password=r),e.next=9,vr(t,ei(i,o));case 9:return u=e.sent,e.next=12,t._updateTokensIfNecessary(u,!0);case 12:case"end":return e.stop()}}),e)}))),Va.apply(this,arguments)}var ja=G((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Z(this,e),this.isNewUser=t,this.providerId=n,this.profile=r})),Ua=function(e){X(n,e);var t=ne(n);function n(e,r,i,a){var o;return Z(this,n),(o=t.call(this,e,r,i)).username=a,o}return G(n)}(ja),za=function(e){X(n,e);var t=ne(n);function n(e,r){return Z(this,n),t.call(this,e,"facebook.com",r)}return G(n)}(ja),Ba=function(e){X(n,e);var t=ne(n);function n(e,r){return Z(this,n),t.call(this,e,"github.com",r,"string"===typeof(null===r||void 0===r?void 0:r.login)?null===r||void 0===r?void 0:r.login:null)}return G(n)}(Ua),qa=function(e){X(n,e);var t=ne(n);function n(e,r){return Z(this,n),t.call(this,e,"google.com",r)}return G(n)}(ja),Za=function(e){X(n,e);var t=ne(n);function n(e,r,i){return Z(this,n),t.call(this,e,"twitter.com",r,i)}return G(n)}(Ua);function Ka(e){var t=e.user,n=e._tokenResponse;return t.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:function(e){var t,n;if(!e)return null;var r=e.providerId,i=e.rawUserInfo?JSON.parse(e.rawUserInfo):{},a=e.isNewUser||"identitytoolkit#SignupNewUserResponse"===e.kind;if(!r&&(null===e||void 0===e?void 0:e.idToken)){var o=null===(n=null===(t=pr(e.idToken))||void 0===t?void 0:t.firebase)||void 0===n?void 0:n.sign_in_provider;if(o)return new ja(a,"anonymous"!==o&&"custom"!==o?o:null)}if(!r)return null;switch(r){case"facebook.com":return new za(a,i);case"github.com":return new Ba(a,i);case"google.com":return new qa(a,i);case"twitter.com":return new Za(a,i,e.screenName||null);case"custom":case"anonymous":return new ja(a,null);default:return new ja(a,r,i)}}(n)}var Wa=function(){function e(t,n,r){Z(this,e),this.type=t,this.credential=n,this.auth=r}return G(e,[{key:"toJSON",value:function(){var e="enroll"===this.type?"idToken":"pendingCredential";return{multiFactorSession:(0,q.Z)({},e,this.credential)}}}],[{key:"_fromIdtoken",value:function(t,n){return new e("enroll",t,n)}},{key:"_fromMfaPendingCredential",value:function(t){return new e("signin",t)}},{key:"fromJSON",value:function(t){var n,r;if(null===t||void 0===t?void 0:t.multiFactorSession){if(null===(n=t.multiFactorSession)||void 0===n?void 0:n.pendingCredential)return e._fromMfaPendingCredential(t.multiFactorSession.pendingCredential);if(null===(r=t.multiFactorSession)||void 0===r?void 0:r.idToken)return e._fromIdtoken(t.multiFactorSession.idToken)}return null}}]),e}(),Ga=function(){function e(t,n,r){Z(this,e),this.session=t,this.hints=n,this.signInResolver=r}return G(e,[{key:"resolveSignIn",value:function(){var e=Fe(Re().mark((function e(t){var n;return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t,e.abrupt("return",this.signInResolver(n));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromError",value:function(t,n){var r=Wr(t),i=n.customData._serverResponse,a=(i.mfaInfo||[]).map((function(e){return ya._fromServerResponse(r,e)}));Mn(i.mfaPendingCredential,r,"internal-error");var o=Wa._fromMfaPendingCredential(i.mfaPendingCredential);return new e(o,a,function(){var e=Fe(Re().mark((function e(t){var a,u,s;return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._process(r,o);case 2:a=e.sent,delete i.mfaInfo,delete i.mfaPendingCredential,u=Object.assign(Object.assign({},i),{idToken:a.idToken,refreshToken:a.refreshToken}),e.t0=n.operationType,e.next="signIn"===e.t0?9:"reauthenticate"===e.t0?15:17;break;case 9:return e.next=11,Ki._fromIdTokenResponse(r,n.operationType,u);case 11:return s=e.sent,e.next=14,r._updateCurrentUser(s.user);case 14:return e.abrupt("return",s);case 15:return Mn(n.user,r,"internal-error"),e.abrupt("return",Ki._forOperation(n.user,n.operationType,u));case 17:On(r,"internal-error");case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}}]),e}();function Ha(e,t){return $n(e,"POST","/v2/accounts/mfaEnrollment:start",Qn(e,t))}function Qa(e,t){return $n(e,"POST","/v2/accounts/mfaEnrollment:withdraw",Qn(e,t))}var $a=function(){function e(t){var n=this;Z(this,e),this.user=t,this.enrolledFactors=[],t._onReload((function(e){e.mfaInfo&&(n.enrolledFactors=e.mfaInfo.map((function(e){return ya._fromServerResponse(t.auth,e)})))}))}return G(e,[{key:"getSession",value:function(){var e=Fe(Re().mark((function e(){return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=Wa,e.next=3,this.user.getIdToken();case 3:return e.t1=e.sent,e.t2=this.user.auth,e.abrupt("return",e.t0._fromIdtoken.call(e.t0,e.t1,e.t2));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"enroll",value:function(){var e=Fe(Re().mark((function e(t,n){var r,i,a;return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t,e.next=3,this.getSession();case 3:return i=e.sent,e.next=6,vr(this.user,r._process(this.user.auth,i,n));case 6:return a=e.sent,e.next=9,this.user._updateTokensIfNecessary(a);case 9:return e.abrupt("return",this.user.reload());case 10:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"unenroll",value:function(){var e=Fe(Re().mark((function e(t){var n,r,i;return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="string"===typeof t?t:t.uid,e.next=3,this.user.getIdToken();case 3:return r=e.sent,e.prev=4,e.next=7,vr(this.user,Qa(this.user.auth,{idToken:r,mfaEnrollmentId:n}));case 7:return i=e.sent,this.enrolledFactors=this.enrolledFactors.filter((function(e){return e.uid!==n})),e.next=11,this.user._updateTokensIfNecessary(i);case 11:return e.next=13,this.user.reload();case 13:e.next=18;break;case 15:throw e.prev=15,e.t0=e.catch(4),e.t0;case 18:case"end":return e.stop()}}),e,this,[[4,15]])})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromUser",value:function(t){return new e(t)}}]),e}(),Ya=new WeakMap;var Xa="__sak",Ja=function(){function e(t,n){Z(this,e),this.storageRetriever=t,this.type=n}return G(e,[{key:"_isAvailable",value:function(){try{return this.storage?(this.storage.setItem(Xa,"1"),this.storage.removeItem(Xa),Promise.resolve(!0)):Promise.resolve(!1)}catch(X_){return Promise.resolve(!1)}}},{key:"_set",value:function(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}},{key:"_get",value:function(e){var t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}},{key:"_remove",value:function(e){return this.storage.removeItem(e),Promise.resolve()}},{key:"storage",get:function(){return this.storageRetriever()}}]),e}();var eo=10,to=function(e){X(n,e);var t=ne(n);function n(){var e;return Z(this,n),(e=t.call(this,(function(){return window.localStorage}),"LOCAL")).boundEventHandler=function(t,n){return e.onStorageEvent(t,n)},e.listeners={},e.localCache={},e.pollTimer=null,e.safariLocalStorageNotSynced=function(){var e=pe();return Lr(e)||zr(e)}()&&function(){try{return!(!window||window===window.top)}catch(e){return!1}}(),e.fallbackToPolling=Br(),e._shouldAllowMigration=!0,e}return G(n,[{key:"forAllChangedKeys",value:function(e){for(var t=0,n=Object.keys(this.listeners);t<n.length;t++){var r=n[t],i=this.storage.getItem(r),a=this.localCache[r];i!==a&&e(r,a,i)}}},{key:"onStorageEvent",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.key){var r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){var i=this.storage.getItem(r);if(e.newValue!==i)null!==e.newValue?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}var a=function(){var e=t.storage.getItem(r);(n||t.localCache[r]!==e)&&t.notifyListeners(r,e)},o=this.storage.getItem(r);ge()&&10===document.documentMode&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,eo):a()}else this.forAllChangedKeys((function(e,n,r){t.notifyListeners(e,r)}))}},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t?JSON.parse(t):t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval((function(){e.forAllChangedKeys((function(t,n,r){e.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)}))}),1e3)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"attachListener",value:function(){window.addEventListener("storage",this.boundEventHandler)}},{key:"detachListener",value:function(){window.removeEventListener("storage",this.boundEventHandler)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}},{key:"_set",value:function(){var e=Fe(Re().mark((function e(t,r){return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,bn(J(n.prototype),"_set",this).call(this,t,r);case 2:this.localCache[t]=JSON.stringify(r);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=Fe(Re().mark((function e(t){var r;return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,bn(J(n.prototype),"_get",this).call(this,t);case 2:return r=e.sent,this.localCache[t]=JSON.stringify(r),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=Fe(Re().mark((function e(t){return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,bn(J(n.prototype),"_remove",this).call(this,t);case 2:delete this.localCache[t];case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(Ja);to.type="LOCAL";var no=to,ro=function(e){X(n,e);var t=ne(n);function n(){return Z(this,n),t.call(this,(function(){return window.sessionStorage}),"SESSION")}return G(n,[{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),n}(Ja);ro.type="SESSION";var io=ro;function ao(e){return Promise.all(e.map(function(){var e=Fe(Re().mark((function e(t){var n;return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t;case 3:return n=e.sent,e.abrupt("return",{fulfilled:!0,value:n});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{fulfilled:!1,reason:e.t0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()))}var oo=function(){function e(t){Z(this,e),this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}return G(e,[{key:"isListeningto",value:function(e){return this.eventTarget===e}},{key:"handleEvent",value:function(){var e=Fe(Re().mark((function e(t){var n,r,i,a,o,u,s,c;return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=(n=t).data,i=r.eventId,a=r.eventType,o=r.data,null===(u=this.handlersMap[a])||void 0===u?void 0:u.size){e.next=5;break}return e.abrupt("return");case 5:return n.ports[0].postMessage({status:"ack",eventId:i,eventType:a}),s=Array.from(u).map(function(){var e=Fe(Re().mark((function e(t){return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t(n.origin,o));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=9,ao(s);case 9:c=e.sent,n.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:c});case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_subscribe",value:function(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}},{key:"_unsubscribe",value:function(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}],[{key:"_getInstance",value:function(t){var n=this.receivers.find((function(e){return e.isListeningto(t)}));if(n)return n;var r=new e(t);return this.receivers.push(r),r}}]),e}();function uo(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="",r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}oo.receivers=[];var so=function(){function e(t){Z(this,e),this.target=t,this.handlers=new Set}return G(e,[{key:"removeMessageHandler",value:function(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}},{key:"_send",value:function(){var e=Fe(Re().mark((function e(t,n){var r,i,a,o,u=this,s=arguments;return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=s.length>2&&void 0!==s[2]?s[2]:50,i="undefined"!==typeof MessageChannel?new MessageChannel:null){e.next=4;break}throw new Error("connection_unavailable");case 4:return e.abrupt("return",new Promise((function(e,s){var c=uo("",20);i.port1.start();var l=setTimeout((function(){s(new Error("unsupported_event"))}),r);o={messageChannel:i,onMessage:function(t){var n=t;if(n.data.eventId===c)switch(n.data.status){case"ack":clearTimeout(l),a=setTimeout((function(){s(new Error("timeout"))}),3e3);break;case"done":clearTimeout(a),e(n.data.response);break;default:clearTimeout(l),clearTimeout(a),s(new Error("invalid_response"))}}},u.handlers.add(o),i.port1.addEventListener("message",o.onMessage),u.target.postMessage({eventType:t,eventId:c,data:n},[i.port2])})).finally((function(){o&&u.removeMessageHandler(o)})));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}();function co(){return window}function lo(){return"undefined"!==typeof co().WorkerGlobalScope&&"function"===typeof co().importScripts}function fo(){return ho.apply(this,arguments)}function ho(){return(ho=Fe(Re().mark((function e(){var t;return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===navigator||void 0===navigator?void 0:navigator.serviceWorker){e.next=2;break}return e.abrupt("return",null);case 2:return e.prev=2,e.next=5,navigator.serviceWorker.ready;case 5:return t=e.sent,e.abrupt("return",t.active);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}function po(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}var vo="firebaseLocalStorageDb",yo=1,mo="firebaseLocalStorage",go="fbase_key",ko=function(){function e(t){Z(this,e),this.request=t}return G(e,[{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.request.addEventListener("success",(function(){t(e.request.result)})),e.request.addEventListener("error",(function(){n(e.request.error)}))}))}}]),e}();function bo(e,t){return e.transaction([mo],t?"readwrite":"readonly").objectStore(mo)}function wo(){var e=indexedDB.deleteDatabase(vo);return new ko(e).toPromise()}function xo(){var e=indexedDB.open(vo,yo);return new Promise((function(t,n){e.addEventListener("error",(function(){n(e.error)})),e.addEventListener("upgradeneeded",(function(){var t=e.result;try{t.createObjectStore(mo,{keyPath:go})}catch(r){n(r)}})),e.addEventListener("success",Fe(Re().mark((function n(){var r;return Re().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if((r=e.result).objectStoreNames.contains(mo)){n.next=12;break}return r.close(),n.next=5,wo();case 5:return n.t0=t,n.next=8,xo();case 8:n.t1=n.sent,(0,n.t0)(n.t1),n.next=13;break;case 12:t(r);case 13:case"end":return n.stop()}}),n)}))))}))}function _o(e,t,n){return Io.apply(this,arguments)}function Io(){return Io=Fe(Re().mark((function e(t,n,r){var i,a;return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=bo(t,!0).put((i={},(0,q.Z)(i,go,n),(0,q.Z)(i,"value",r),i)),e.abrupt("return",new ko(a).toPromise());case 2:case"end":return e.stop()}}),e)}))),Io.apply(this,arguments)}function So(e,t){return Eo.apply(this,arguments)}function Eo(){return Eo=Fe(Re().mark((function e(t,n){var r,i;return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=bo(t,!1).get(n),e.next=3,new ko(r).toPromise();case 3:return i=e.sent,e.abrupt("return",void 0===i?null:i.value);case 5:case"end":return e.stop()}}),e)}))),Eo.apply(this,arguments)}function To(e,t){var n=bo(e,!0).delete(t);return new ko(n).toPromise()}var Co=function(){function e(){Z(this,e),this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((function(){}),(function(){}))}return G(e,[{key:"_openDb",value:function(){var e=Fe(Re().mark((function e(){return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.db){e.next=2;break}return e.abrupt("return",this.db);case 2:return e.next=4,xo();case 4:return this.db=e.sent,e.abrupt("return",this.db);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_withRetries",value:function(){var e=Fe(Re().mark((function e(t){var n,r;return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=0;case 1:return e.prev=2,e.next=5,this._openDb();case 5:return r=e.sent,e.next=8,t(r);case 8:return e.abrupt("return",e.sent);case 11:if(e.prev=11,e.t0=e.catch(2),!(n++>3)){e.next=15;break}throw e.t0;case 15:this.db&&(this.db.close(),this.db=void 0);case 16:e.next=1;break;case 18:case"end":return e.stop()}}),e,this,[[2,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"initializeServiceWorkerMessaging",value:function(){var e=Fe(Re().mark((function e(){return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",lo()?this.initializeReceiver():this.initializeSender());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeReceiver",value:function(){var e=Fe(Re().mark((function e(){var t=this;return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.receiver=oo._getInstance(lo()?self:null),this.receiver._subscribe("keyChanged",function(){var e=Fe(Re().mark((function e(n,r){var i;return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._poll();case 2:return i=e.sent,e.abrupt("return",{keyProcessed:i.includes(r.key)});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),this.receiver._subscribe("ping",function(){var e=Fe(Re().mark((function e(t,n){return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",["keyChanged"]);case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeSender",value:function(){var e=Fe(Re().mark((function e(){var t,n,r;return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fo();case 2:if(this.activeServiceWorker=e.sent,this.activeServiceWorker){e.next=5;break}return e.abrupt("return");case 5:return this.sender=new so(this.activeServiceWorker),e.next=8,this.sender._send("ping",{},800);case 8:if(r=e.sent){e.next=11;break}return e.abrupt("return");case 11:(null===(t=r[0])||void 0===t?void 0:t.fulfilled)&&(null===(n=r[0])||void 0===n?void 0:n.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0);case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyServiceWorker",value:function(){var e=Fe(Re().mark((function e(t){return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.sender&&this.activeServiceWorker&&po()===this.activeServiceWorker){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50);case 5:e.next=9;break;case 7:e.prev=7,e.t0=e.catch(2);case 9:case"end":return e.stop()}}),e,this,[[2,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_isAvailable",value:function(){var e=Fe(Re().mark((function e(){var t;return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,indexedDB){e.next=3;break}return e.abrupt("return",!1);case 3:return e.next=5,xo();case 5:return t=e.sent,e.next=8,_o(t,Xa,"1");case 8:return e.next=10,To(t,Xa);case 10:return e.abrupt("return",!0);case 13:e.prev=13,e.t0=e.catch(0);case 15:return e.abrupt("return",!1);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}()},{key:"_withPendingWrite",value:function(){var e=Fe(Re().mark((function e(t){return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.pendingWrites++,e.prev=1,e.next=4,t();case 4:return e.prev=4,this.pendingWrites--,e.finish(4);case 7:case"end":return e.stop()}}),e,this,[[1,,4,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=Fe(Re().mark((function e(t,n){var r=this;return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(Fe(Re().mark((function e(){return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r._withRetries((function(e){return _o(e,t,n)}));case 2:return r.localCache[t]=n,e.abrupt("return",r.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=Fe(Re().mark((function e(t){var n;return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){return So(e,t)}));case 2:return n=e.sent,this.localCache[t]=n,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=Fe(Re().mark((function e(t){var n=this;return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(Fe(Re().mark((function e(){return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n._withRetries((function(e){return To(e,t)}));case 2:return delete n.localCache[t],e.abrupt("return",n.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_poll",value:function(){var e=Fe(Re().mark((function e(){var t,n,r,i,a,o,u,s,c,l,f;return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){var t=bo(e,!1).getAll();return new ko(t).toPromise()}));case 2:if(t=e.sent){e.next=5;break}return e.abrupt("return",[]);case 5:if(0===this.pendingWrites){e.next=7;break}return e.abrupt("return",[]);case 7:n=[],r=new Set,i=Q(t);try{for(i.s();!(a=i.n()).done;)o=a.value,u=o.fbase_key,s=o.value,r.add(u),JSON.stringify(this.localCache[u])!==JSON.stringify(s)&&(this.notifyListeners(u,s),n.push(u))}catch(h){i.e(h)}finally{i.f()}for(c=0,l=Object.keys(this.localCache);c<l.length;c++)f=l[c],this.localCache[f]&&!r.has(f)&&(this.notifyListeners(f,null),n.push(f));return e.abrupt("return",n);case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval(Fe(Re().mark((function t(){return Re().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e._poll());case 1:case"end":return t.stop()}}),t)}))),800)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}]),e}();Co.type="LOCAL";var Ao=Co;function No(e,t){return $n(e,"POST","/v2/accounts/mfaSignIn:start",Qn(e,t))}function Oo(e){return Do.apply(this,arguments)}function Do(){return Do=Fe(Re().mark((function e(t){return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$n(t,"GET","/v1/recaptchaParams");case 2:if(e.t0=e.sent.recaptchaSiteKey,e.t0){e.next=5;break}e.t0="";case 5:return e.abrupt("return",e.t0);case 6:case"end":return e.stop()}}),e)}))),Do.apply(this,arguments)}function Po(e){return new Promise((function(t,n){var r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=function(e){var t=Dn("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)}))}function Ro(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}var Lo=1e12,Mo=function(){function e(t){Z(this,e),this.auth=t,this.counter=Lo,this._widgets=new Map}return G(e,[{key:"render",value:function(e,t){var n=this.counter;return this._widgets.set(n,new Fo(e,this.auth.name,t||{})),this.counter++,n}},{key:"reset",value:function(e){var t,n=e||Lo;null===(t=this._widgets.get(n))||void 0===t||t.delete(),this._widgets.delete(n)}},{key:"getResponse",value:function(e){var t,n=e||Lo;return(null===(t=this._widgets.get(n))||void 0===t?void 0:t.getResponse())||""}},{key:"execute",value:function(){var e=Fe(Re().mark((function e(t){var n,r;return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t||Lo,null===(n=this._widgets.get(r))||void 0===n||n.execute(),e.abrupt("return","");case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),Fo=function(){function e(t,n,r){var i=this;Z(this,e),this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=function(){i.execute()};var a="string"===typeof t?document.getElementById(t):t;Mn(a,"argument-error",{appName:n}),this.container=a,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}return G(e,[{key:"getResponse",value:function(){return this.checkIfDeleted(),this.responseToken}},{key:"delete",value:function(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}},{key:"execute",value:function(){var e=this;this.checkIfDeleted(),this.timerId||(this.timerId=window.setTimeout((function(){e.responseToken=function(e){for(var t=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",r=0;r<e;r++)t.push(n.charAt(Math.floor(Math.random()*n.length)));return t.join("")}(50);var t=e.params,n=t.callback,r=t["expired-callback"];if(n)try{n(e.responseToken)}catch(i){}e.timerId=window.setTimeout((function(){if(e.timerId=null,e.responseToken=null,r)try{r()}catch(i){}e.isVisible&&e.execute()}),6e4)}),500))}},{key:"checkIfDeleted",value:function(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}]),e}();var Vo=Ro("rcb"),jo=new Zn(3e4,6e4),Uo="https://www.google.com/recaptcha/api.js?",zo=function(){function e(){var t;Z(this,e),this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(null===(t=co().grecaptcha)||void 0===t?void 0:t.render)}return G(e,[{key:"load",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return Mn(function(e){return e.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(e)}(n),e,"argument-error"),this.shouldResolveImmediately(n)?Promise.resolve(co().grecaptcha):new Promise((function(r,i){var a=co().setTimeout((function(){i(Dn(e,"network-request-failed"))}),jo.get());co()[Vo]=function(){co().clearTimeout(a),delete co()[Vo];var o=co().grecaptcha;if(o){var u=o.render;o.render=function(e,n){var r=u(e,n);return t.counter++,r},t.hostLanguage=n,r(o)}else i(Dn(e,"internal-error"))},Po("".concat(Uo,"?").concat(Te({onload:Vo,render:"explicit",hl:n}))).catch((function(){clearTimeout(a),i(Dn(e,"internal-error"))}))}))}},{key:"clearedOneInstance",value:function(){this.counter--}},{key:"shouldResolveImmediately",value:function(e){var t;return!!(null===(t=co().grecaptcha)||void 0===t?void 0:t.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}]),e}();var Bo=function(){function e(){Z(this,e)}return G(e,[{key:"load",value:function(){var e=Fe(Re().mark((function e(t){return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Mo(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearedOneInstance",value:function(){}}]),e}(),qo="recaptcha",Zo={theme:"light",type:"image"},Ko=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object.assign({},Zo),r=arguments.length>2?arguments[2]:void 0;Z(this,e),this.parameters=n,this.type=qo,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Wr(r),this.isInvisible="invisible"===this.parameters.size,Mn("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment");var i="string"===typeof t?document.getElementById(t):t;Mn(i,this.auth,"argument-error"),this.container=i,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Bo:new zo,this.validateStartingState()}return G(e,[{key:"verify",value:function(){var e=Fe(Re().mark((function e(){var t,n,r,i=this;return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertNotDestroyed(),e.next=3,this.render();case 3:if(t=e.sent,n=this.getAssertedRecaptcha(),!(r=n.getResponse(t))){e.next=8;break}return e.abrupt("return",r);case 8:return e.abrupt("return",new Promise((function(e){i.tokenChangeListeners.add((function t(n){n&&(i.tokenChangeListeners.delete(t),e(n))})),i.isInvisible&&n.execute(t)})));case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;try{this.assertNotDestroyed()}catch(t){return Promise.reject(t)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch((function(t){throw e.renderPromise=null,t}))),this.renderPromise}},{key:"_reset",value:function(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}},{key:"clear",value:function(){var e=this;this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach((function(t){e.container.removeChild(t)}))}},{key:"validateStartingState",value:function(){Mn(!this.parameters.sitekey,this.auth,"argument-error"),Mn(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Mn("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment")}},{key:"makeTokenCallback",value:function(e){var t=this;return function(n){if(t.tokenChangeListeners.forEach((function(e){return e(n)})),"function"===typeof e)e(n);else if("string"===typeof e){var r=co()[e];"function"===typeof r&&r(n)}}}},{key:"assertNotDestroyed",value:function(){Mn(!this.destroyed,this.auth,"internal-error")}},{key:"makeRenderPromise",value:function(){var e=Fe(Re().mark((function e(){var t,n;return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.init();case 2:return this.widgetId||(t=this.container,this.isInvisible||(n=document.createElement("div"),t.appendChild(n),t=n),this.widgetId=this.getAssertedRecaptcha().render(t,this.parameters)),e.abrupt("return",this.widgetId);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"init",value:function(){var e=Fe(Re().mark((function e(){var t;return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Mn(Bn()&&!lo(),this.auth,"internal-error"),e.next=3,Wo();case 3:return e.next=5,this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);case 5:return this.recaptcha=e.sent,e.next=8,Oo(this.auth);case 8:Mn(t=e.sent,this.auth,"internal-error"),this.parameters.sitekey=t;case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getAssertedRecaptcha",value:function(){return Mn(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}]),e}();function Wo(){var e=null;return new Promise((function(t){"complete"!==document.readyState?(e=function(){return t()},window.addEventListener("load",e)):t()})).catch((function(t){throw e&&window.removeEventListener("load",e),t}))}var Go=function(){function e(t,n){Z(this,e),this.verificationId=t,this.onConfirmation=n}return G(e,[{key:"confirm",value:function(e){var t=Ni._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}]),e}();function Ho(){return Ho=Fe(Re().mark((function e(t,n,r){var i,a;return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Wr(t),e.next=3,Xo(i,n,Pe(r));case 3:return a=e.sent,e.abrupt("return",new Go(a,(function(e){return ua(i,e)})));case 5:case"end":return e.stop()}}),e)}))),Ho.apply(this,arguments)}function Qo(e,t,n){return $o.apply(this,arguments)}function $o(){return($o=Fe(Re().mark((function e(t,n,r){var i,a;return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Pe(t),e.next=3,ta(!1,i,"phone");case 3:return e.next=5,Xo(i.auth,n,Pe(r));case 5:return a=e.sent,e.abrupt("return",new Go(a,(function(e){return ca(i,e)})));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Yo(){return(Yo=Fe(Re().mark((function e(t,n,r){var i,a;return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Pe(t),e.next=3,Xo(i.auth,n,Pe(r));case 3:return a=e.sent,e.abrupt("return",new Go(a,(function(e){return fa(i,e)})));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Xo(e,t,n){return Jo.apply(this,arguments)}function Jo(){return Jo=Fe(Re().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h;return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.verify();case 2:if(a=e.sent,e.prev=3,Mn("string"===typeof a,t,"argument-error"),Mn(r.type===qo,t,"argument-error"),!("session"in(o="string"===typeof n?{phoneNumber:n}:n))){e.next=26;break}if(u=o.session,!("phoneNumber"in o)){e.next=17;break}return Mn("enroll"===u.type,t,"internal-error"),e.next=13,Ha(t,{idToken:u.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:a}});case 13:return s=e.sent,e.abrupt("return",s.phoneSessionInfo.sessionInfo);case 17:return Mn("signin"===u.type,t,"internal-error"),Mn(c=(null===(i=o.multiFactorHint)||void 0===i?void 0:i.uid)||o.multiFactorUid,t,"missing-multi-factor-info"),e.next=22,No(t,{mfaPendingCredential:u.credential,mfaEnrollmentId:c,phoneSignInInfo:{recaptchaToken:a}});case 22:return l=e.sent,e.abrupt("return",l.phoneResponseInfo.sessionInfo);case 24:e.next=31;break;case 26:return e.next=28,Ii(t,{phoneNumber:o.phoneNumber,recaptchaToken:a});case 28:return f=e.sent,h=f.sessionInfo,e.abrupt("return",h);case 31:return e.prev=31,r._reset(),e.finish(31);case 34:case"end":return e.stop()}}),e,null,[[3,,31,34]])}))),Jo.apply(this,arguments)}function eu(){return(eu=Fe(Re().mark((function e(t,n){return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ji(Pe(t),n);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var tu=function(){function e(t){Z(this,e),this.providerId=e.PROVIDER_ID,this.auth=Wr(t)}return G(e,[{key:"verifyPhoneNumber",value:function(e,t){return Xo(this.auth,e,Pe(t))}}],[{key:"credential",value:function(e,t){return Ni._fromVerification(e,t)}},{key:"credentialFromResult",value:function(t){var n=t;return e.credentialFromTaggedObject(n)}},{key:"credentialFromError",value:function(t){return e.credentialFromTaggedObject(t.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.phoneNumber,r=t.temporaryProof;return n&&r?Ni._fromTokenResponse(n,r):null}}]),e}();function nu(e,t){return t?Un(t):(Mn(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}tu.PROVIDER_ID="phone",tu.PHONE_SIGN_IN_METHOD="phone";var ru=function(e){X(n,e);var t=ne(n);function n(e){var r;return Z(this,n),(r=t.call(this,"custom","custom")).params=e,r}return G(n,[{key:"_getIdTokenResponse",value:function(e){return wi(e,this._buildIdpRequest())}},{key:"_linkToIdToken",value:function(e,t){return wi(e,this._buildIdpRequest(t))}},{key:"_getReauthenticationResolver",value:function(e){return wi(e,this._buildIdpRequest())}},{key:"_buildIdpRequest",value:function(e){var t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}]),n}(Yr);function iu(e){return aa(e.auth,new ru(e),e.bypassAuthState)}function au(e){var t=e.auth,n=e.user;return Mn(n,t,"internal-error"),ra(n,new ru(e),e.bypassAuthState)}function ou(e){return uu.apply(this,arguments)}function uu(){return uu=Fe(Re().mark((function e(t){var n,r;return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.auth,Mn(r=t.user,n,"internal-error"),e.abrupt("return",Ji(r,new ru(t),t.bypassAuthState));case 3:case"end":return e.stop()}}),e)}))),uu.apply(this,arguments)}var su=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];Z(this,e),this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}return G(e,[{key:"execute",value:function(){var e=this;return new Promise(function(){var t=Fe(Re().mark((function t(n,r){return Re().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.pendingPromise={resolve:n,reject:r},t.prev=1,t.next=4,e.resolver._initialize(e.auth);case 4:return e.eventManager=t.sent,t.next=7,e.onExecution();case 7:e.eventManager.registerConsumer(e),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),e.reject(t.t0);case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e,n){return t.apply(this,arguments)}}())}},{key:"onAuthEvent",value:function(){var e=Fe(Re().mark((function e(t){var n,r,i,a,o,u,s;return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.urlResponse,r=t.sessionId,i=t.postBody,a=t.tenantId,o=t.error,u=t.type,!o){e.next=4;break}return this.reject(o),e.abrupt("return");case 4:return s={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState},e.prev=5,e.t0=this,e.next=9,this.getIdpTask(u)(s);case 9:e.t1=e.sent,e.t0.resolve.call(e.t0,e.t1),e.next=16;break;case 13:e.prev=13,e.t2=e.catch(5),this.reject(e.t2);case 16:case"end":return e.stop()}}),e,this,[[5,13]])})));return function(t){return e.apply(this,arguments)}}()},{key:"onError",value:function(e){this.reject(e)}},{key:"getIdpTask",value:function(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return iu;case"linkViaPopup":case"linkViaRedirect":return ou;case"reauthViaPopup":case"reauthViaRedirect":return au;default:On(this.auth,"internal-error")}}},{key:"resolve",value:function(e){Vn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}},{key:"reject",value:function(e){Vn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}},{key:"unregisterAndCleanUp",value:function(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}]),e}(),cu=new Zn(2e3,1e4);function lu(e,t,n){return fu.apply(this,arguments)}function fu(){return fu=Fe(Re().mark((function e(t,n,r){var i,a,o;return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Wr(t),Rn(t,n,Pi),a=nu(i,r),o=new vu(i,"signInViaPopup",n,a),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)}))),fu.apply(this,arguments)}function hu(){return(hu=Fe(Re().mark((function e(t,n,r){var i,a,o;return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Rn((i=Pe(t)).auth,n,Pi),a=nu(i.auth,r),o=new vu(i.auth,"reauthViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function du(e,t,n){return pu.apply(this,arguments)}function pu(){return(pu=Fe(Re().mark((function e(t,n,r){var i,a,o;return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Rn((i=Pe(t)).auth,n,Pi),a=nu(i.auth,r),o=new vu(i.auth,"linkViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var vu=function(e){X(n,e);var t=ne(n);function n(e,r,i,a,o){var u;return Z(this,n),(u=t.call(this,e,r,a,o)).provider=i,u.authWindow=null,u.pollId=null,n.currentPopupAction&&n.currentPopupAction.cancel(),n.currentPopupAction=$(u),u}return G(n,[{key:"executeNotNull",value:function(){var e=Fe(Re().mark((function e(){var t;return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.execute();case 2:return Mn(t=e.sent,this.auth,"internal-error"),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=Fe(Re().mark((function e(){var t,n=this;return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Vn(1===this.filter.length,"Popup operations only handle one event"),t=uo(),e.next=4,this.resolver._openPopup(this.auth,this.provider,this.filter[0],t);case 4:this.authWindow=e.sent,this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch((function(e){n.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(function(e){e||n.reject(Dn(n.auth,"web-storage-unsupported"))})),this.pollUserCancellation();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"eventId",get:function(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}},{key:"cancel",value:function(){this.reject(Dn(this.auth,"cancelled-popup-request"))}},{key:"cleanUp",value:function(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,n.currentPopupAction=null}},{key:"pollUserCancellation",value:function(){var e=this;!function t(){var n,r;(null===(r=null===(n=e.authWindow)||void 0===n?void 0:n.window)||void 0===r?void 0:r.closed)?e.pollId=window.setTimeout((function(){e.pollId=null,e.reject(Dn(e.auth,"popup-closed-by-user"))}),2e3):e.pollId=window.setTimeout(t,cu.get())}()}}]),n}(su);vu.currentPopupAction=null;var yu="pendingRedirect",mu=new Map,gu=function(e){X(n,e);var t=ne(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return Z(this,n),(i=t.call(this,e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,a)).eventId=null,i}return G(n,[{key:"execute",value:function(){var e=Fe(Re().mark((function e(){var t,r;return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=mu.get(this.auth._key())){e.next=21;break}return e.prev=2,e.next=5,ku(this.resolver,this.auth);case 5:if(!e.sent){e.next=12;break}return e.next=9,bn(J(n.prototype),"execute",this).call(this);case 9:e.t0=e.sent,e.next=13;break;case 12:e.t0=null;case 13:r=e.t0,t=function(){return Promise.resolve(r)},e.next=20;break;case 17:e.prev=17,e.t1=e.catch(2),t=function(){return Promise.reject(e.t1)};case 20:mu.set(this.auth._key(),t);case 21:return this.bypassAuthState||mu.set(this.auth._key(),(function(){return Promise.resolve(null)})),e.abrupt("return",t());case 23:case"end":return e.stop()}}),e,this,[[2,17]])})));return function(){return e.apply(this,arguments)}}()},{key:"onAuthEvent",value:function(){var e=Fe(Re().mark((function e(t){var r;return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("signInViaRedirect"!==t.type){e.next=4;break}return e.abrupt("return",bn(J(n.prototype),"onAuthEvent",this).call(this,t));case 4:if("unknown"!==t.type){e.next=7;break}return this.resolve(null),e.abrupt("return");case 7:if(!t.eventId){e.next=17;break}return e.next=10,this.auth._redirectUserForId(t.eventId);case 10:if(!(r=e.sent)){e.next=16;break}return this.user=r,e.abrupt("return",bn(J(n.prototype),"onAuthEvent",this).call(this,t));case 16:this.resolve(null);case 17:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=Fe(Re().mark((function e(){return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"cleanUp",value:function(){}}]),n}(su);function ku(e,t){return bu.apply(this,arguments)}function bu(){return bu=Fe(Re().mark((function e(t,n){var r,i,a;return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Su(n),i=Iu(t),e.next=4,i._isAvailable();case 4:if(e.sent){e.next=6;break}return e.abrupt("return",!1);case 6:return e.next=8,i._get(r);case 8:return e.t0=e.sent,a="true"===e.t0,e.next=12,i._remove(r);case 12:return e.abrupt("return",a);case 13:case"end":return e.stop()}}),e)}))),bu.apply(this,arguments)}function wu(e,t){return xu.apply(this,arguments)}function xu(){return xu=Fe(Re().mark((function e(t,n){return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Iu(t)._set(Su(n),"true"));case 1:case"end":return e.stop()}}),e)}))),xu.apply(this,arguments)}function _u(e,t){mu.set(e._key(),t)}function Iu(e){return Un(e._redirectPersistence)}function Su(e){return Or(yu,e.config.apiKey,e.name)}function Eu(e,t,n){return function(e,t,n){return Tu.apply(this,arguments)}(e,t,n)}function Tu(){return Tu=Fe(Re().mark((function e(t,n,r){var i,a;return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Wr(t),Rn(t,n,Pi),e.next=4,i._initializationPromise;case 4:return a=nu(i,r),e.next=7,wu(a,i);case 7:return e.abrupt("return",a._openRedirect(i,n,"signInViaRedirect"));case 8:case"end":return e.stop()}}),e)}))),Tu.apply(this,arguments)}function Cu(e,t,n){return function(e,t,n){return Au.apply(this,arguments)}(e,t,n)}function Au(){return(Au=Fe(Re().mark((function e(t,n,r){var i,a,o;return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Rn((i=Pe(t)).auth,n,Pi),e.next=4,i.auth._initializationPromise;case 4:return a=nu(i.auth,r),e.next=7,wu(a,i.auth);case 7:return e.next=9,Mu(i);case 9:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"reauthViaRedirect",o));case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Nu(e,t,n){return function(e,t,n){return Ou.apply(this,arguments)}(e,t,n)}function Ou(){return(Ou=Fe(Re().mark((function e(t,n,r){var i,a,o;return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Rn((i=Pe(t)).auth,n,Pi),e.next=4,i.auth._initializationPromise;case 4:return a=nu(i.auth,r),e.next=7,ta(!1,i,n.providerId);case 7:return e.next=9,wu(a,i.auth);case 9:return e.next=11,Mu(i);case 11:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"linkViaRedirect",o));case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Du(e,t){return Pu.apply(this,arguments)}function Pu(){return Pu=Fe(Re().mark((function e(t,n){return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Wr(t)._initializationPromise;case 2:return e.abrupt("return",Ru(t,n,!1));case 3:case"end":return e.stop()}}),e)}))),Pu.apply(this,arguments)}function Ru(e,t){return Lu.apply(this,arguments)}function Lu(){return Lu=Fe(Re().mark((function e(t,n){var r,i,a,o,u,s=arguments;return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>2&&void 0!==s[2]&&s[2],i=Wr(t),a=nu(i,n),o=new gu(i,a,r),e.next=6,o.execute();case 6:if(!(u=e.sent)||r){e.next=13;break}return delete u.user._redirectEventId,e.next=11,i._persistUserIfCurrent(u.user);case 11:return e.next=13,i._setRedirectUser(null,n);case 13:return e.abrupt("return",u);case 14:case"end":return e.stop()}}),e)}))),Lu.apply(this,arguments)}function Mu(e){return Fu.apply(this,arguments)}function Fu(){return(Fu=Fe(Re().mark((function e(t){var n;return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=uo("".concat(t.uid,":::")),t._redirectEventId=n,e.next=4,t.auth._setRedirectUser(t);case 4:return e.next=6,t.auth._persistUserIfCurrent(t);case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Vu=function(){function e(t){Z(this,e),this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}return G(e,[{key:"registerConsumer",value:function(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}},{key:"unregisterConsumer",value:function(e){this.consumers.delete(e)}},{key:"onEvent",value:function(e){var t=this;if(this.hasEventBeenHandled(e))return!1;var n=!1;return this.consumers.forEach((function(r){t.isEventForConsumer(e,r)&&(n=!0,t.sendToConsumer(e,r),t.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Uu(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}},{key:"sendToConsumer",value:function(e,t){var n;if(e.error&&!Uu(e)){var r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(Dn(this.auth,r))}else t.onAuthEvent(e)}},{key:"isEventForConsumer",value:function(e,t){var n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}},{key:"hasEventBeenHandled",value:function(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(ju(e))}},{key:"saveEventToCache",value:function(e){this.cachedEventUids.add(ju(e)),this.lastProcessedEventTime=Date.now()}}]),e}();function ju(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((function(e){return e})).join("-")}function Uu(e){var t=e.type,n=e.error;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}function zu(e){return Bu.apply(this,arguments)}function Bu(){return Bu=Fe(Re().mark((function e(t){var n,r=arguments;return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},e.abrupt("return",$n(t,"GET","/v1/projects",n));case 2:case"end":return e.stop()}}),e)}))),Bu.apply(this,arguments)}var qu=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Zu=/^https?/;function Ku(){return Ku=Fe(Re().mark((function e(t){var n,r,i,a,o;return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.config.emulator){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,zu(t);case 4:n=e.sent,r=n.authorizedDomains,i=Q(r),e.prev=7,i.s();case 9:if((a=i.n()).done){e.next=20;break}if(o=a.value,e.prev=11,!Wu(o)){e.next=14;break}return e.abrupt("return");case 14:e.next=18;break;case 16:e.prev=16,e.t0=e.catch(11);case 18:e.next=9;break;case 20:e.next=25;break;case 22:e.prev=22,e.t1=e.catch(7),i.e(e.t1);case 25:return e.prev=25,i.f(),e.finish(25);case 28:On(t,"unauthorized-domain");case 29:case"end":return e.stop()}}),e,null,[[7,22,25,28],[11,16]])}))),Ku.apply(this,arguments)}function Wu(e){var t=zn(),n=new URL(t),r=n.protocol,i=n.hostname;if(e.startsWith("chrome-extension://")){var a=new URL(e);return""===a.hostname&&""===i?"chrome-extension:"===r&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===r&&a.hostname===i}if(!Zu.test(r))return!1;if(qu.test(e))return i===e;var o=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}var Gu=new Zn(3e4,6e4);function Hu(){var e=co().___jsl;if(null===e||void 0===e?void 0:e.H)for(var t=0,n=Object.keys(e.H);t<n.length;t++){var r=n[t];if(e.H[r].r=e.H[r].r||[],e.H[r].L=e.H[r].L||[],e.H[r].r=(0,Le.Z)(e.H[r].L),e.CP)for(var i=0;i<e.CP.length;i++)e.CP[i]=null}}var Qu=null;function $u(e){return Qu=Qu||function(e){return new Promise((function(t,n){var r,i,a;function o(){Hu(),gapi.load("gapi.iframes",{callback:function(){t(gapi.iframes.getContext())},ontimeout:function(){Hu(),n(Dn(e,"network-request-failed"))},timeout:Gu.get()})}if(null===(i=null===(r=co().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(a=co().gapi)||void 0===a?void 0:a.load)){var u=Ro("iframefcb");return co()[u]=function(){gapi.load?o():n(Dn(e,"network-request-failed"))},Po("https://apis.google.com/js/api.js?onload=".concat(u)).catch((function(e){return n(e)}))}o()}})).catch((function(e){throw Qu=null,e}))}(e),Qu}var Yu=new Zn(5e3,15e3),Xu="__/auth/iframe",Ju="emulator/auth/iframe",es={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},ts=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function ns(e){var t=e.config;Mn(t.authDomain,e,"auth-domain-config-required");var n=t.emulator?Kn(t,Ju):"https://".concat(e.config.authDomain,"/").concat(Xu),r={apiKey:t.apiKey,appName:e.name,v:Rt},i=ts.get(e.config.apiHost);i&&(r.eid=i);var a=e._getFrameworks();return a.length&&(r.fw=a.join(",")),"".concat(n,"?").concat(Te(r).slice(1))}function rs(e){return is.apply(this,arguments)}function is(){return is=Fe(Re().mark((function e(t){var n,r;return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$u(t);case 2:return n=e.sent,Mn(r=co().gapi,t,"internal-error"),e.abrupt("return",n.open({where:document.body,url:ns(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:es,dontclear:!0},(function(e){return new Promise(function(){var n=Fe(Re().mark((function n(r,i){var a,o,u;return Re().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return u=function(){co().clearTimeout(o),r(e)},n.next=3,e.restyle({setHideOnLeave:!1});case 3:a=Dn(t,"network-request-failed"),o=co().setTimeout((function(){i(a)}),Yu.get()),e.ping(u).then(u,(function(){i(a)}));case 6:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}())})));case 6:case"end":return e.stop()}}),e)}))),is.apply(this,arguments)}var as={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},os=500,us=600,ss="_blank",cs="http://localhost",ls=function(){function e(t){Z(this,e),this.window=t,this.associatedEvent=null}return G(e,[{key:"close",value:function(){if(this.window)try{this.window.close()}catch(e){}}}]),e}();function fs(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:os,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:us,o=Math.max((window.screen.availHeight-i)/2,0).toString(),u=Math.max((window.screen.availWidth-r)/2,0).toString(),s="",c=Object.assign(Object.assign({},as),{width:r.toString(),height:i.toString(),top:o,left:u}),l=pe().toLowerCase();n&&(s=Mr(l)?ss:n),Rr(l)&&(t=t||cs,c.scrollbars="yes");var f=Object.entries(c).reduce((function(e,t){var n=(0,a.Z)(t,2),r=n[0],i=n[1];return"".concat(e).concat(r,"=").concat(i,",")}),"");if(function(){var e;return zr(arguments.length>0&&void 0!==arguments[0]?arguments[0]:pe())&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(l)&&"_self"!==s)return function(e,t){var n=document.createElement("a");n.href=e,n.target=t;var r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",s),new ls(null);var h=window.open(t||"",s,f);Mn(h,e,"popup-blocked");try{h.focus()}catch(d){}return new ls(h)}var hs="__/auth/handler",ds="emulator/auth/handler";function ps(e,t,n,r,i,o){Mn(e.config.authDomain,e,"auth-domain-config-required"),Mn(e.config.apiKey,e,"invalid-api-key");var u={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:Rt,eventId:i};if(t instanceof Pi){t.setDefaultLanguage(e.languageCode),u.providerId=t.providerId||"",function(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(u.customParameters=JSON.stringify(t.getCustomParameters()));for(var s=0,c=Object.entries(o||{});s<c.length;s++){var l=(0,a.Z)(c[s],2),f=l[0],h=l[1];u[f]=h}}if(t instanceof Ri){var d=t.getScopes().filter((function(e){return""!==e}));d.length>0&&(u.scopes=d.join(","))}e.tenantId&&(u.tid=e.tenantId);for(var p=u,v=0,y=Object.keys(p);v<y.length;v++){var m=y[v];void 0===p[m]&&delete p[m]}return"".concat(function(e){var t=e.config;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(hs);return Kn(t,ds)}(e),"?").concat(Te(p).slice(1))}var vs="webStorageSupport",ys=function(){function e(){Z(this,e),this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=io,this._completeRedirectFn=Ru,this._overrideRedirectResult=_u}return G(e,[{key:"_openPopup",value:function(){var e=Fe(Re().mark((function e(t,n,r,i){var a,o;return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Vn(null===(a=this.eventManagers[t._key()])||void 0===a?void 0:a.manager,"_initialize() not called before _openPopup()"),o=ps(t,n,r,zn(),i),e.abrupt("return",fs(t,o,uo()));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=Fe(Re().mark((function e(t,n,r,i){return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._originValidation(t);case 2:return a=ps(t,n,r,zn(),i),co().location.href=a,e.abrupt("return",new Promise((function(){})));case 4:case"end":return e.stop()}var a}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_initialize",value:function(e){var t=this,n=e._key();if(this.eventManagers[n]){var r=this.eventManagers[n],i=r.manager,a=r.promise;return i?Promise.resolve(i):(Vn(a,"If manager is not set, promise should be"),a)}var o=this.initAndGetManager(e);return this.eventManagers[n]={promise:o},o.catch((function(){delete t.eventManagers[n]})),o}},{key:"initAndGetManager",value:function(){var e=Fe(Re().mark((function e(t){var n,r;return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,rs(t);case 2:return n=e.sent,r=new Vu(t),n.register("authEvent",(function(e){return Mn(null===e||void 0===e?void 0:e.authEvent,t,"invalid-auth-event"),{status:r.onEvent(e.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,e.abrupt("return",r);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.iframes[e._key()].send(vs,{type:vs},(function(n){var r,i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r[vs];void 0!==i&&t(!!i),On(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return Ku.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"_shouldInitProactively",get:function(){return Br()||Lr()||zr()}}]),e}(),ms=ys,gs=function(){function e(t){Z(this,e),this.factorId=t}return G(e,[{key:"_process",value:function(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return Fn("unexpected MultiFactorSessionType")}}}]),e}(),ks=function(e){X(n,e);var t=ne(n);function n(e){var r;return Z(this,n),(r=t.call(this,"phone")).credential=e,r}return G(n,[{key:"_finalizeEnroll",value:function(e,t,n){return function(e,t){return $n(e,"POST","/v2/accounts/mfaEnrollment:finalize",Qn(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}},{key:"_finalizeSignIn",value:function(e,t){return function(e,t){return $n(e,"POST","/v2/accounts/mfaSignIn:finalize",Qn(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}],[{key:"_fromCredential",value:function(e){return new n(e)}}]),n}(gs),bs=function(){function e(){Z(this,e)}return G(e,null,[{key:"assertion",value:function(e){return ks._fromCredential(e)}}]),e}();bs.FACTOR_ID="phone";var ws="@firebase/auth",xs="0.21.3",_s=function(){function e(t){Z(this,e),this.auth=t,this.internalListeners=new Map}return G(e,[{key:"getUid",value:function(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}},{key:"getToken",value:function(){var e=Fe(Re().mark((function e(t){var n;return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertAuthConfigured(),e.next=3,this.auth._initializationPromise;case 3:if(this.auth.currentUser){e.next=5;break}return e.abrupt("return",null);case 5:return e.next=7,this.auth.currentUser.getIdToken(t);case 7:return n=e.sent,e.abrupt("return",{accessToken:n});case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"addAuthTokenListener",value:function(e){if(this.assertAuthConfigured(),!this.internalListeners.has(e)){var t=this.auth.onIdTokenChanged((function(t){e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}}},{key:"removeAuthTokenListener",value:function(e){this.assertAuthConfigured();var t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}},{key:"assertAuthConfigured",value:function(){Mn(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}},{key:"updateProactiveRefresh",value:function(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}]),e}();var Is;!function(e){var t;null===(t=fe())||void 0===t||t["_".concat(e)]}("authIdTokenMaxAge");function Ss(){return window}Is="Browser",Tt(new Ve("auth",(function(e,t){var n=t.options,r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=r.options,o=a.apiKey,u=a.authDomain;return function(e,t){Mn(o&&!o.includes(":"),"invalid-api-key",{appName:e.name}),Mn(!(null===u||void 0===u?void 0:u.includes(":")),"argument-error",{appName:e.name});var r={apiKey:o,authDomain:u,clientPlatform:Is,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:qr(Is)},i=new Kr(e,t,r);return function(e,t){var n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Un);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(i,n),i}(r,i)}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((function(e,t,n){e.getProvider("auth-internal").initialize()}))),Tt(new Ve("auth-internal",(function(e){return function(e){return new _s(e)}(Wr(e.getProvider("auth").getImmediate()))}),"PRIVATE").setInstantiationMode("EXPLICIT")),Ut(ws,xs,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(Is)),Ut(ws,xs,"esm2017");var Es=2e3;function Ts(e,t,n){return Cs.apply(this,arguments)}function Cs(){return Cs=Fe(Re().mark((function e(t,n,r){var i,a,o,u,s;return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Ss(),o=a.BuildInfo,Vn(n.sessionId,"AuthEvent did not contain a session ID"),e.next=4,Rs(n.sessionId);case 4:return u=e.sent,s={},zr()?s.ibi=o.packageName:Vr()?s.apn=o.packageName:On(t,"operation-not-supported-in-this-environment"),o.displayName&&(s.appDisplayName=o.displayName),s.sessionId=u,e.abrupt("return",ps(t,r,n.type,void 0,null!==(i=n.eventId)&&void 0!==i?i:void 0,s));case 10:case"end":return e.stop()}}),e)}))),Cs.apply(this,arguments)}function As(){return As=Fe(Re().mark((function e(t){var n,r,i;return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Ss(),r=n.BuildInfo,i={},zr()?i.iosBundleId=r.packageName:Vr()?i.androidPackageName=r.packageName:On(t,"operation-not-supported-in-this-environment"),e.next=5,zu(t,i);case 5:case"end":return e.stop()}}),e)}))),As.apply(this,arguments)}function Ns(e){var t=Ss().cordova;return new Promise((function(n){t.plugins.browsertab.isAvailable((function(r){var i=null;r?t.plugins.browsertab.openUrl(e):i=t.InAppBrowser.open(e,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pe();return/(iPad|iPhone|iPod).*OS 7_\d/i.test(e)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(e)}()?"_blank":"_system","location=yes"),n(i)}))}))}function Os(e,t,n){return Ds.apply(this,arguments)}function Ds(){return Ds=Fe(Re().mark((function e(t,n,r){var i,a,o;return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Ss(),a=i.cordova,o=function(){},e.prev=2,e.next=5,new Promise((function(e,i){var u=null;function s(){var t;e();var n=null===(t=a.plugins.browsertab)||void 0===t?void 0:t.close;"function"===typeof n&&n(),"function"===typeof(null===r||void 0===r?void 0:r.close)&&r.close()}function c(){u||(u=window.setTimeout((function(){i(Dn(t,"redirect-cancelled-by-user"))}),Es))}function l(){"visible"===(null===document||void 0===document?void 0:document.visibilityState)&&c()}n.addPassiveListener(s),document.addEventListener("resume",c,!1),Vr()&&document.addEventListener("visibilitychange",l,!1),o=function(){n.removePassiveListener(s),document.removeEventListener("resume",c,!1),document.removeEventListener("visibilitychange",l,!1),u&&window.clearTimeout(u)}}));case 5:return e.prev=5,o(),e.finish(5);case 8:case"end":return e.stop()}}),e,null,[[2,,5,8]])}))),Ds.apply(this,arguments)}function Ps(e){var t,n,r,i,a,o,u,s,c,l,f=Ss();Mn("function"===typeof(null===(t=null===f||void 0===f?void 0:f.universalLinks)||void 0===t?void 0:t.subscribe),e,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),Mn("undefined"!==typeof(null===(n=null===f||void 0===f?void 0:f.BuildInfo)||void 0===n?void 0:n.packageName),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),Mn("function"===typeof(null===(a=null===(i=null===(r=null===f||void 0===f?void 0:f.cordova)||void 0===r?void 0:r.plugins)||void 0===i?void 0:i.browsertab)||void 0===a?void 0:a.openUrl),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Mn("function"===typeof(null===(s=null===(u=null===(o=null===f||void 0===f?void 0:f.cordova)||void 0===o?void 0:o.plugins)||void 0===u?void 0:u.browsertab)||void 0===s?void 0:s.isAvailable),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Mn("function"===typeof(null===(l=null===(c=null===f||void 0===f?void 0:f.cordova)||void 0===c?void 0:c.InAppBrowser)||void 0===l?void 0:l.open),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}function Rs(e){return Ls.apply(this,arguments)}function Ls(){return(Ls=Fe(Re().mark((function e(t){var n,r,i;return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Ms(t),e.next=3,crypto.subtle.digest("SHA-256",n);case 3:return r=e.sent,i=Array.from(new Uint8Array(r)),e.abrupt("return",i.map((function(e){return e.toString(16).padStart(2,"0")})).join(""));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ms(e){if(Vn(/[0-9a-zA-Z]+/.test(e),"Can only convert alpha-numeric strings"),"undefined"!==typeof TextEncoder)return(new TextEncoder).encode(e);for(var t=new ArrayBuffer(e.length),n=new Uint8Array(t),r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}var Fs=20,Vs=function(e){X(n,e);var t=ne(n);function n(){var e;return Z(this,n),(e=t.apply(this,arguments)).passiveListeners=new Set,e.initPromise=new Promise((function(t){e.resolveInialized=t})),e}return G(n,[{key:"addPassiveListener",value:function(e){this.passiveListeners.add(e)}},{key:"removePassiveListener",value:function(e){this.passiveListeners.delete(e)}},{key:"resetRedirect",value:function(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}},{key:"onEvent",value:function(e){return this.resolveInialized(),this.passiveListeners.forEach((function(t){return t(e)})),bn(J(n.prototype),"onEvent",this).call(this,e)}},{key:"initialized",value:function(){var e=Fe(Re().mark((function e(){return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.initPromise;case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(Vu);function js(e,t){return{type:t,eventId:arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,urlResponse:null,sessionId:Zs(),postBody:null,tenantId:e.tenantId,error:Dn(e,"no-auth-event")}}function Us(e,t){return Ks()._set(Ws(e),t)}function zs(e){return Bs.apply(this,arguments)}function Bs(){return Bs=Fe(Re().mark((function e(t){var n;return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ks()._get(Ws(t));case 2:if(!(n=e.sent)){e.next=6;break}return e.next=6,Ks()._remove(Ws(t));case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)}))),Bs.apply(this,arguments)}function qs(e,t){var n,r,i=function(e){var t=Gs(e),n=t.link?decodeURIComponent(t.link):void 0,r=Gs(n).link,i=t.deep_link_id?decodeURIComponent(t.deep_link_id):void 0;return Gs(i).link||i||r||n||e}(t);if(i.includes("/__/auth/callback")){var a=Gs(i),o=a.firebaseError?function(e){try{return JSON.parse(e)}catch(t){return null}}(decodeURIComponent(a.firebaseError)):null,u=null===(r=null===(n=null===o||void 0===o?void 0:o.code)||void 0===n?void 0:n.split("auth/"))||void 0===r?void 0:r[1],s=u?Dn(u):null;return s?{type:e.type,eventId:e.eventId,tenantId:e.tenantId,error:s,urlResponse:null,sessionId:null,postBody:null}:{type:e.type,eventId:e.eventId,tenantId:e.tenantId,sessionId:e.sessionId,urlResponse:i,postBody:null}}return null}function Zs(){for(var e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",n=0;n<Fs;n++){var r=Math.floor(Math.random()*t.length);e.push(t.charAt(r))}return e.join("")}function Ks(){return Un(no)}function Ws(e){return Or("authEvent",e.config.apiKey,e.name)}function Gs(e){if(!(null===e||void 0===e?void 0:e.includes("?")))return{};var t,n=e.split("?"),r=(t=n,(0,mn.Z)(t)||(0,gn.Z)(t)||(0,H.Z)(t)||(0,kn.Z)());r[0];return Ce(r.slice(1).join("?"))}var Hs=function(){function e(){Z(this,e),this._redirectPersistence=io,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Ru,this._overrideRedirectResult=_u}return G(e,[{key:"_initialize",value:function(){var e=Fe(Re().mark((function e(t){var n,r;return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t._key(),(r=this.eventManagers.get(n))||(r=new Vs(t),this.eventManagers.set(n,r),this.attachCallbackListeners(t,r)),e.abrupt("return",r);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(e){On(e,"operation-not-supported-in-this-environment")}},{key:"_openRedirect",value:function(){var e=Fe(Re().mark((function e(t,n,r,i){var a,o,u,s;return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Ps(t),e.next=3,this._initialize(t);case 3:return a=e.sent,e.next=6,a.initialized();case 6:return a.resetRedirect(),mu.clear(),e.next=10,this._originValidation(t);case 10:return o=js(t,r,i),e.next=13,Us(t,o);case 13:return e.next=15,Ts(t,o,n);case 15:return u=e.sent,e.next=18,Ns(u);case 18:return s=e.sent,e.abrupt("return",Os(t,a,s));case 20:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){throw new Error("Method not implemented.")}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return As.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"attachCallbackListeners",value:function(e,t){var n=Ss(),r=n.universalLinks,i=n.handleOpenURL,a=n.BuildInfo,o=setTimeout(Fe(Re().mark((function n(){return Re().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,zs(e);case 2:t.onEvent($s());case 3:case"end":return n.stop()}}),n)}))),500),u=function(){var n=Fe(Re().mark((function n(r){var i,a;return Re().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return clearTimeout(o),n.next=3,zs(e);case 3:i=n.sent,a=null,i&&(null===r||void 0===r?void 0:r.url)&&(a=qs(i,r.url)),t.onEvent(a||$s());case 7:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();"undefined"!==typeof r&&"function"===typeof r.subscribe&&r.subscribe(null,u);var s=i,c="".concat(a.packageName.toLowerCase(),"://");Ss().handleOpenURL=function(){var e=Fe(Re().mark((function e(t){return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.toLowerCase().startsWith(c)&&u({url:t}),"function"===typeof s)try{s(t)}catch(n){console.error(n)}case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}]),e}(),Qs=Hs;function $s(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Dn("no-auth-event")}}var Ys="@firebase/auth-compat",Xs="0.3.3",Js=1e3;function ec(){var e;return(null===(e=null===self||void 0===self?void 0:self.location)||void 0===e?void 0:e.protocol)||null}function tc(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pe();return!("file:"!==ec()&&"ionic:"!==ec()&&"capacitor:"!==ec()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function nc(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pe();return ge()&&11===(null===document||void 0===document?void 0:document.documentMode)||function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pe();return/Edge\/\d+/.test(e)}(e)}function rc(){try{var e=self.localStorage,t=uo();if(e)return e.setItem(t,"1"),e.removeItem(t),!nc()||ke()}catch(n){return ic()&&ke()}return!1}function ic(){return"undefined"!==typeof n.g&&"WorkerGlobalScope"in n.g&&"importScripts"in n.g}function ac(){return("http:"===ec()||"https:"===ec()||ye()||tc())&&!(me()||ve())&&rc()&&!ic()}function oc(){return tc()&&"undefined"!==typeof document}function uc(){return sc.apply(this,arguments)}function sc(){return(sc=Fe(Re().mark((function e(){return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(oc()){e.next=2;break}return e.abrupt("return",!1);case 2:return e.abrupt("return",new Promise((function(e){var t=setTimeout((function(){e(!1)}),Js);document.addEventListener("deviceready",(function(){clearTimeout(t),e(!0)}))})));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var cc={LOCAL:"local",NONE:"none",SESSION:"session"},lc=Mn,fc="persistence";function hc(e,t){lc(Object.values(cc).includes(t),e,"invalid-persistence-type"),me()?lc(t!==cc.SESSION,e,"unsupported-persistence-type"):ve()?lc(t===cc.NONE,e,"unsupported-persistence-type"):ic()?lc(t===cc.NONE||t===cc.LOCAL&&ke(),e,"unsupported-persistence-type"):lc(t===cc.NONE||rc(),e,"unsupported-persistence-type")}function dc(e){return pc.apply(this,arguments)}function pc(){return pc=Fe(Re().mark((function e(t){var n,r;return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._initializationPromise;case 2:n=vc(),r=Or(fc,t.config.apiKey,t.name),n&&n.setItem(r,t._getPersistence());case 5:case"end":return e.stop()}}),e)}))),pc.apply(this,arguments)}function vc(){var e;try{return(null===(e="undefined"!==typeof window?window:null)||void 0===e?void 0:e.sessionStorage)||null}catch(t){return null}}var yc=Mn,mc=function(){function e(){Z(this,e),this.browserResolver=Un(ms),this.cordovaResolver=Un(Qs),this.underlyingResolver=null,this._redirectPersistence=io,this._completeRedirectFn=Ru,this._overrideRedirectResult=_u}return G(e,[{key:"_initialize",value:function(){var e=Fe(Re().mark((function e(t){return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._initialize(t));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(){var e=Fe(Re().mark((function e(t,n,r,i){return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openPopup(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=Fe(Re().mark((function e(t,n,r,i){return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openRedirect(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}},{key:"_originValidation",value:function(e){return this.assertedUnderlyingResolver._originValidation(e)}},{key:"_shouldInitProactively",get:function(){return oc()||this.browserResolver._shouldInitProactively}},{key:"assertedUnderlyingResolver",get:function(){return yc(this.underlyingResolver,"internal-error"),this.underlyingResolver}},{key:"selectUnderlyingResolver",value:function(){var e=Fe(Re().mark((function e(){var t;return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.underlyingResolver){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,uc();case 4:t=e.sent,this.underlyingResolver=t?this.cordovaResolver:this.browserResolver;case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function gc(e){return e.unwrap()}function kc(e,t){var n,r=null===(n=t.customData)||void 0===n?void 0:n._tokenResponse;if("auth/multi-factor-auth-required"===(null===t||void 0===t?void 0:t.code))t.resolver=new Ic(e,function(e,t){var n,r=Pe(e),i=t;return Mn(t.customData.operationType,r,"argument-error"),Mn(null===(n=i.customData._serverResponse)||void 0===n?void 0:n.mfaPendingCredential,r,"argument-error"),Ga._fromError(r,i)}(e,t));else if(r){var i=bc(t),a=t;i&&(a.credential=i,a.tenantId=r.tenantId||void 0,a.email=r.email||void 0,a.phoneNumber=r.phoneNumber||void 0)}}function bc(e){var t=(e instanceof we?e.customData:e)._tokenResponse;if(!t)return null;if(!(e instanceof we)&&"temporaryProof"in t&&"phoneNumber"in t)return tu.credentialFromResult(e);var n,r=t.providerId;if(!r||r===_n.PASSWORD)return null;switch(r){case _n.GOOGLE:n=Fi;break;case _n.FACEBOOK:n=Mi;break;case _n.GITHUB:n=Vi;break;case _n.TWITTER:n=Bi;break;default:var i=t.oauthIdToken,a=t.oauthAccessToken,o=t.oauthTokenSecret,u=t.pendingToken,s=t.nonce;return a||o||i||u?u?r.startsWith("saml.")?ji._create(r,u):_i._fromParams({providerId:r,signInMethod:r,pendingToken:u,idToken:i,accessToken:a}):new Li(r).credential({idToken:i,accessToken:a,rawNonce:s}):null}return e instanceof we?n.credentialFromError(e):n.credentialFromResult(e)}function wc(e,t){return t.catch((function(t){throw t instanceof we&&kc(e,t),t})).then((function(e){var t,n=e.operationType,r=e.user;return{operationType:n,credential:(t=e,bc(t)),additionalUserInfo:Ka(e),user:Sc.getOrCreate(r)}}))}function xc(e,t){return _c.apply(this,arguments)}function _c(){return _c=Fe(Re().mark((function e(t,n){var r;return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n;case 2:return r=e.sent,e.abrupt("return",{verificationId:r.verificationId,confirm:function(e){return wc(t,r.confirm(e))}});case 4:case"end":return e.stop()}}),e)}))),_c.apply(this,arguments)}var Ic=function(){function e(t,n){Z(this,e),this.resolver=n,this.auth=t.wrapped()}return G(e,[{key:"session",get:function(){return this.resolver.session}},{key:"hints",get:function(){return this.resolver.hints}},{key:"resolveSignIn",value:function(e){return wc(gc(this.auth),this.resolver.resolveSignIn(e))}}]),e}(),Sc=function(){function e(t){Z(this,e),this._delegate=t,this.multiFactor=function(e){var t=Pe(e);return Ya.has(t)||Ya.set(t,$a._fromUser(t)),Ya.get(t)}(t)}return G(e,[{key:"delete",value:function(){return this._delegate.delete()}},{key:"reload",value:function(){return this._delegate.reload()}},{key:"toJSON",value:function(){return this._delegate.toJSON()}},{key:"getIdTokenResult",value:function(e){return this._delegate.getIdTokenResult(e)}},{key:"getIdToken",value:function(e){return this._delegate.getIdToken(e)}},{key:"linkAndRetrieveDataWithCredential",value:function(e){return this.linkWithCredential(e)}},{key:"linkWithCredential",value:function(){var e=Fe(Re().mark((function e(t){return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",wc(this.auth,ca(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithPhoneNumber",value:function(){var e=Fe(Re().mark((function e(t,n){return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",xc(this.auth,Qo(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"linkWithPopup",value:function(){var e=Fe(Re().mark((function e(t){return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",wc(this.auth,du(this._delegate,t,mc)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithRedirect",value:function(){var e=Fe(Re().mark((function e(t){return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,dc(Wr(this.auth));case 2:return e.abrupt("return",Nu(this._delegate,t,mc));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateAndRetrieveDataWithCredential",value:function(e){return this.reauthenticateWithCredential(e)}},{key:"reauthenticateWithCredential",value:function(){var e=Fe(Re().mark((function e(t){return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",wc(this.auth,fa(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateWithPhoneNumber",value:function(e,t){return xc(this.auth,function(e,t,n){return Yo.apply(this,arguments)}(this._delegate,e,t))}},{key:"reauthenticateWithPopup",value:function(e){return wc(this.auth,function(e,t,n){return hu.apply(this,arguments)}(this._delegate,e,mc))}},{key:"reauthenticateWithRedirect",value:function(){var e=Fe(Re().mark((function e(t){return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,dc(Wr(this.auth));case 2:return e.abrupt("return",Cu(this._delegate,t,mc));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"sendEmailVerification",value:function(e){return function(e,t){return Da.apply(this,arguments)}(this._delegate,e)}},{key:"unlink",value:function(){var e=Fe(Re().mark((function e(t){return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Yi(this._delegate,t);case 2:return e.abrupt("return",this);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateEmail",value:function(e){return function(e,t){return Fa(Pe(e),t,null)}(this._delegate,e)}},{key:"updatePassword",value:function(e){return function(e,t){return Fa(Pe(e),null,t)}(this._delegate,e)}},{key:"updatePhoneNumber",value:function(e){return function(e,t){return eu.apply(this,arguments)}(this._delegate,e)}},{key:"updateProfile",value:function(e){return function(e,t){return Ma.apply(this,arguments)}(this._delegate,e)}},{key:"verifyBeforeUpdateEmail",value:function(e,t){return function(e,t,n){return Pa.apply(this,arguments)}(this._delegate,e,t)}},{key:"emailVerified",get:function(){return this._delegate.emailVerified}},{key:"isAnonymous",get:function(){return this._delegate.isAnonymous}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"phoneNumber",get:function(){return this._delegate.phoneNumber}},{key:"providerData",get:function(){return this._delegate.providerData}},{key:"refreshToken",get:function(){return this._delegate.refreshToken}},{key:"tenantId",get:function(){return this._delegate.tenantId}},{key:"displayName",get:function(){return this._delegate.displayName}},{key:"email",get:function(){return this._delegate.email}},{key:"photoURL",get:function(){return this._delegate.photoURL}},{key:"providerId",get:function(){return this._delegate.providerId}},{key:"uid",get:function(){return this._delegate.uid}},{key:"auth",get:function(){return this._delegate.auth}}],[{key:"getOrCreate",value:function(t){return e.USER_MAP.has(t)||e.USER_MAP.set(t,new e(t)),e.USER_MAP.get(t)}}]),e}();Sc.USER_MAP=new WeakMap;var Ec=Mn,Tc=function(){function e(t,n){if(Z(this,e),this.app=t,n.isInitialized())return this._delegate=n.getImmediate(),void this.linkUnderlyingAuth();var r=t.options.apiKey;Ec(r,"invalid-api-key",{appName:t.name}),Ec(r,"invalid-api-key",{appName:t.name});var i="undefined"!==typeof window?mc:void 0;this._delegate=n.initialize({options:{persistence:Ac(r,t.name),popupRedirectResolver:i}}),this._delegate._updateErrorMap(En),this.linkUnderlyingAuth()}return G(e,[{key:"emulatorConfig",get:function(){return this._delegate.emulatorConfig}},{key:"currentUser",get:function(){return this._delegate.currentUser?Sc.getOrCreate(this._delegate.currentUser):null}},{key:"languageCode",get:function(){return this._delegate.languageCode},set:function(e){this._delegate.languageCode=e}},{key:"settings",get:function(){return this._delegate.settings}},{key:"tenantId",get:function(){return this._delegate.tenantId},set:function(e){this._delegate.tenantId=e}},{key:"useDeviceLanguage",value:function(){this._delegate.useDeviceLanguage()}},{key:"signOut",value:function(){return this._delegate.signOut()}},{key:"useEmulator",value:function(e,t){Hr(this._delegate,e,t)}},{key:"applyActionCode",value:function(e){return function(e,t){return wa.apply(this,arguments)}(this._delegate,e)}},{key:"checkActionCode",value:function(e){return xa(this._delegate,e)}},{key:"confirmPasswordReset",value:function(e,t){return function(e,t,n){return ba.apply(this,arguments)}(this._delegate,e,t)}},{key:"createUserWithEmailAndPassword",value:function(){var e=Fe(Re().mark((function e(t,n){return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",wc(this._delegate,Sa(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"fetchProvidersForEmail",value:function(e){return this.fetchSignInMethodsForEmail(e)}},{key:"fetchSignInMethodsForEmail",value:function(e){return function(e,t){return Oa.apply(this,arguments)}(this._delegate,e)}},{key:"isSignInWithEmailLink",value:function(e){return function(e,t){var n=Oi.parseLink(t);return"EMAIL_SIGNIN"===(null===n||void 0===n?void 0:n.operation)}(this._delegate,e)}},{key:"getRedirectResult",value:function(){var e=Fe(Re().mark((function e(){var t;return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Ec(ac(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,Du(this._delegate,mc);case 3:if(t=e.sent){e.next=6;break}return e.abrupt("return",{credential:null,user:null});case 6:return e.abrupt("return",wc(this._delegate,Promise.resolve(t)));case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"addFrameworkForLogging",value:function(e){!function(e,t){Wr(e)._logFramework(t)}(this._delegate,e)}},{key:"onAuthStateChanged",value:function(e,t,n){var r=Cc(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onAuthStateChanged(i,a,o)}},{key:"onIdTokenChanged",value:function(e,t,n){var r=Cc(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onIdTokenChanged(i,a,o)}},{key:"sendSignInLinkToEmail",value:function(e,t){return function(e,t,n){return Ta.apply(this,arguments)}(this._delegate,e,t)}},{key:"sendPasswordResetEmail",value:function(e,t){return function(e,t,n){return ka.apply(this,arguments)}(this._delegate,e,t||void 0)}},{key:"setPersistence",value:function(){var e=Fe(Re().mark((function e(t){var n,r;return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:hc(this._delegate,t),e.t0=t,e.next=e.t0===cc.SESSION?4:e.t0===cc.LOCAL?6:e.t0===cc.NONE?11:13;break;case 4:return n=io,e.abrupt("break",14);case 6:return e.next=8,Un(Ao)._isAvailable();case 8:return r=e.sent,n=r?Ao:no,e.abrupt("break",14);case 11:return n=Nr,e.abrupt("break",14);case 13:return e.abrupt("return",On("argument-error",{appName:this._delegate.name}));case 14:return e.abrupt("return",this._delegate.setPersistence(n));case 15:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInAndRetrieveDataWithCredential",value:function(e){return this.signInWithCredential(e)}},{key:"signInAnonymously",value:function(){return wc(this._delegate,function(e){return Gi.apply(this,arguments)}(this._delegate))}},{key:"signInWithCredential",value:function(e){return wc(this._delegate,ua(this._delegate,e))}},{key:"signInWithCustomToken",value:function(e){return wc(this._delegate,function(e,t){return va.apply(this,arguments)}(this._delegate,e))}},{key:"signInWithEmailAndPassword",value:function(e,t){return wc(this._delegate,function(e,t,n){return ua(Pe(e),Di.credential(t,n))}(this._delegate,e,t))}},{key:"signInWithEmailLink",value:function(e,t){return wc(this._delegate,function(e,t,n){return Ca.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPhoneNumber",value:function(e,t){return xc(this._delegate,function(e,t,n){return Ho.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPopup",value:function(){var e=Fe(Re().mark((function e(t){return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Ec(ac(),this._delegate,"operation-not-supported-in-this-environment"),e.abrupt("return",wc(this._delegate,lu(this._delegate,t,mc)));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInWithRedirect",value:function(){var e=Fe(Re().mark((function e(t){return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Ec(ac(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,dc(this._delegate);case 3:return e.abrupt("return",Eu(this._delegate,t,mc));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(e){return this._delegate.updateCurrentUser(e)}},{key:"verifyPasswordResetCode",value:function(e){return function(e,t){return Ia.apply(this,arguments)}(this._delegate,e)}},{key:"unwrap",value:function(){return this._delegate}},{key:"_delete",value:function(){return this._delegate._delete()}},{key:"linkUnderlyingAuth",value:function(){var e=this;this._delegate.wrapped=function(){return e}}}]),e}();function Cc(e,t,n){var r=e;"function"!==typeof e&&(r=e.next,t=e.error,n=e.complete);var i=r;return{next:function(e){return i(e&&Sc.getOrCreate(e))},error:t,complete:n}}function Ac(e,t){var n=function(e,t){var n=vc();if(!n)return[];var r=Or(fc,e,t);switch(n.getItem(r)){case cc.NONE:return[Nr];case cc.LOCAL:return[Ao,io];case cc.SESSION:return[io];default:return[]}}(e,t);if("undefined"===typeof self||n.includes(Ao)||n.push(Ao),"undefined"!==typeof window)for(var r=0,i=[no,io];r<i.length;r++){var a=i[r];n.includes(a)||n.push(a)}return n.includes(Nr)||n.push(Nr),n}Tc.Persistence=cc;var Nc=function(){function e(){Z(this,e),this.providerId="phone",this._delegate=new tu(gc(yn.auth()))}return G(e,[{key:"verifyPhoneNumber",value:function(e,t){return this._delegate.verifyPhoneNumber(e,t)}},{key:"unwrap",value:function(){return this._delegate}}],[{key:"credential",value:function(e,t){return tu.credential(e,t)}}]),e}();Nc.PHONE_SIGN_IN_METHOD=tu.PHONE_SIGN_IN_METHOD,Nc.PROVIDER_ID=tu.PROVIDER_ID;var Oc,Dc=Mn,Pc=function(){function e(t,n){var r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:yn.app();Z(this,e),Dc(null===(r=i.options)||void 0===r?void 0:r.apiKey,"invalid-api-key",{appName:i.name}),this._delegate=new Ko(t,n,i.auth()),this.type=this._delegate.type}return G(e,[{key:"clear",value:function(){this._delegate.clear()}},{key:"render",value:function(){return this._delegate.render()}},{key:"verify",value:function(){return this._delegate.verify()}}]),e}(),Rc="auth-compat";(Oc=yn).INTERNAL.registerComponent(new Ve(Rc,(function(e){var t=e.getProvider("app-compat").getImmediate(),n=e.getProvider("auth");return new Tc(t,n)}),"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:In.EMAIL_SIGNIN,PASSWORD_RESET:In.PASSWORD_RESET,RECOVER_EMAIL:In.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:In.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:In.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:In.VERIFY_EMAIL}},EmailAuthProvider:Di,FacebookAuthProvider:Mi,GithubAuthProvider:Vi,GoogleAuthProvider:Fi,OAuthProvider:Li,SAMLAuthProvider:zi,PhoneAuthProvider:Nc,PhoneMultiFactorGenerator:bs,RecaptchaVerifier:Pc,TwitterAuthProvider:Bi,Auth:Tc,AuthCredential:Yr,Error:we}).setInstantiationMode("LAZY").setMultipleInstances(!1)),Oc.registerVersion(Ys,Xs);var Lc,Mc="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{},Fc={},Vc=Vc||{},jc=Mc||self;function Uc(){}function zc(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function Bc(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var qc="closure_uid_"+(1e9*Math.random()>>>0),Zc=0;function Kc(e,t,n){return e.call.apply(e.bind,arguments)}function Wc(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function Gc(e,t,n){return(Gc=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Kc:Wc).apply(null,arguments)}function Hc(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function Qc(e,t){function n(){}n.prototype=t.prototype,e.X=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Wb=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}function $c(){this.s=this.s,this.o=this.o}$c.prototype.s=!1,$c.prototype.na=function(){!this.s&&(this.s=!0,this.M(),0)&&function(e){Object.prototype.hasOwnProperty.call(e,qc)&&e[qc]||(e[qc]=++Zc)}(this)},$c.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var Yc=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function Xc(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function Jc(e,t){for(var n=1;n<arguments.length;n++){var r=arguments[n];if(zc(r)){var i=e.length||0,a=r.length||0;e.length=i+a;for(var o=0;o<a;o++)e[i+o]=r[o]}else e.push(r)}}function el(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}el.prototype.h=function(){this.defaultPrevented=!0};var tl=function(){if(!jc.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{jc.addEventListener("test",Uc,t),jc.removeEventListener("test",Uc,t)}catch(tT){}return e}();function nl(e){return/^[\s\xa0]*$/.test(e)}var rl=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function il(e,t){return e<t?-1:e>t?1:0}function al(){var e=jc.navigator;return e&&(e=e.userAgent)?e:""}function ol(e){return-1!=al().indexOf(e)}function ul(e){return ul[" "](e),e}ul[" "]=Uc;var sl,cl=ol("Opera"),ll=ol("Trident")||ol("MSIE"),fl=ol("Edge"),hl=fl||ll,dl=ol("Gecko")&&!(-1!=al().toLowerCase().indexOf("webkit")&&!ol("Edge"))&&!(ol("Trident")||ol("MSIE"))&&!ol("Edge"),pl=-1!=al().toLowerCase().indexOf("webkit")&&!ol("Edge");function vl(){var e=jc.document;return e?e.documentMode:void 0}e:{var yl="",ml=function(){var e=al();return dl?/rv:([^\);]+)(\)|;)/.exec(e):fl?/Edge\/([\d\.]+)/.exec(e):ll?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):pl?/WebKit\/(\S+)/.exec(e):cl?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(ml&&(yl=ml?ml[1]:""),ll){var gl=vl();if(null!=gl&&gl>parseFloat(yl)){sl=String(gl);break e}}sl=yl}var kl,bl={};function wl(){return function(e){var t=bl;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}((function(){for(var e=0,t=rl(String(sl)).split("."),n=rl("9").split("."),r=Math.max(t.length,n.length),i=0;0==e&&i<r;i++){var a=t[i]||"",o=n[i]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],0==a[0].length&&0==o[0].length)break;e=il(0==a[1].length?0:parseInt(a[1],10),0==o[1].length?0:parseInt(o[1],10))||il(0==a[2].length,0==o[2].length)||il(a[2],o[2]),a=a[3],o=o[3]}while(0==e)}return 0<=e}))}if(jc.document&&ll){var xl=vl();kl=xl||(parseInt(sl,10)||void 0)}else kl=void 0;var _l=kl;function Il(e,t){if(el.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(dl){e:{try{ul(t.nodeName);var i=!0;break e}catch(eT){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:Sl[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&Il.X.h.call(this)}}Qc(Il,el);var Sl={2:"touch",3:"pen",4:"mouse"};Il.prototype.h=function(){Il.X.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var El="closure_listenable_"+(1e6*Math.random()|0),Tl=0;function Cl(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ha=i,this.key=++Tl,this.ba=this.ea=!1}function Al(e){e.ba=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function Nl(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function Ol(e){var t={};for(var n in e)t[n]=e[n];return t}var Dl="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Pl(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var a=0;a<Dl.length;a++)n=Dl[a],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function Rl(e){this.src=e,this.g={},this.h=0}function Ll(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],a=Yc(i,t);(r=0<=a)&&Array.prototype.splice.call(i,a,1),r&&(Al(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function Ml(e,t,n,r){for(var i=0;i<e.length;++i){var a=e[i];if(!a.ba&&a.listener==t&&a.capture==!!n&&a.ha==r)return i}return-1}Rl.prototype.add=function(e,t,n,r,i){var a=e.toString();(e=this.g[a])||(e=this.g[a]=[],this.h++);var o=Ml(e,t,r,i);return-1<o?(t=e[o],n||(t.ea=!1)):((t=new Cl(t,this.src,a,!!r,i)).ea=n,e.push(t)),t};var Fl="closure_lm_"+(1e6*Math.random()|0),Vl={};function jl(e,t,n,r,i){if(r&&r.once)return zl(e,t,n,r,i);if(Array.isArray(t)){for(var a=0;a<t.length;a++)jl(e,t[a],n,r,i);return null}return n=Hl(n),e&&e[El]?e.N(t,n,Bc(r)?!!r.capture:!!r,i):Ul(e,t,n,!1,r,i)}function Ul(e,t,n,r,i,a){if(!t)throw Error("Invalid event type");var o=Bc(i)?!!i.capture:!!i,u=Wl(e);if(u||(e[Fl]=u=new Rl(e)),(n=u.add(t,n,r,o,a)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}var t=Kl;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)tl||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(Zl(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function zl(e,t,n,r,i){if(Array.isArray(t)){for(var a=0;a<t.length;a++)zl(e,t[a],n,r,i);return null}return n=Hl(n),e&&e[El]?e.O(t,n,Bc(r)?!!r.capture:!!r,i):Ul(e,t,n,!0,r,i)}function Bl(e,t,n,r,i){if(Array.isArray(t))for(var a=0;a<t.length;a++)Bl(e,t[a],n,r,i);else r=Bc(r)?!!r.capture:!!r,n=Hl(n),e&&e[El]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=Ml(a=e.g[t],n,r,i))&&(Al(a[n]),Array.prototype.splice.call(a,n,1),0==a.length&&(delete e.g[t],e.h--)))):e&&(e=Wl(e))&&(t=e.g[t.toString()],e=-1,t&&(e=Ml(t,n,r,i)),(n=-1<e?t[e]:null)&&ql(n))}function ql(e){if("number"!==typeof e&&e&&!e.ba){var t=e.src;if(t&&t[El])Ll(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(Zl(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Wl(t))?(Ll(n,e),0==n.h&&(n.src=null,t[Fl]=null)):Al(e)}}}function Zl(e){return e in Vl?Vl[e]:Vl[e]="on"+e}function Kl(e,t){if(e.ba)e=!0;else{t=new Il(t,this);var n=e.listener,r=e.ha||e.src;e.ea&&ql(e),e=n.call(r,t)}return e}function Wl(e){return(e=e[Fl])instanceof Rl?e:null}var Gl="__closure_events_fn_"+(1e9*Math.random()>>>0);function Hl(e){return"function"===typeof e?e:(e[Gl]||(e[Gl]=function(t){return e.handleEvent(t)}),e[Gl])}function Ql(){$c.call(this),this.i=new Rl(this),this.P=this,this.I=null}function $l(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,"string"===typeof t)t=new el(t,e);else if(t instanceof el)t.target=t.target||e;else{var i=t;Pl(t=new el(r,e),i)}if(i=!0,n)for(var a=n.length-1;0<=a;a--){var o=t.g=n[a];i=Yl(o,r,!0,t)&&i}if(i=Yl(o=t.g=e,r,!0,t)&&i,i=Yl(o,r,!1,t)&&i,n)for(a=0;a<n.length;a++)i=Yl(o=t.g=n[a],r,!1,t)&&i}function Yl(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,a=0;a<t.length;++a){var o=t[a];if(o&&!o.ba&&o.capture==n){var u=o.listener,s=o.ha||o.src;o.ea&&Ll(e.i,o),i=!1!==u.call(s,r)&&i}}return i&&!r.defaultPrevented}Qc(Ql,$c),Ql.prototype[El]=!0,Ql.prototype.removeEventListener=function(e,t,n,r){Bl(this,e,t,n,r)},Ql.prototype.M=function(){if(Ql.X.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Al(n[r]);delete t.g[e],t.h--}}this.I=null},Ql.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},Ql.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var Xl=jc.JSON.stringify;function Jl(){var e=sf,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var ef,tf=function(){function e(){Z(this,e),this.h=this.g=null}return G(e,[{key:"add",value:function(e,t){var n=nf.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}}]),e}(),nf=new(function(){function e(t,n){Z(this,e),this.i=t,this.j=n,this.h=0,this.g=null}return G(e,[{key:"get",value:function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}]),e}())((function(){return new rf}),(function(e){return e.reset()})),rf=function(){function e(){Z(this,e),this.next=this.g=this.h=null}return G(e,[{key:"set",value:function(e,t){this.h=e,this.g=t,this.next=null}},{key:"reset",value:function(){this.next=this.g=this.h=null}}]),e}();function af(e){jc.setTimeout((function(){throw e}),0)}function of(e,t){ef||function(){var e=jc.Promise.resolve(void 0);ef=function(){e.then(cf)}}(),uf||(ef(),uf=!0),sf.add(e,t)}var uf=!1,sf=new tf;function cf(){for(var e;e=Jl();){try{e.h.call(e.g)}catch(tT){af(tT)}var t=nf;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}uf=!1}function lf(e,t){Ql.call(this),this.h=e||1,this.g=t||jc,this.j=Gc(this.lb,this),this.l=Date.now()}function ff(e){e.ca=!1,e.R&&(e.g.clearTimeout(e.R),e.R=null)}function hf(e,t,n){if("function"===typeof e)n&&(e=Gc(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=Gc(e.handleEvent,e)}return 2147483647<Number(t)?-1:jc.setTimeout(e,t||0)}function df(e){e.g=hf((function(){e.g=null,e.i&&(e.i=!1,df(e))}),e.j);var t=e.h;e.h=null,e.m.apply(null,t)}Qc(lf,Ql),(Lc=lf.prototype).ca=!1,Lc.R=null,Lc.lb=function(){if(this.ca){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-e):(this.R&&(this.g.clearTimeout(this.R),this.R=null),$l(this,"tick"),this.ca&&(ff(this),this.start()))}},Lc.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Lc.M=function(){lf.X.M.call(this),ff(this),delete this.g};var pf=function(e){X(n,e);var t=ne(n);function n(e,r){var i;return Z(this,n),(i=t.call(this)).m=e,i.j=r,i.h=null,i.i=!1,i.g=null,i}return G(n,[{key:"l",value:function(e){this.h=arguments,this.g?this.i=!0:df(this)}},{key:"M",value:function(){bn(J(n.prototype),"M",this).call(this),this.g&&(jc.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}]),n}($c);function vf(e){$c.call(this),this.h=e,this.g={}}Qc(vf,$c);var yf=[];function mf(e,t,n,r){Array.isArray(n)||(n&&(yf[0]=n.toString()),n=yf);for(var i=0;i<n.length;i++){var a=jl(t,n[i],r||e.handleEvent,!1,e.h||e);if(!a)break;e.g[a.key]=a}}function gf(e){Nl(e.g,(function(e,t){this.g.hasOwnProperty(t)&&ql(e)}),e),e.g={}}function kf(){this.g=!0}function bf(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var o=1;o<i.length;o++)i[o]=""}}}return Xl(n)}catch(GE){return t}}(e,n)+(r?" "+r:"")}))}vf.prototype.M=function(){vf.X.M.call(this),gf(this)},vf.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},kf.prototype.Aa=function(){this.g=!1},kf.prototype.info=function(){};var wf={},xf=null;function _f(){return xf=xf||new Ql}function If(e){el.call(this,wf.Pa,e)}function Sf(e){var t=_f();$l(t,new If(t))}function Ef(e,t){el.call(this,wf.STAT_EVENT,e),this.stat=t}function Tf(e){var t=_f();$l(t,new Ef(t,e))}function Cf(e,t){el.call(this,wf.Qa,e),this.size=t}function Af(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return jc.setTimeout((function(){e()}),t)}wf.Pa="serverreachability",Qc(If,el),wf.STAT_EVENT="statevent",Qc(Ef,el),wf.Qa="timingevent",Qc(Cf,el);var Nf={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},Of={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function Df(){}function Pf(e){return e.h||(e.h=e.i())}function Rf(){}Df.prototype.h=null;var Lf,Mf={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function Ff(){el.call(this,"d")}function Vf(){el.call(this,"c")}function jf(){}function Uf(e,t,n,r){this.l=e,this.j=t,this.m=n,this.U=r||1,this.S=new vf(this),this.O=Bf,e=hl?125:void 0,this.T=new lf(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new zf}function zf(){this.i=null,this.g="",this.h=!1}Qc(Ff,el),Qc(Vf,el),Qc(jf,Df),jf.prototype.g=function(){return new XMLHttpRequest},jf.prototype.i=function(){return{}},Lf=new jf;var Bf=45e3,qf={},Zf={};function Kf(e,t,n){e.K=1,e.v=lh(ah(t)),e.s=n,e.P=!0,Wf(e,null)}function Wf(e,t){e.F=Date.now(),$f(e),e.A=ah(e.v);var n=e.A,r=e.U;Array.isArray(r)||(r=[String(r)]),_h(n.i,"t",r),e.C=0,n=e.l.H,e.h=new zf,e.g=_d(e.l,n?t:null,!e.s),0<e.N&&(e.L=new pf(Gc(e.La,e,e.g),e.N)),mf(e.S,e.g,"readystatechange",e.ib),t=e.H?Ol(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.da(e.A,e.u,e.s,t)):(e.u="GET",e.g.da(e.A,e.u,null,t)),Sf(),function(e,t,n,r,i,a){e.info((function(){if(e.g)if(a)for(var o="",u=a.split("&"),s=0;s<u.length;s++){var c=u[s].split("=");if(1<c.length){var l=c[0];c=c[1];var f=l.split("_");o=2<=f.length&&"type"==f[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o}))}(e.j,e.u,e.A,e.m,e.U,e.s)}function Gf(e){return!!e.g&&("GET"==e.u&&2!=e.K&&e.l.Da)}function Hf(e,t,n){for(var r,i=!0;!e.I&&e.C<n.length;){if((r=Qf(e,n))==Zf){4==t&&(e.o=4,Tf(14),i=!1),bf(e.j,e.m,null,"[Incomplete Response]");break}if(r==qf){e.o=4,Tf(15),bf(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}bf(e.j,e.m,r,null),th(e,r)}Gf(e)&&r!=Zf&&r!=qf&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,Tf(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.$&&(e.$=!0,(t=e.l).g==e&&t.$&&!t.K&&(t.j.info("Great, no buffering proxy detected. Bytes received: "+n.length),vd(t),t.K=!0,Tf(11))):(bf(e.j,e.m,n,"[Invalid Chunked Response]"),eh(e),Jf(e))}function Qf(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?Zf:(n=Number(t.substring(n,r)),isNaN(n)?qf:(r+=1)+n>t.length?Zf:(t=t.substr(r,n),e.C=r+n,t))}function $f(e){e.V=Date.now()+e.O,Yf(e,e.O)}function Yf(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=Af(Gc(e.gb,e),t)}function Xf(e){e.B&&(jc.clearTimeout(e.B),e.B=null)}function Jf(e){0==e.l.G||e.I||gd(e.l,e)}function eh(e){Xf(e);var t=e.L;t&&"function"==typeof t.na&&t.na(),e.L=null,ff(e.T),gf(e.S),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function th(e,t){try{var n=e.l;if(0!=n.G&&(n.g==e||Nh(n.h,e)))if(!e.J&&Nh(n.h,e)&&3==n.G){try{var r=n.Fa.g.parse(t)}catch(a){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;md(n),ud(n)}pd(n),Tf(18)}}else n.Ba=i[1],0<n.Ba-n.T&&37500>i[2]&&n.L&&0==n.A&&!n.v&&(n.v=Af(Gc(n.cb,n),6e3));if(1>=Ah(n.h)&&n.ja){try{n.ja()}catch(a){}n.ja=void 0}}else bd(n,11)}else if((e.J||n.g==e)&&md(n),!nl(t))for(i=n.Fa.g.parse(t),t=0;t<i.length;t++){var a=i[t];if(n.T=a[0],a=a[1],2==n.G)if("c"==a[0]){n.I=a[1],n.ka=a[2];var o=a[3];null!=o&&(n.ma=o,n.j.info("VER="+n.ma));var u=a[4];null!=u&&(n.Ca=u,n.j.info("SVER="+n.Ca));var s=a[5];null!=s&&"number"===typeof s&&0<s&&(r=1.5*s,n.J=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;var c=e.g;if(c){var l=c.g?c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var f=r.h;f.g||-1==l.indexOf("spdy")&&-1==l.indexOf("quic")&&-1==l.indexOf("h2")||(f.j=f.l,f.g=new Set,f.h&&(Oh(f,f.h),f.h=null))}if(r.D){var h=c.g?c.g.getResponseHeader("X-HTTP-Session-Id"):null;h&&(r.za=h,ch(r.F,r.D,h))}}n.G=3,n.l&&n.l.xa(),n.$&&(n.P=Date.now()-e.F,n.j.info("Handshake RTT: "+n.P+"ms"));var d=e;if((r=n).sa=xd(r,r.H?r.ka:null,r.V),d.J){Dh(r.h,d);var p=d,v=r.J;v&&p.setTimeout(v),p.B&&(Xf(p),$f(p)),r.g=d}else dd(r);0<n.i.length&&cd(n)}else"stop"!=a[0]&&"close"!=a[0]||bd(n,7);else 3==n.G&&("stop"==a[0]||"close"==a[0]?"stop"==a[0]?bd(n,7):od(n):"noop"!=a[0]&&n.l&&n.l.wa(a),n.A=0)}Sf()}catch(a){}}function nh(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(zc(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.oa&&"function"==typeof e.oa)return e.oa();if(!e.W||"function"!=typeof e.W){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(zc(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}for(var r in t=[],n=0,e)t[n++]=r;return t}}}(e),r=function(e){if(e.W&&"function"==typeof e.W)return e.W();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(zc(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}(Lc=Uf.prototype).setTimeout=function(e){this.O=e},Lc.ib=function(e){e=e.target;var t=this.L;t&&3==ed(e)?t.l():this.La(e)},Lc.La=function(e){try{if(e==this.g)e:{var t=ed(this.g),n=this.g.Ea();this.g.aa();if(!(3>t)&&(3!=t||hl||this.g&&(this.h.h||this.g.fa()||td(this.g)))){this.I||4!=t||7==n||Sf(),Xf(this);var r=this.g.aa();this.Y=r;t:if(Gf(this)){var i=td(this.g);e="";var a=i.length,o=4==ed(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){eh(this),Jf(this);var u="";break t}this.h.i=new jc.TextDecoder}for(n=0;n<a;n++)this.h.h=!0,e+=this.h.i.decode(i[n],{stream:o&&n==a-1});i.splice(0,a),this.h.g+=e,this.C=0,u=this.h.g}else u=this.g.fa();if(this.i=200==r,function(e,t,n,r,i,a,o){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+a+" "+o}))}(this.j,this.u,this.A,this.m,this.U,t,r),this.i){if(this.Z&&!this.J){t:{if(this.g){var s,c=this.g;if((s=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!nl(s)){var l=s;break t}}l=null}if(!(r=l)){this.i=!1,this.o=3,Tf(12),eh(this),Jf(this);break e}bf(this.j,this.m,r,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,th(this,r)}this.P?(Hf(this,t,u),hl&&this.i&&3==t&&(mf(this.S,this.T,"tick",this.hb),this.T.start())):(bf(this.j,this.m,u,null),th(this,u)),4==t&&eh(this),this.i&&!this.I&&(4==t?gd(this.l,this):(this.i=!1,$f(this)))}else 400==r&&0<u.indexOf("Unknown SID")?(this.o=3,Tf(12)):(this.o=0,Tf(13)),eh(this),Jf(this)}}}catch(t){}},Lc.hb=function(){if(this.g){var e=ed(this.g),t=this.g.fa();this.C<t.length&&(Xf(this),Hf(this,e,t),this.i&&4!=e&&$f(this))}},Lc.cancel=function(){this.I=!0,eh(this)},Lc.gb=function(){this.B=null;var e=Date.now();0<=e-this.V?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.K&&(Sf(),Tf(17)),eh(this),this.o=2,Jf(this)):Yf(this,this.V-e)};var rh=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ih(e,t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof ih){this.h=void 0!==t?t:e.h,oh(this,e.j),this.s=e.s,this.g=e.g,uh(this,e.m),this.l=e.l,t=e.i;var n=new kh;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),sh(this,n),this.o=e.o}else e&&(n=String(e).match(rh))?(this.h=!!t,oh(this,n[1]||"",!0),this.s=fh(n[2]||""),this.g=fh(n[3]||"",!0),uh(this,n[4]),this.l=fh(n[5]||"",!0),sh(this,n[6]||"",!0),this.o=fh(n[7]||"")):(this.h=!!t,this.i=new kh(null,this.h))}function ah(e){return new ih(e)}function oh(e,t,n){e.j=n?fh(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function uh(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function sh(e,t,n){t instanceof kh?(e.i=t,function(e,t){t&&!e.j&&(bh(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(wh(this,t),_h(this,n,e))}),e)),e.j=t}(e.i,e.h)):(n||(t=hh(t,mh)),e.i=new kh(t,e.h))}function ch(e,t,n){e.i.set(t,n)}function lh(e){return ch(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function fh(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function hh(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,dh),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function dh(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}ih.prototype.toString=function(){var e=[],t=this.j;t&&e.push(hh(t,ph,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(hh(t,ph,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(hh(n,"/"==n.charAt(0)?yh:vh,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",hh(n,gh)),e.join("")};var ph=/[#\/\?@]/g,vh=/[#\?:]/g,yh=/[#\?]/g,mh=/[#\?@]/g,gh=/#/g;function kh(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function bh(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var a=e[n].substring(0,r);i=e[n].substring(r+1)}else a=e[n];t(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function wh(e,t){bh(e),t=Ih(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function xh(e,t){return bh(e),t=Ih(e,t),e.g.has(t)}function _h(e,t,n){wh(e,t),0<n.length&&(e.i=null,e.g.set(Ih(e,t),Xc(n)),e.h+=n.length)}function Ih(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(Lc=kh.prototype).add=function(e,t){bh(this),this.i=null,e=Ih(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},Lc.forEach=function(e,t){bh(this),this.g.forEach((function(n,r){n.forEach((function(n){e.call(t,n,r,this)}),this)}),this)},Lc.oa=function(){bh(this);for(var e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[],r=0;r<t.length;r++)for(var i=e[r],a=0;a<i.length;a++)n.push(t[r]);return n},Lc.W=function(e){bh(this);var t=[];if("string"===typeof e)xh(this,e)&&(t=t.concat(this.g.get(Ih(this,e))));else{e=Array.from(this.g.values());for(var n=0;n<e.length;n++)t=t.concat(e[n])}return t},Lc.set=function(e,t){return bh(this),this.i=null,xh(this,e=Ih(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},Lc.get=function(e,t){return e&&0<(e=this.W(e)).length?String(e[0]):t},Lc.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=Array.from(this.g.keys()),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r)),a=this.W(r);for(r=0;r<a.length;r++){var o=i;""!==a[r]&&(o+="="+encodeURIComponent(String(a[r]))),e.push(o)}}return this.i=e.join("&")};var Sh=G((function e(t,n){Z(this,e),this.h=t,this.g=n}));function Eh(e){this.l=e||Th,jc.PerformanceNavigationTiming?e=0<(e=jc.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(jc.g&&jc.g.Ga&&jc.g.Ga()&&jc.g.Ga().$b),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Th=10;function Ch(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Ah(e){return e.h?1:e.g?e.g.size:0}function Nh(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function Oh(e,t){e.g?e.g.add(t):e.h=t}function Dh(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function Ph(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){var t,n=e.i,r=Q(e.g.values());try{for(r.s();!(t=r.n()).done;){var i=t.value;n=n.concat(i.D)}}catch(a){r.e(a)}finally{r.f()}return n}return Xc(e.i)}function Rh(){}function Lh(){this.g=new Rh}function Mh(e,t,n){var r=n||"";try{nh(e,(function(e,n){var i=e;Bc(e)&&(i=Xl(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function Fh(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(eT){}}function Vh(e){this.l=e.ac||null,this.j=e.jb||!1}function jh(e,t){Ql.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=Uh,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Eh.prototype.cancel=function(){if(this.i=Ph(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){var e,t=Q(this.g.values());try{for(t.s();!(e=t.n()).done;){e.value.cancel()}}catch(n){t.e(n)}finally{t.f()}this.g.clear()}},Rh.prototype.stringify=function(e){return jc.JSON.stringify(e,void 0)},Rh.prototype.parse=function(e){return jc.JSON.parse(e,void 0)},Qc(Vh,Df),Vh.prototype.g=function(){return new jh(this.l,this.j)},Vh.prototype.i=function(e){return function(){return e}}({}),Qc(jh,Ql);var Uh=0;function zh(e){e.j.read().then(e.Ta.bind(e)).catch(e.ga.bind(e))}function Bh(e){e.readyState=4,e.l=null,e.j=null,e.A=null,qh(e)}function qh(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(Lc=jh.prototype).open=function(e,t){if(this.readyState!=Uh)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,qh(this)},Lc.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||jc).fetch(new Request(this.B,t)).then(this.Wa.bind(this),this.ga.bind(this))},Lc.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((function(){})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Bh(this)),this.readyState=Uh},Lc.Wa=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,qh(this)),this.g&&(this.readyState=3,qh(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if("undefined"!==typeof jc.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;zh(this)}else e.text().then(this.Va.bind(this),this.ga.bind(this))},Lc.Ta=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Bh(this):qh(this),3==this.readyState&&zh(this)}},Lc.Va=function(e){this.g&&(this.response=this.responseText=e,Bh(this))},Lc.Ua=function(e){this.g&&(this.response=e,Bh(this))},Lc.ga=function(){this.g&&Bh(this)},Lc.setRequestHeader=function(e,t){this.v.append(e,t)},Lc.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},Lc.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(jh.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var Zh=jc.JSON.parse;function Kh(e){Ql.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Wh,this.K=this.L=!1}Qc(Kh,Ql);var Wh="",Gh=/^https?$/i,Hh=["POST","PUT"];function Qh(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,$h(e),Xh(e)}function $h(e){e.D||(e.D=!0,$l(e,"complete"),$l(e,"error"))}function Yh(e){if(e.h&&"undefined"!=typeof Vc&&(!e.C[1]||4!=ed(e)||2!=e.aa()))if(e.v&&4==ed(e))hf(e.Ha,0,e);else if($l(e,"readystatechange"),4==ed(e)){e.h=!1;try{var t,n=e.aa();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var a=String(e.H).match(rh)[1]||null;if(!a&&jc.self&&jc.self.location){var o=jc.self.location.protocol;a=o.substr(0,o.length-1)}i=!Gh.test(a?a.toLowerCase():"")}t=i}if(t)$l(e,"complete"),$l(e,"success");else{e.m=6;try{var u=2<ed(e)?e.g.statusText:""}catch(XE){u=""}e.j=u+" ["+e.aa()+"]",$h(e)}}finally{Xh(e)}}}function Xh(e,t){if(e.g){Jh(e);var n=e.g,r=e.C[0]?Uc:null;e.g=null,e.C=null,t||$l(e,"ready");try{n.onreadystatechange=r}catch(i){}}}function Jh(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(jc.clearTimeout(e.A),e.A=null)}function ed(e){return e.g?e.g.readyState:0}function td(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case Wh:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(jd){return null}}function nd(e){var t="";return Nl(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function rd(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=nd(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):ch(e,t,n))}function id(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function ad(e){this.Ca=0,this.i=[],this.j=new kf,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=id("failFast",!1,e),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=id("baseRetryDelayMs",5e3,e),this.bb=id("retryDelaySeedMs",1e4,e),this.$a=id("forwardChannelMaxRetries",2,e),this.ta=id("forwardChannelRequestTimeoutMs",2e4,e),this.ra=e&&e.xmlHttpFactory||void 0,this.Da=e&&e.Zb||!1,this.J=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.I="",this.h=new Eh(e&&e.concurrentRequestLimit),this.Fa=new Lh,this.O=e&&e.fastHandshake||!1,this.N=e&&e.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=e&&e.Xb||!1,e&&e.Aa&&this.j.Aa(),e&&e.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&e&&e.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function od(e){if(sd(e),3==e.G){var t=e.U++,n=ah(e.F);ch(n,"SID",e.I),ch(n,"RID",t),ch(n,"TYPE","terminate"),fd(e,n),(t=new Uf(e,e.j,t,void 0)).K=2,t.v=lh(ah(n)),n=!1,jc.navigator&&jc.navigator.sendBeacon&&(n=jc.navigator.sendBeacon(t.v.toString(),"")),!n&&jc.Image&&((new Image).src=t.v,n=!0),n||(t.g=_d(t.l,null),t.g.da(t.v)),t.F=Date.now(),$f(t)}wd(e)}function ud(e){e.g&&(vd(e),e.g.cancel(),e.g=null)}function sd(e){ud(e),e.u&&(jc.clearTimeout(e.u),e.u=null),md(e),e.h.cancel(),e.m&&("number"===typeof e.m&&jc.clearTimeout(e.m),e.m=null)}function cd(e){Ch(e.h)||e.m||(e.m=!0,of(e.Ja,e),e.C=0)}function ld(e,t){var n;n=t?t.m:e.U++;var r=ah(e.F);ch(r,"SID",e.I),ch(r,"RID",n),ch(r,"AID",e.T),fd(e,r),e.o&&e.s&&rd(r,e.o,e.s),n=new Uf(e,e.j,n,e.C+1),null===e.o&&(n.H=e.s),t&&(e.i=t.D.concat(e.i)),t=hd(e,n,1e3),n.setTimeout(Math.round(.5*e.ta)+Math.round(.5*e.ta*Math.random())),Oh(e.h,n),Kf(n,r,t)}function fd(e,t){e.ia&&Nl(e.ia,(function(e,n){ch(t,n,e)})),e.l&&nh({},(function(e,n){ch(t,n,e)}))}function hd(e,t,n){n=Math.min(e.i.length,n);var r=e.l?Gc(e.l.Ra,e.l,e):null;e:for(var i=e.i,a=-1;;){var o=["count="+n];-1==a?0<n?(a=i[0].h,o.push("ofs="+a)):a=0:o.push("ofs="+a);for(var u=!0,s=0;s<n;s++){var c=i[s].h,l=i[s].g;if(0>(c-=a))a=Math.max(0,i[s].h-100),u=!1;else try{Mh(l,o,"req"+c+"_")}catch(f){r&&r(l)}}if(u){r=o.join("&");break e}}return e=e.i.splice(0,n),t.D=e,r}function dd(e){e.g||e.u||(e.Z=1,of(e.Ia,e),e.A=0)}function pd(e){return!(e.g||e.u||3<=e.A)&&(e.Z++,e.u=Af(Gc(e.Ia,e),kd(e,e.A)),e.A++,!0)}function vd(e){null!=e.B&&(jc.clearTimeout(e.B),e.B=null)}function yd(e){e.g=new Uf(e,e.j,"rpc",e.Z),null===e.o&&(e.g.H=e.s),e.g.N=0;var t=ah(e.sa);ch(t,"RID","rpc"),ch(t,"SID",e.I),ch(t,"CI",e.L?"0":"1"),ch(t,"AID",e.T),ch(t,"TYPE","xmlhttp"),fd(e,t),e.o&&e.s&&rd(t,e.o,e.s),e.J&&e.g.setTimeout(e.J);var n=e.g;e=e.ka,n.K=1,n.v=lh(ah(t)),n.s=null,n.P=!0,Wf(n,e)}function md(e){null!=e.v&&(jc.clearTimeout(e.v),e.v=null)}function gd(e,t){var n=null;if(e.g==t){md(e),vd(e),e.g=null;var r=2}else{if(!Nh(e.h,t))return;n=t.D,Dh(e.h,t),r=1}if(0!=e.G)if(e.pa=t.Y,t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.F;var i=e.C;$l(r=_f(),new Cf(r,n)),cd(e)}else dd(e);else if(3==(i=t.o)||0==i&&0<e.pa||!(1==r&&function(e,t){return!(Ah(e.h)>=e.h.j-(e.m?1:0))&&(e.m?(e.i=t.D.concat(e.i),!0):!(1==e.G||2==e.G||e.C>=(e.Za?0:e.$a))&&(e.m=Af(Gc(e.Ja,e,t),kd(e,e.C)),e.C++,!0))}(e,t)||2==r&&pd(e)))switch(n&&0<n.length&&(t=e.h,t.i=t.i.concat(n)),i){case 1:bd(e,5);break;case 4:bd(e,10);break;case 3:bd(e,6);break;default:bd(e,2)}}function kd(e,t){var n=e.Xa+Math.floor(Math.random()*e.bb);return e.l||(n*=2),n*t}function bd(e,t){if(e.j.info("Error code "+t),2==t){var n=null;e.l&&(n=null);var r=Gc(e.kb,e);n||(n=new ih("//www.google.com/images/cleardot.gif"),jc.location&&"http"==jc.location.protocol||oh(n,"https"),lh(n)),function(e,t){var n=new kf;if(jc.Image){var r=new Image;r.onload=Hc(Fh,n,r,"TestLoadImage: loaded",!0,t),r.onerror=Hc(Fh,n,r,"TestLoadImage: error",!1,t),r.onabort=Hc(Fh,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=Hc(Fh,n,r,"TestLoadImage: timeout",!1,t),jc.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else Tf(2);e.G=0,e.l&&e.l.va(t),wd(e),sd(e)}function wd(e){if(e.G=0,e.la=[],e.l){var t=Ph(e.h);0==t.length&&0==e.i.length||(Jc(e.la,t),Jc(e.la,e.i),e.h.i.length=0,Xc(e.i),e.i.length=0),e.l.ua()}}function xd(e,t,n){var r=n instanceof ih?ah(n):new ih(n,void 0);if(""!=r.g)t&&(r.g=t+"."+r.g),uh(r,r.m);else{var i=jc.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var a=new ih(null,void 0);r&&oh(a,r),t&&(a.g=t),i&&uh(a,i),n&&(a.l=n),r=a}return n=e.D,t=e.za,n&&t&&ch(r,n,t),ch(r,"VER",e.ma),fd(e,r),r}function _d(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Da&&!e.ra?new Kh(new Vh({jb:!0})):new Kh(e.ra)).Ka(e.H),t}function Id(){}function Sd(){if(ll&&!(10<=Number(_l)))throw Error("Environmental error: no available transport.")}function Ed(e,t){Ql.call(this),this.g=new ad(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.S=e,(e=t&&t.Yb)&&!nl(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!nl(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new Ad(this)}function Td(e){Ff.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function Cd(){Vf.call(this),this.status=1}function Ad(e){this.g=e}(Lc=Kh.prototype).Ka=function(e){this.L=e},Lc.da=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Lf.g(),this.C=this.u?Pf(this.u):Pf(Lf),this.g.onreadystatechange=Gc(this.Ha,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(s){return void Qh(this,s)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));var o,u=Q(r.keys());try{for(u.s();!(o=u.n()).done;){var s=o.value;n.set(s,r.get(s))}}catch(p){u.e(p)}finally{u.f()}}r=Array.from(n.keys()).find((function(e){return"content-type"==e.toLowerCase()})),i=jc.FormData&&e instanceof jc.FormData,!(0<=Yc(Hh,t))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");var c,l=Q(n);try{for(l.s();!(c=l.n()).done;){var f=(0,a.Z)(c.value,2),h=f[0],d=f[1];this.g.setRequestHeader(h,d)}}catch(p){l.e(p)}finally{l.f()}this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Jh(this),0<this.B&&((this.K=function(e){return ll&&wl()&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Gc(this.qa,this)):this.A=hf(this.qa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(s){Qh(this,s)}},Lc.qa=function(){"undefined"!=typeof Vc&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,$l(this,"timeout"),this.abort(8))},Lc.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,$l(this,"complete"),$l(this,"abort"),Xh(this))},Lc.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Xh(this,!0)),Kh.X.M.call(this)},Lc.Ha=function(){this.s||(this.F||this.v||this.l?Yh(this):this.fb())},Lc.fb=function(){Yh(this)},Lc.aa=function(){try{return 2<ed(this)?this.g.status:-1}catch(JE){return-1}},Lc.fa=function(){try{return this.g?this.g.responseText:""}catch(JE){return""}},Lc.Sa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),Zh(t)}},Lc.Ea=function(){return this.m},Lc.Oa=function(){return"string"===typeof this.j?this.j:String(this.j)},(Lc=ad.prototype).ma=8,Lc.G=1,Lc.Ja=function(e){if(this.m)if(this.m=null,1==this.G){if(!e){this.U=Math.floor(1e5*Math.random()),e=this.U++;var t=new Uf(this,this.j,e,void 0),n=this.s;if(this.S&&(n?Pl(n=Ol(n),this.S):n=this.S),null!==this.o||this.N||(t.H=n,n=null),this.O)e:{for(var r=0,i=0;i<this.i.length;i++){var a=this.i[i];if(void 0===(a="__data__"in a.g&&"string"===typeof(a=a.g.__data__)?a.length:void 0))break;if(4096<(r+=a)){r=i;break e}if(4096===r||i===this.i.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=hd(this,t,r),ch(i=ah(this.F),"RID",e),ch(i,"CVER",22),this.D&&ch(i,"X-HTTP-Session-Id",this.D),fd(this,i),n&&(this.N?r="headers="+encodeURIComponent(String(nd(n)))+"&"+r:this.o&&rd(i,this.o,n)),Oh(this.h,t),this.Ya&&ch(i,"TYPE","init"),this.O?(ch(i,"$req",r),ch(i,"SID","null"),t.Z=!0,Kf(t,i,null)):Kf(t,i,r),this.G=2}}else 3==this.G&&(e?ld(this,e):0==this.i.length||Ch(this.h)||ld(this))},Lc.Ia=function(){if(this.u=null,yd(this),this.$&&!(this.K||null==this.g||0>=this.P)){var e=2*this.P;this.j.info("BP detection timer enabled: "+e),this.B=Af(Gc(this.eb,this),e)}},Lc.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,Tf(10),ud(this),yd(this))},Lc.cb=function(){null!=this.v&&(this.v=null,ud(this),pd(this),Tf(19))},Lc.kb=function(e){e?(this.j.info("Successfully pinged google.com"),Tf(2)):(this.j.info("Failed to ping google.com"),Tf(1))},(Lc=Id.prototype).xa=function(){},Lc.wa=function(){},Lc.va=function(){},Lc.ua=function(){},Lc.Ra=function(){},Sd.prototype.g=function(e,t){return new Ed(e,t)},Qc(Ed,Ql),Ed.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;Tf(0),e.V=t,e.ia=n||{},e.L=e.Y,e.F=xd(e,null,e.V),cd(e)},Ed.prototype.close=function(){od(this.g)},Ed.prototype.u=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.v&&((n={}).__data__=Xl(e),e=n);t.i.push(new Sh(t.ab++,e)),3==t.G&&cd(t)},Ed.prototype.M=function(){this.g.l=null,delete this.j,od(this.g),delete this.g,Ed.X.M.call(this)},Qc(Td,Ff),Qc(Cd,Vf),Qc(Ad,Id),Ad.prototype.xa=function(){$l(this.g,"a")},Ad.prototype.wa=function(e){$l(this.g,new Td(e))},Ad.prototype.va=function(e){$l(this.g,new Cd)},Ad.prototype.ua=function(){$l(this.g,"b")},Sd.prototype.createWebChannel=Sd.prototype.g,Ed.prototype.send=Ed.prototype.u,Ed.prototype.open=Ed.prototype.m,Ed.prototype.close=Ed.prototype.close,Nf.NO_ERROR=0,Nf.TIMEOUT=8,Nf.HTTP_ERROR=6,Of.COMPLETE="complete",Rf.EventType=Mf,Mf.OPEN="a",Mf.CLOSE="b",Mf.ERROR="c",Mf.MESSAGE="d",Ql.prototype.listen=Ql.prototype.N,Kh.prototype.listenOnce=Kh.prototype.O,Kh.prototype.getLastError=Kh.prototype.Oa,Kh.prototype.getLastErrorCode=Kh.prototype.Ea,Kh.prototype.getStatus=Kh.prototype.aa,Kh.prototype.getResponseJson=Kh.prototype.Sa,Kh.prototype.getResponseText=Kh.prototype.fa,Kh.prototype.send=Kh.prototype.da,Kh.prototype.setWithCredentials=Kh.prototype.Ka;var Nd=Fc.createWebChannelTransport=function(){return new Sd},Od=Fc.getStatEventTarget=function(){return _f()},Dd=Fc.ErrorCode=Nf,Pd=Fc.EventType=Of,Rd=Fc.Event=wf,Ld=Fc.Stat={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},Md=Fc.FetchXmlHttpFactory=Vh,Fd=Fc.WebChannel=Rf,Vd=Fc.XhrIo=Kh,jd="@firebase/firestore",Ud=function(){function e(t){Z(this,e),this.uid=t}return G(e,[{key:"isAuthenticated",value:function(){return null!=this.uid}},{key:"toKey",value:function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}},{key:"isEqual",value:function(e){return e.uid===this.uid}}]),e}();Ud.UNAUTHENTICATED=new Ud(null),Ud.GOOGLE_CREDENTIALS=new Ud("google-credentials-uid"),Ud.FIRST_PARTY=new Ud("first-party-uid"),Ud.MOCK_USER=new Ud("mock-user");var zd="9.17.1",Bd=new Qe("@firebase/firestore");function qd(){return Bd.logLevel}function Zd(e){if(Bd.logLevel<=Be.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Gd);Bd.debug.apply(Bd,["Firestore (".concat(zd,"): ").concat(e)].concat((0,Le.Z)(i)))}}function Kd(e){if(Bd.logLevel<=Be.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Gd);Bd.error.apply(Bd,["Firestore (".concat(zd,"): ").concat(e)].concat((0,Le.Z)(i)))}}function Wd(e){if(Bd.logLevel<=Be.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Gd);Bd.warn.apply(Bd,["Firestore (".concat(zd,"): ").concat(e)].concat((0,Le.Z)(i)))}}function Gd(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function Hd(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state",t="FIRESTORE (".concat(zd,") INTERNAL ASSERTION FAILED: ")+e;throw Kd(t),new Error(t)}function Qd(e,t){e||Hd()}function $d(e,t){return e}var Yd={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Xd=function(e){X(n,e);var t=ne(n);function n(e,r){var i;return Z(this,n),(i=t.call(this,e,r)).code=e,i.message=r,i.toString=function(){return"".concat(i.name,": [code=").concat(i.code,"]: ").concat(i.message)},i}return G(n)}(we),Jd=G((function e(){var t=this;Z(this,e),this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))})),ep=G((function e(t,n){Z(this,e),this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(t))})),tp=function(){function e(){Z(this,e)}return G(e,[{key:"getToken",value:function(){return Promise.resolve(null)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(Ud.UNAUTHENTICATED)}))}},{key:"shutdown",value:function(){}}]),e}(),np=function(){function e(t){Z(this,e),this.token=t,this.changeListener=null}return G(e,[{key:"getToken",value:function(){return Promise.resolve(this.token)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){var n=this;this.changeListener=t,e.enqueueRetryable((function(){return t(n.token.user)}))}},{key:"shutdown",value:function(){this.changeListener=null}}]),e}(),rp=function(){function e(t){Z(this,e),this.t=t,this.currentUser=Ud.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}return G(e,[{key:"start",value:function(e,t){var n=this,r=this.i,i=function(e){return n.i!==r?(r=n.i,t(e)):Promise.resolve()},a=new Jd;this.o=function(){n.i++,n.currentUser=n.u(),a.resolve(),a=new Jd,e.enqueueRetryable((function(){return i(n.currentUser)}))};var o=function(){var t=a;e.enqueueRetryable(Fe(Re().mark((function e(){return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.promise;case 2:return e.next=4,i(n.currentUser);case 4:case"end":return e.stop()}}),e)}))))},u=function(e){Zd("FirebaseAuthCredentialsProvider","Auth detected"),n.auth=e,n.auth.addAuthTokenListener(n.o),o()};this.t.onInit((function(e){return u(e)})),setTimeout((function(){if(!n.auth){var e=n.t.getImmediate({optional:!0});e?u(e):(Zd("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Jd)}}),0),o()}},{key:"getToken",value:function(){var e=this,t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.i!==t?(Zd("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(Qd("string"==typeof n.accessToken),new ep(n.accessToken,e.currentUser)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.auth&&this.auth.removeAuthTokenListener(this.o)}},{key:"u",value:function(){var e=this.auth&&this.auth.getUid();return Qd(null===e||"string"==typeof e),new Ud(e)}}]),e}(),ip=function(){function e(t,n,r,i){Z(this,e),this.h=t,this.l=n,this.m=r,this.g=i,this.type="FirstParty",this.user=Ud.FIRST_PARTY,this.p=new Map}return G(e,[{key:"I",value:function(){return this.g?this.g():(Qd(!("object"!=typeof this.h||null===this.h||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}},{key:"headers",get:function(){this.p.set("X-Goog-AuthUser",this.l);var e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}]),e}(),ap=function(){function e(t,n,r,i){Z(this,e),this.h=t,this.l=n,this.m=r,this.g=i}return G(e,[{key:"getToken",value:function(){return Promise.resolve(new ip(this.h,this.l,this.m,this.g))}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(Ud.FIRST_PARTY)}))}},{key:"shutdown",value:function(){}},{key:"invalidateToken",value:function(){}}]),e}(),op=G((function e(t){Z(this,e),this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)})),up=function(){function e(t){Z(this,e),this.T=t,this.forceRefresh=!1,this.appCheck=null,this.A=null}return G(e,[{key:"start",value:function(e,t){var n=this,r=function(e){null!=e.error&&Zd("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));var r=e.token!==n.A;return n.A=e.token,Zd("FirebaseAppCheckTokenProvider","Received ".concat(r?"new":"existing"," token.")),r?t(e.token):Promise.resolve()};this.o=function(t){e.enqueueRetryable((function(){return r(t)}))};var i=function(e){Zd("FirebaseAppCheckTokenProvider","AppCheck detected"),n.appCheck=e,n.appCheck.addTokenListener(n.o)};this.T.onInit((function(e){return i(e)})),setTimeout((function(){if(!n.appCheck){var e=n.T.getImmediate({optional:!0});e?i(e):Zd("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}},{key:"getToken",value:function(){var e=this,t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((function(t){return t?(Qd("string"==typeof t.token),e.A=t.token,new op(t.token)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}]),e}();function sp(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}var cp=function(){function e(){Z(this,e)}return G(e,null,[{key:"R",value:function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,n="";n.length<20;)for(var r=sp(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length));return n}}]),e}();function lp(e,t){return e<t?-1:e>t?1:0}function fp(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}function hp(e){return e+"\0"}var dp=function(){function e(t,n){if(Z(this,e),this.seconds=t,this.nanoseconds=n,n<0)throw new Xd(Yd.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Xd(Yd.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new Xd(Yd.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Xd(Yd.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return G(e,[{key:"toDate",value:function(){return new Date(this.toMillis())}},{key:"toMillis",value:function(){return 1e3*this.seconds+this.nanoseconds/1e6}},{key:"_compareTo",value:function(e){return this.seconds===e.seconds?lp(this.nanoseconds,e.nanoseconds):lp(this.seconds,e.seconds)}},{key:"isEqual",value:function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}},{key:"toString",value:function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}},{key:"toJSON",value:function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}},{key:"valueOf",value:function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}],[{key:"now",value:function(){return e.fromMillis(Date.now())}},{key:"fromDate",value:function(t){return e.fromMillis(t.getTime())}},{key:"fromMillis",value:function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))}}]),e}(),pp=function(){function e(t){Z(this,e),this.timestamp=t}return G(e,[{key:"compareTo",value:function(e){return this.timestamp._compareTo(e.timestamp)}},{key:"isEqual",value:function(e){return this.timestamp.isEqual(e.timestamp)}},{key:"toMicroseconds",value:function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}},{key:"toString",value:function(){return"SnapshotVersion("+this.timestamp.toString()+")"}},{key:"toTimestamp",value:function(){return this.timestamp}}],[{key:"fromTimestamp",value:function(t){return new e(t)}},{key:"min",value:function(){return new e(new dp(0,0))}},{key:"max",value:function(){return new e(new dp(253402300799,999999999))}}]),e}(),vp=function(){function e(t,n,r){Z(this,e),void 0===n?n=0:n>t.length&&Hd(),void 0===r?r=t.length-n:r>t.length-n&&Hd(),this.segments=t,this.offset=n,this.len=r}return G(e,[{key:"length",get:function(){return this.len}},{key:"isEqual",value:function(t){return 0===e.comparator(this,t)}},{key:"child",value:function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.construct(n)}},{key:"limit",value:function(){return this.offset+this.length}},{key:"popFirst",value:function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}},{key:"popLast",value:function(){return this.construct(this.segments,this.offset,this.length-1)}},{key:"firstSegment",value:function(){return this.segments[this.offset]}},{key:"lastSegment",value:function(){return this.get(this.length-1)}},{key:"get",value:function(e){return this.segments[this.offset+e]}},{key:"isEmpty",value:function(){return 0===this.length}},{key:"isPrefixOf",value:function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"isImmediateParentOf",value:function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"forEach",value:function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}},{key:"toArray",value:function(){return this.segments.slice(this.offset,this.limit())}}],[{key:"comparator",value:function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),a=t.get(r);if(i<a)return-1;if(i>a)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}]),e}(),yp=function(e){X(n,e);var t=ne(n);function n(){return Z(this,n),t.apply(this,arguments)}return G(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().join("/")}},{key:"toString",value:function(){return this.canonicalString()}}],[{key:"fromString",value:function(){for(var e=[],t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];for(var a=0,o=r;a<o.length;a++){var u=o[a];if(u.indexOf("//")>=0)throw new Xd(Yd.INVALID_ARGUMENT,"Invalid segment (".concat(u,"). Paths must not contain // in them."));e.push.apply(e,(0,Le.Z)(u.split("/").filter((function(e){return e.length>0}))))}return new n(e)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(vp),mp=/^[_a-zA-Z][_a-zA-Z0-9]*$/,gp=function(e){X(n,e);var t=ne(n);function n(){return Z(this,n),t.apply(this,arguments)}return G(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().map((function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")}},{key:"toString",value:function(){return this.canonicalString()}},{key:"isKeyField",value:function(){return 1===this.length&&"__name__"===this.get(0)}}],[{key:"isValidIdentifier",value:function(e){return mp.test(e)}},{key:"keyField",value:function(){return new n(["__name__"])}},{key:"fromServerFormat",value:function(e){for(var t=[],r="",i=0,a=function(){if(0===r.length)throw new Xd(Yd.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(r),r=""},o=!1;i<e.length;){var u=e[i];if("\\"===u){if(i+1===e.length)throw new Xd(Yd.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var s=e[i+1];if("\\"!==s&&"."!==s&&"`"!==s)throw new Xd(Yd.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=s,i+=2}else"`"===u?(o=!o,i++):"."!==u||o?(r+=u,i++):(a(),i++)}if(a(),o)throw new Xd(Yd.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(vp),kp=function(){function e(t){Z(this,e),this.path=t}return G(e,[{key:"collectionGroup",get:function(){return this.path.popLast().lastSegment()}},{key:"hasCollectionId",value:function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}},{key:"getCollectionGroup",value:function(){return this.path.get(this.path.length-2)}},{key:"getCollectionPath",value:function(){return this.path.popLast()}},{key:"isEqual",value:function(e){return null!==e&&0===yp.comparator(this.path,e.path)}},{key:"toString",value:function(){return this.path.toString()}}],[{key:"fromPath",value:function(t){return new e(yp.fromString(t))}},{key:"fromName",value:function(t){return new e(yp.fromString(t).popFirst(5))}},{key:"empty",value:function(){return new e(yp.emptyPath())}},{key:"comparator",value:function(e,t){return yp.comparator(e.path,t.path)}},{key:"isDocumentKey",value:function(e){return e.length%2==0}},{key:"fromSegments",value:function(t){return new e(new yp(t.slice()))}}]),e}(),bp=G((function e(t,n,r,i){Z(this,e),this.indexId=t,this.collectionGroup=n,this.fields=r,this.indexState=i}));function wp(e){return e.fields.find((function(e){return 2===e.kind}))}function xp(e){return e.fields.filter((function(e){return 2!==e.kind}))}bp.UNKNOWN_ID=-1;var _p=G((function e(t,n){Z(this,e),this.fieldPath=t,this.kind=n}));var Ip=function(){function e(t,n){Z(this,e),this.sequenceNumber=t,this.offset=n}return G(e,null,[{key:"empty",value:function(){return new e(0,Tp.min())}}]),e}();function Sp(e,t){var n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=pp.fromTimestamp(1e9===r?new dp(n+1,0):new dp(n,r));return new Tp(i,kp.empty(),t)}function Ep(e){return new Tp(e.readTime,e.key,-1)}var Tp=function(){function e(t,n,r){Z(this,e),this.readTime=t,this.documentKey=n,this.largestBatchId=r}return G(e,null,[{key:"min",value:function(){return new e(pp.min(),kp.empty(),-1)}},{key:"max",value:function(){return new e(pp.max(),kp.empty(),-1)}}]),e}();function Cp(e,t){var n=e.readTime.compareTo(t.readTime);return 0!==n?n:0!==(n=kp.comparator(e.documentKey,t.documentKey))?n:lp(e.largestBatchId,t.largestBatchId)}var Ap="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Np=function(){function e(){Z(this,e),this.onCommittedListeners=[]}return G(e,[{key:"addOnCommittedListener",value:function(e){this.onCommittedListeners.push(e)}},{key:"raiseOnCommittedEvent",value:function(){this.onCommittedListeners.forEach((function(e){return e()}))}}]),e}();function Op(e){return Dp.apply(this,arguments)}function Dp(){return Dp=Fe(Re().mark((function e(t){return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code===Yd.FAILED_PRECONDITION&&t.message===Ap){e.next=2;break}throw t;case 2:Zd("LocalStore","Unexpectedly lost primary lease");case 3:case"end":return e.stop()}}),e)}))),Dp.apply(this,arguments)}var Pp=function(){function e(t){var n=this;Z(this,e),this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((function(e){n.isDone=!0,n.result=e,n.nextCallback&&n.nextCallback(e)}),(function(e){n.isDone=!0,n.error=e,n.catchCallback&&n.catchCallback(e)}))}return G(e,[{key:"catch",value:function(e){return this.next(void 0,e)}},{key:"next",value:function(t,n){var r=this;return this.callbackAttached&&Hd(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e((function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}}))}},{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))}},{key:"wrapUserFunction",value:function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}}},{key:"wrapSuccess",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.resolve(n)}},{key:"wrapFailure",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.reject(n)}}],[{key:"resolve",value:function(t){return new e((function(e,n){e(t)}))}},{key:"reject",value:function(t){return new e((function(e,n){n(t)}))}},{key:"waitFor",value:function(t){return new e((function(e,n){var r=0,i=0,a=!1;t.forEach((function(t){++r,t.next((function(){++i,a&&i===r&&e()}),(function(e){return n(e)}))})),a=!0,i===r&&e()}))}},{key:"or",value:function(t){var n,r=e.resolve(!1),i=Q(t);try{var a=function(){var t=n.value;r=r.next((function(n){return n?e.resolve(n):t()}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return r}},{key:"forEach",value:function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.waitFor(r)}},{key:"mapArray",value:function(t,n){return new e((function(e,r){for(var i=t.length,a=new Array(i),o=0,u=function(){var u=s;n(t[u]).next((function(t){a[u]=t,++o===i&&e(a)}),(function(e){return r(e)}))},s=0;s<i;s++)u()}))}},{key:"doWhile",value:function(t,n){return new e((function(e,r){!function i(){!0===t()?n().next((function(){i()}),r):e()}()}))}}]),e}(),Rp=function(){function e(t,n){var r=this;Z(this,e),this.action=t,this.transaction=n,this.aborted=!1,this.P=new Jd,this.transaction.oncomplete=function(){r.P.resolve()},this.transaction.onabort=function(){n.error?r.P.reject(new Fp(t,n.error)):r.P.resolve()},this.transaction.onerror=function(e){var n=Bp(e.target.error);r.P.reject(new Fp(t,n))}}return G(e,[{key:"v",get:function(){return this.P.promise}},{key:"abort",value:function(e){e&&this.P.reject(e),this.aborted||(Zd("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}},{key:"V",value:function(){var e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}},{key:"store",value:function(e){var t=this.transaction.objectStore(e);return new jp(t)}}],[{key:"open",value:function(t,n,r,i){try{return new e(n,t.transaction(i,r))}catch(t){throw new Fp(n,t)}}}]),e}(),Lp=function(){function e(t,n,r){Z(this,e),this.name=t,this.version=n,this.S=r,12.2===e.D(pe())&&Kd("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return G(e,[{key:"F",value:function(){var e=Fe(Re().mark((function e(t){var n=this;return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.db,e.t0){e.next=6;break}return Zd("SimpleDb","Opening database:",this.name),e.next=5,new Promise((function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){var n=t.target.result;e(n)},i.onblocked=function(){r(new Fp(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;"VersionError"===n.name?r(new Xd(Yd.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===n.name?r(new Xd(Yd.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+n)):r(new Fp(t,n))},i.onupgradeneeded=function(e){Zd("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',e.oldVersion);var t=e.target.result;n.S.$(t,i.transaction,e.oldVersion,n.version).next((function(){Zd("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}));case 5:this.db=e.sent;case 6:return this.B&&(this.db.onversionchange=function(e){return n.B(e)}),e.abrupt("return",this.db);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"L",value:function(e){this.B=e,this.db&&(this.db.onversionchange=function(t){return e(t)})}},{key:"runTransaction",value:function(){var e=Fe(Re().mark((function e(t,n,r,i){var a,o,u,s,c=this;return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a="readonly"===n,o=0,u=Re().mark((function e(){var n,u,s,l;return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return++o,e.prev=1,e.next=4,c.F(t);case 4:return c.db=e.sent,n=Rp.open(c.db,t,a?"readonly":"readwrite",r),u=i(n).next((function(e){return n.V(),e})).catch((function(e){return n.abort(e),Pp.reject(e)})).toPromise(),u.catch((function(){})),e.next=9,n.v;case 9:return e.t0=u,e.abrupt("return",{v:e.t0});case 13:if(e.prev=13,e.t1=e.catch(1),s=e.t1,l="FirebaseError"!==s.name&&o<3,Zd("SimpleDb","Transaction failed with error:",s.message,"Retrying:",l),c.close(),l){e.next=18;break}return e.abrupt("return",{v:Promise.reject(s)});case 18:case"end":return e.stop()}}),e,null,[[1,13]])}));case 3:return e.delegateYield(u(),"t0",4);case 4:if("object"!==typeof(s=e.t0)){e.next=7;break}return e.abrupt("return",s.v);case 7:e.next=3;break;case 9:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"close",value:function(){this.db&&this.db.close(),this.db=void 0}}],[{key:"delete",value:function(e){return Zd("SimpleDb","Removing database:",e),Up(window.indexedDB.deleteDatabase(e)).toPromise()}},{key:"C",value:function(){if(!ke())return!1;if(e.N())return!0;var t=pe(),n=e.D(t),r=0<n&&n<10,i=e.k(t),a=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||a)}},{key:"N",value:function(){var e;return"undefined"!=typeof process&&"YES"===(null===(e={NODE_ENV:"production",PUBLIC_URL:"/ReactLinkedinClone",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0})||void 0===e?void 0:e.O)}},{key:"M",value:function(e,t){return e.store(t)}},{key:"D",value:function(e){var t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}},{key:"k",value:function(e){var t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}}]),e}(),Mp=function(){function e(t){Z(this,e),this.q=t,this.U=!1,this.K=null}return G(e,[{key:"isDone",get:function(){return this.U}},{key:"G",get:function(){return this.K}},{key:"cursor",set:function(e){this.q=e}},{key:"done",value:function(){this.U=!0}},{key:"j",value:function(e){this.K=e}},{key:"delete",value:function(){return Up(this.q.delete())}}]),e}(),Fp=function(e){X(n,e);var t=ne(n);function n(e,r){var i;return Z(this,n),(i=t.call(this,Yd.UNAVAILABLE,"IndexedDB transaction '".concat(e,"' failed: ").concat(r))).name="IndexedDbTransactionError",i}return G(n)}(Xd);function Vp(e){return"IndexedDbTransactionError"===e.name}var jp=function(){function e(t){Z(this,e),this.store=t}return G(e,[{key:"put",value:function(e,t){var n;return void 0!==t?(Zd("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(Zd("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),Up(n)}},{key:"add",value:function(e){return Zd("SimpleDb","ADD",this.store.name,e,e),Up(this.store.add(e))}},{key:"get",value:function(e){var t=this;return Up(this.store.get(e)).next((function(n){return void 0===n&&(n=null),Zd("SimpleDb","GET",t.store.name,e,n),n}))}},{key:"delete",value:function(e){return Zd("SimpleDb","DELETE",this.store.name,e),Up(this.store.delete(e))}},{key:"count",value:function(){return Zd("SimpleDb","COUNT",this.store.name),Up(this.store.count())}},{key:"W",value:function(e,t){var n=this.options(e,t);if(n.index||"function"!=typeof this.store.getAll){var r=this.cursor(n),i=[];return this.H(r,(function(e,t){i.push(t)})).next((function(){return i}))}var a=this.store.getAll(n.range);return new Pp((function(e,t){a.onerror=function(e){t(e.target.error)},a.onsuccess=function(t){e(t.target.result)}}))}},{key:"J",value:function(e,t){var n=this.store.getAll(e,null===t?void 0:t);return new Pp((function(e,t){n.onerror=function(e){t(e.target.error)},n.onsuccess=function(t){e(t.target.result)}}))}},{key:"Y",value:function(e,t){Zd("SimpleDb","DELETE ALL",this.store.name);var n=this.options(e,t);n.X=!1;var r=this.cursor(n);return this.H(r,(function(e,t,n){return n.delete()}))}},{key:"Z",value:function(e,t){var n;t?n=e:(n={},t=e);var r=this.cursor(n);return this.H(r,t)}},{key:"tt",value:function(e){var t=this.cursor({});return new Pp((function(n,r){t.onerror=function(e){var t=Bp(e.target.error);r(t)},t.onsuccess=function(t){var r=t.target.result;r?e(r.primaryKey,r.value).next((function(e){e?r.continue():n()})):n()}}))}},{key:"H",value:function(e,t){var n=[];return new Pp((function(r,i){e.onerror=function(e){i(e.target.error)},e.onsuccess=function(e){var i=e.target.result;if(i){var a=new Mp(i),o=t(i.primaryKey,i.value,a);if(o instanceof Pp){var u=o.catch((function(e){return a.done(),Pp.reject(e)}));n.push(u)}a.isDone?r():null===a.G?i.continue():i.continue(a.G)}else r()}})).next((function(){return Pp.waitFor(n)}))}},{key:"options",value:function(e,t){var n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}},{key:"cursor",value:function(e){var t="next";if(e.reverse&&(t="prev"),e.index){var n=this.store.index(e.index);return e.X?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}]),e}();function Up(e){return new Pp((function(t,n){e.onsuccess=function(e){var n=e.target.result;t(n)},e.onerror=function(e){var t=Bp(e.target.error);n(t)}}))}var zp=!1;function Bp(e){var t=Lp.D(pe());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new Xd("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '".concat(n,"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround."));return zp||(zp=!0,setTimeout((function(){throw r}),0)),r}}return e}var qp=function(){function e(t,n){Z(this,e),this.asyncQueue=t,this.et=n,this.task=null}return G(e,[{key:"start",value:function(){this.nt(15e3)}},{key:"stop",value:function(){this.task&&(this.task.cancel(),this.task=null)}},{key:"started",get:function(){return null!==this.task}},{key:"nt",value:function(e){var t=this;Zd("IndexBackiller","Scheduled in ".concat(e,"ms")),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,Fe(Re().mark((function e(){return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.task=null,e.prev=1,e.t0=Zd,e.t1="Documents written: ",e.next=6,t.et.st();case 6:e.t2=e.sent,e.t3=e.t1.concat.call(e.t1,e.t2),(0,e.t0)("IndexBackiller",e.t3),e.next=19;break;case 11:if(e.prev=11,e.t4=e.catch(1),!Vp(e.t4)){e.next=17;break}Zd("IndexBackiller","Ignoring IndexedDB error during index backfill: ",e.t4),e.next=19;break;case 17:return e.next=19,Op(e.t4);case 19:return e.next=21,t.nt(6e4);case 21:case"end":return e.stop()}}),e,null,[[1,11]])}))))}}]),e}(),Zp=function(){function e(t,n){Z(this,e),this.localStore=t,this.persistence=n}return G(e,[{key:"st",value:function(){var e=Fe(Re().mark((function e(){var t,n=this,r=arguments;return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:50,e.abrupt("return",this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(function(e){return n.it(e,t)})));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"it",value:function(e,t){var n=this,r=new Set,i=t,a=!0;return Pp.doWhile((function(){return!0===a&&i>0}),(function(){return n.localStore.indexManager.getNextCollectionGroupToUpdate(e).next((function(t){if(null!==t&&!r.has(t))return Zd("IndexBackiller","Processing collection: ".concat(t)),n.rt(e,t,i).next((function(e){i-=e,r.add(t)}));a=!1}))})).next((function(){return t-i}))}},{key:"rt",value:function(e,t,n){var r=this;return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next((function(i){return r.localStore.localDocuments.getNextDocuments(e,t,i,n).next((function(n){var a=n.changes;return r.localStore.indexManager.updateIndexEntries(e,a).next((function(){return r.ot(i,n)})).next((function(n){return Zd("IndexBackiller","Updating offset: ".concat(n)),r.localStore.indexManager.updateCollectionGroup(e,t,n)})).next((function(){return a.size}))}))}))}},{key:"ot",value:function(e,t){var n=e;return t.changes.forEach((function(e,t){var r=Ep(t);Cp(r,n)>0&&(n=r)})),new Tp(n.readTime,n.documentKey,Math.max(t.batchId,e.largestBatchId))}}]),e}(),Kp=function(){function e(t,n){var r=this;Z(this,e),this.previousValue=t,n&&(n.sequenceNumberHandler=function(e){return r.ut(e)},this.ct=function(e){return n.writeSequenceNumber(e)})}return G(e,[{key:"ut",value:function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}},{key:"next",value:function(){var e=++this.previousValue;return this.ct&&this.ct(e),e}}]),e}();Kp.at=-1;var Wp=G((function e(t,n,r,i,a,o,u,s){Z(this,e),this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=u,this.useFetchStreams=s})),Gp=function(){function e(t,n){Z(this,e),this.projectId=t,this.database=n||"(default)"}return G(e,[{key:"isDefaultDatabase",get:function(){return"(default)"===this.database}},{key:"isEqual",value:function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database}}],[{key:"empty",value:function(){return new e("","")}}]),e}();function Hp(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Qp(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function $p(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function Yp(e){return null==e}function Xp(e){return 0===e&&1/e==-1/0}function Jp(e){return"number"==typeof e&&Number.isInteger(e)&&!Xp(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}var ev=function(e){function t(e){Z(this,t),this.binaryString=e}return G(t,[{key:Symbol.iterator,value:function(){var e=this,t=0;return{next:function(){return t<e.binaryString.length?{value:e.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}}},{key:"toBase64",value:function(){return e=this.binaryString,btoa(e);var e}},{key:"toUint8Array",value:function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}},{key:"approximateByteSize",value:function(){return 2*this.binaryString.length}},{key:"compareTo",value:function(e){return lp(this.binaryString,e.binaryString)}},{key:"isEqual",value:function(e){return this.binaryString===e.binaryString}}],[{key:"fromBase64String",value:function(e){return new t(atob(e))}},{key:"fromUint8Array",value:function(e){var n=function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new t(n)}}]),t}();ev.EMPTY_BYTE_STRING=new ev("");var tv=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function nv(e){if(Qd(!!e),"string"==typeof e){var t=0,n=tv.exec(e);if(Qd(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:rv(e.seconds),nanos:rv(e.nanos)}}function rv(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function iv(e){return"string"==typeof e?ev.fromBase64String(e):ev.fromUint8Array(e)}function av(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function ov(e){var t=e.mapValue.fields.__previous_value__;return av(t)?ov(t):t}function uv(e){var t=nv(e.mapValue.fields.__local_write_time__.timestampValue);return new dp(t.seconds,t.nanos)}var sv={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},cv={nullValue:"NULL_VALUE"};function lv(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?av(e)?4:Iv(e)?9007199254740991:10:Hd()}function fv(e,t){if(e===t)return!0;var n=lv(e);if(n!==lv(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return uv(e).isEqual(uv(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=nv(e.timestampValue),r=nv(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return iv(e.bytesValue).isEqual(iv(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return rv(e.geoPointValue.latitude)===rv(t.geoPointValue.latitude)&&rv(e.geoPointValue.longitude)===rv(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return rv(e.integerValue)===rv(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=rv(e.doubleValue),r=rv(t.doubleValue);return n===r?Xp(n)===Xp(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return fp(e.arrayValue.values||[],t.arrayValue.values||[],fv);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(Hp(n)!==Hp(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!fv(n[i],r[i])))return!1;return!0}(e,t);default:return Hd()}}function hv(e,t){return void 0!==(e.values||[]).find((function(e){return fv(e,t)}))}function dv(e,t){if(e===t)return 0;var n=lv(e),r=lv(t);if(n!==r)return lp(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return lp(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=rv(e.integerValue||e.doubleValue),r=rv(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return pv(e.timestampValue,t.timestampValue);case 4:return pv(uv(e),uv(t));case 5:return lp(e.stringValue,t.stringValue);case 6:return function(e,t){var n=iv(e),r=iv(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var a=lp(n[i],r[i]);if(0!==a)return a}return lp(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=lp(rv(e.latitude),rv(t.latitude));return 0!==n?n:lp(rv(e.longitude),rv(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var a=dv(n[i],r[i]);if(a)return a}return lp(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===sv.mapValue&&t===sv.mapValue)return 0;if(e===sv.mapValue)return 1;if(t===sv.mapValue)return-1;var n=e.fields||{},r=Object.keys(n),i=t.fields||{},a=Object.keys(i);r.sort(),a.sort();for(var o=0;o<r.length&&o<a.length;++o){var u=lp(r[o],a[o]);if(0!==u)return u;var s=dv(n[r[o]],i[a[o]]);if(0!==s)return s}return lp(r.length,a.length)}(e.mapValue,t.mapValue);default:throw Hd()}}function pv(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return lp(e,t);var n=nv(e),r=nv(t),i=lp(n.seconds,r.seconds);return 0!==i?i:lp(n.nanos,r.nanos)}function vv(e){return yv(e)}function yv(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){var t=nv(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?iv(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,kp.fromName(n).toString()):"geoPointValue"in e?"geo(".concat((t=e.geoPointValue).latitude,",").concat(t.longitude,")"):"arrayValue"in e?function(e){var t,n="[",r=!0,i=Q(e.values||[]);try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+=yv(a)}}catch(o){i.e(o)}finally{i.f()}return n+"]"}(e.arrayValue):"mapValue"in e?function(e){var t,n="{",r=!0,i=Q(Object.keys(e.fields||{}).sort());try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+="".concat(a,":").concat(yv(e.fields[a]))}}catch(o){i.e(o)}finally{i.f()}return n+"}"}(e.mapValue):Hd();var t,n}function mv(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function gv(e){return!!e&&"integerValue"in e}function kv(e){return!!e&&"arrayValue"in e}function bv(e){return!!e&&"nullValue"in e}function wv(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function xv(e){return!!e&&"mapValue"in e}function _v(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return Qp(e.mapValue.fields,(function(e,n){return t.mapValue.fields[e]=_v(n)})),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=_v(e.arrayValue.values[r]);return n}return Object.assign({},e)}function Iv(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}function Sv(e){return"nullValue"in e?cv:"booleanValue"in e?{booleanValue:!1}:"integerValue"in e||"doubleValue"in e?{doubleValue:NaN}:"timestampValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in e?{stringValue:""}:"bytesValue"in e?{bytesValue:""}:"referenceValue"in e?mv(Gp.empty(),kp.empty()):"geoPointValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in e?{arrayValue:{}}:"mapValue"in e?{mapValue:{}}:Hd()}function Ev(e){return"nullValue"in e?{booleanValue:!1}:"booleanValue"in e?{doubleValue:NaN}:"integerValue"in e||"doubleValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in e?{stringValue:""}:"stringValue"in e?{bytesValue:""}:"bytesValue"in e?mv(Gp.empty(),kp.empty()):"referenceValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in e?{arrayValue:{}}:"arrayValue"in e?{mapValue:{}}:"mapValue"in e?sv:Hd()}function Tv(e,t){var n=dv(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?-1:!e.inclusive&&t.inclusive?1:0}function Cv(e,t){var n=dv(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?1:!e.inclusive&&t.inclusive?-1:0}var Av=G((function e(t,n){Z(this,e),this.position=t,this.inclusive=n}));function Nv(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var a=t[i],o=e.position[i];if(r=a.field.isKeyField()?kp.comparator(kp.fromName(o.referenceValue),n.key):dv(o,n.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function Ov(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!fv(e.position[n],t.position[n]))return!1;return!0}var Dv=G((function e(){Z(this,e)})),Pv=function(e){X(n,e);var t=ne(n);function n(e,r,i){var a;return Z(this,n),(a=t.call(this)).field=e,a.op=r,a.value=i,a}return G(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(dv(t,this.value)):null!==t&&lv(this.value)===lv(t)&&this.matchesComparison(dv(t,this.value))}},{key:"matchesComparison",value:function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Hd()}}},{key:"isInequality",value:function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}},{key:"getFlattenedFilters",value:function(){return[this]}},{key:"getFilters",value:function(){return[this]}},{key:"getFirstInequalityField",value:function(){return this.isInequality()?this.field:null}}],[{key:"create",value:function(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,r):new qv(e,t,r):"array-contains"===t?new Gv(e,r):"in"===t?new Hv(e,r):"not-in"===t?new Qv(e,r):"array-contains-any"===t?new $v(e,r):new n(e,t,r)}},{key:"createKeyFieldInFilter",value:function(e,t,n){return"in"===t?new Zv(e,n):new Kv(e,n)}}]),n}(Dv),Rv=function(e){X(n,e);var t=ne(n);function n(e,r){var i;return Z(this,n),(i=t.call(this)).filters=e,i.op=r,i.ht=null,i}return G(n,[{key:"matches",value:function(e){return Lv(this)?void 0===this.filters.find((function(t){return!t.matches(e)})):void 0!==this.filters.find((function(t){return t.matches(e)}))}},{key:"getFlattenedFilters",value:function(){return null!==this.ht||(this.ht=this.filters.reduce((function(e,t){return e.concat(t.getFlattenedFilters())}),[])),this.ht}},{key:"getFilters",value:function(){return Object.assign([],this.filters)}},{key:"getFirstInequalityField",value:function(){var e=this.lt((function(e){return e.isInequality()}));return null!==e?e.field:null}},{key:"lt",value:function(e){var t,n=Q(this.getFlattenedFilters());try{for(n.s();!(t=n.n()).done;){var r=t.value;if(e(r))return r}}catch(i){n.e(i)}finally{n.f()}return null}}],[{key:"create",value:function(e,t){return new n(e,t)}}]),n}(Dv);function Lv(e){return"and"===e.op}function Mv(e){return"or"===e.op}function Fv(e){return Vv(e)&&Lv(e)}function Vv(e){var t,n=Q(e.filters);try{for(n.s();!(t=n.n()).done;){if(t.value instanceof Rv)return!1}}catch(r){n.e(r)}finally{n.f()}return!0}function jv(e){if(e instanceof Pv)return e.field.canonicalString()+e.op.toString()+vv(e.value);if(Fv(e))return e.filters.map((function(e){return jv(e)})).join(",");var t=e.filters.map((function(e){return jv(e)})).join(",");return"".concat(e.op,"(").concat(t,")")}function Uv(e,t){return e instanceof Pv?function(e,t){return t instanceof Pv&&e.op===t.op&&e.field.isEqual(t.field)&&fv(e.value,t.value)}(e,t):e instanceof Rv?function(e,t){return t instanceof Rv&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce((function(e,n,r){return e&&Uv(n,t.filters[r])}),!0)}(e,t):void Hd()}function zv(e,t){var n=e.filters.concat(t);return Rv.create(n,e.op)}function Bv(e){return e instanceof Pv?function(e){return"".concat(e.field.canonicalString()," ").concat(e.op," ").concat(vv(e.value))}(e):e instanceof Rv?function(e){return e.op.toString()+" {"+e.getFilters().map(Bv).join(" ,")+"}"}(e):"Filter"}var qv=function(e){X(n,e);var t=ne(n);function n(e,r,i){var a;return Z(this,n),(a=t.call(this,e,r,i)).key=kp.fromName(i.referenceValue),a}return G(n,[{key:"matches",value:function(e){var t=kp.comparator(e.key,this.key);return this.matchesComparison(t)}}]),n}(Pv),Zv=function(e){X(n,e);var t=ne(n);function n(e,r){var i;return Z(this,n),(i=t.call(this,e,"in",r)).keys=Wv("in",r),i}return G(n,[{key:"matches",value:function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(Pv),Kv=function(e){X(n,e);var t=ne(n);function n(e,r){var i;return Z(this,n),(i=t.call(this,e,"not-in",r)).keys=Wv("not-in",r),i}return G(n,[{key:"matches",value:function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(Pv);function Wv(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(e){return kp.fromName(e.referenceValue)}))}var Gv=function(e){X(n,e);var t=ne(n);function n(e,r){return Z(this,n),t.call(this,e,"array-contains",r)}return G(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return kv(t)&&hv(t.arrayValue,this.value)}}]),n}(Pv),Hv=function(e){X(n,e);var t=ne(n);function n(e,r){return Z(this,n),t.call(this,e,"in",r)}return G(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return null!==t&&hv(this.value.arrayValue,t)}}]),n}(Pv),Qv=function(e){X(n,e);var t=ne(n);function n(e,r){return Z(this,n),t.call(this,e,"not-in",r)}return G(n,[{key:"matches",value:function(e){if(hv(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!hv(this.value.arrayValue,t)}}]),n}(Pv),$v=function(e){X(n,e);var t=ne(n);function n(e,r){return Z(this,n),t.call(this,e,"array-contains-any",r)}return G(n,[{key:"matches",value:function(e){var t=this,n=e.data.field(this.field);return!(!kv(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(e){return hv(t.value.arrayValue,e)}))}}]),n}(Pv),Yv=G((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";Z(this,e),this.field=t,this.dir=n}));function Xv(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}var Jv=function(){function e(t,n){Z(this,e),this.comparator=t,this.root=n||ty.EMPTY}return G(e,[{key:"insert",value:function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,ty.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,ty.BLACK,null,null))}},{key:"get",value:function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}},{key:"indexOf",value:function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}},{key:"isEmpty",value:function(){return this.root.isEmpty()}},{key:"size",get:function(){return this.root.size}},{key:"minKey",value:function(){return this.root.minKey()}},{key:"maxKey",value:function(){return this.root.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root.inorderTraversal(e)}},{key:"forEach",value:function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))}},{key:"toString",value:function(){var e=[];return this.inorderTraversal((function(t,n){return e.push("".concat(t,":").concat(n)),!1})),"{".concat(e.join(", "),"}")}},{key:"reverseTraversal",value:function(e){return this.root.reverseTraversal(e)}},{key:"getIterator",value:function(){return new ey(this.root,null,this.comparator,!1)}},{key:"getIteratorFrom",value:function(e){return new ey(this.root,e,this.comparator,!1)}},{key:"getReverseIterator",value:function(){return new ey(this.root,null,this.comparator,!0)}},{key:"getReverseIteratorFrom",value:function(e){return new ey(this.root,e,this.comparator,!0)}}]),e}(),ey=function(){function e(t,n,r,i){Z(this,e),this.isReverse=i,this.nodeStack=[];for(var a=1;!t.isEmpty();)if(a=n?r(t.key,n):1,n&&i&&(a*=-1),a<0)t=this.isReverse?t.left:t.right;else{if(0===a){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return G(e,[{key:"getNext",value:function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}},{key:"hasNext",value:function(){return this.nodeStack.length>0}},{key:"peek",value:function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}]),e}(),ty=function(){function e(t,n,r,i,a){Z(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=a?a:e.EMPTY,this.size=this.left.size+1+this.right.size}return G(e,[{key:"copy",value:function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min",value:function(){return this.left.isEmpty()?this:this.left.min()}},{key:"minKey",value:function(){return this.min().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()}},{key:"removeMin",value:function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()}},{key:"remove",value:function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}},{key:"isRed",value:function(){return this.color}},{key:"fixUp",value:function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}},{key:"moveRedLeft",value:function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e}},{key:"moveRedRight",value:function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e}},{key:"rotateLeft",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth",value:function(){var e=this.check();return Math.pow(2,e)<=this.size+1}},{key:"check",value:function(){if(this.isRed()&&this.left.isRed())throw Hd();if(this.right.isRed())throw Hd();var e=this.left.check();if(e!==this.right.check())throw Hd();return e+(this.isRed()?0:1)}}]),e}();ty.EMPTY=null,ty.RED=!0,ty.BLACK=!1,ty.EMPTY=new(function(){function e(){Z(this,e),this.size=0}return G(e,[{key:"key",get:function(){throw Hd()}},{key:"value",get:function(){throw Hd()}},{key:"color",get:function(){throw Hd()}},{key:"left",get:function(){throw Hd()}},{key:"right",get:function(){throw Hd()}},{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new ty(e,t)}},{key:"remove",value:function(e,t){return this}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"isRed",value:function(){return!1}},{key:"checkMaxDepth",value:function(){return!0}},{key:"check",value:function(){return 0}}]),e}());var ny=function(){function e(t){Z(this,e),this.comparator=t,this.data=new Jv(this.comparator)}return G(e,[{key:"has",value:function(e){return null!==this.data.get(e)}},{key:"first",value:function(){return this.data.minKey()}},{key:"last",value:function(){return this.data.maxKey()}},{key:"size",get:function(){return this.data.size}},{key:"indexOf",value:function(e){return this.data.indexOf(e)}},{key:"forEach",value:function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"forEachInRange",value:function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}},{key:"forEachWhile",value:function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}},{key:"firstAfterOrEqual",value:function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}},{key:"getIterator",value:function(){return new ry(this.data.getIterator())}},{key:"getIteratorFrom",value:function(e){return new ry(this.data.getIteratorFrom(e))}},{key:"add",value:function(e){return this.copy(this.data.remove(e).insert(e,!0))}},{key:"delete",value:function(e){return this.has(e)?this.copy(this.data.remove(e)):this}},{key:"isEmpty",value:function(){return this.data.isEmpty()}},{key:"unionWith",value:function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}},{key:"toArray",value:function(){var e=[];return this.forEach((function(t){e.push(t)})),e}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"}},{key:"copy",value:function(t){var n=new e(this.comparator);return n.data=t,n}}]),e}(),ry=function(){function e(t){Z(this,e),this.iter=t}return G(e,[{key:"getNext",value:function(){return this.iter.getNext().key}},{key:"hasNext",value:function(){return this.iter.hasNext()}}]),e}();function iy(e){return e.hasNext()?e.getNext():void 0}var ay=function(){function e(t){Z(this,e),this.fields=t,t.sort(gp.comparator)}return G(e,[{key:"unionWith",value:function(t){var n,r=new ny(gp.comparator),i=Q(this.fields);try{for(i.s();!(n=i.n()).done;){var a=n.value;r=r.add(a)}}catch(c){i.e(c)}finally{i.f()}var o,u=Q(t);try{for(u.s();!(o=u.n()).done;){var s=o.value;r=r.add(s)}}catch(c){u.e(c)}finally{u.f()}return new e(r.toArray())}},{key:"covers",value:function(e){var t,n=Q(this.fields);try{for(n.s();!(t=n.n()).done;){if(t.value.isPrefixOf(e))return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"isEqual",value:function(e){return fp(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))}}],[{key:"empty",value:function(){return new e([])}}]),e}(),oy=function(){function e(t){Z(this,e),this.value=t}return G(e,[{key:"field",value:function(e){if(e.isEmpty())return this.value;for(var t=this.value,n=0;n<e.length-1;++n)if(!xv(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null}},{key:"set",value:function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=_v(t)}},{key:"setAll",value:function(e){var t=this,n=gp.emptyPath(),r={},i=[];e.forEach((function(e,a){if(!n.isImmediateParentOf(a)){var o=t.getFieldsMap(n);t.applyChanges(o,r,i),r={},i=[],n=a.popLast()}e?r[a.lastSegment()]=_v(e):i.push(a.lastSegment())}));var a=this.getFieldsMap(n);this.applyChanges(a,r,i)}},{key:"delete",value:function(e){var t=this.field(e.popLast());xv(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}},{key:"isEqual",value:function(e){return fv(this.value,e.value)}},{key:"getFieldsMap",value:function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var n=0;n<e.length;++n){var r=t.mapValue.fields[e.get(n)];xv(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}},{key:"applyChanges",value:function(e,t,n){Qp(t,(function(t,n){return e[t]=n}));var r,i=Q(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;delete e[a]}}catch(o){i.e(o)}finally{i.f()}}},{key:"clone",value:function(){return new e(_v(this.value))}}],[{key:"empty",value:function(){return new e({mapValue:{}})}}]),e}();function uy(e){var t=[];return Qp(e.fields,(function(e,n){var r=new gp([e]);if(xv(n)){var i=uy(n.mapValue).fields;if(0===i.length)t.push(r);else{var a,o=Q(i);try{for(o.s();!(a=o.n()).done;){var u=a.value;t.push(r.child(u))}}catch(s){o.e(s)}finally{o.f()}}}else t.push(r)})),new ay(t)}var sy=function(){function e(t,n,r,i,a,o,u){Z(this,e),this.key=t,this.documentType=n,this.version=r,this.readTime=i,this.createTime=a,this.data=o,this.documentState=u}return G(e,[{key:"convertToFoundDocument",value:function(e,t){return!this.createTime.isEqual(pp.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}},{key:"convertToNoDocument",value:function(e){return this.version=e,this.documentType=2,this.data=oy.empty(),this.documentState=0,this}},{key:"convertToUnknownDocument",value:function(e){return this.version=e,this.documentType=3,this.data=oy.empty(),this.documentState=2,this}},{key:"setHasCommittedMutations",value:function(){return this.documentState=2,this}},{key:"setHasLocalMutations",value:function(){return this.documentState=1,this.version=pp.min(),this}},{key:"setReadTime",value:function(e){return this.readTime=e,this}},{key:"hasLocalMutations",get:function(){return 1===this.documentState}},{key:"hasCommittedMutations",get:function(){return 2===this.documentState}},{key:"hasPendingWrites",get:function(){return this.hasLocalMutations||this.hasCommittedMutations}},{key:"isValidDocument",value:function(){return 0!==this.documentType}},{key:"isFoundDocument",value:function(){return 1===this.documentType}},{key:"isNoDocument",value:function(){return 2===this.documentType}},{key:"isUnknownDocument",value:function(){return 3===this.documentType}},{key:"isEqual",value:function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}},{key:"mutableCopy",value:function(){return new e(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}},{key:"toString",value:function(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {createTime: ").concat(this.createTime,"}), {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}],[{key:"newInvalidDocument",value:function(t){return new e(t,0,pp.min(),pp.min(),pp.min(),oy.empty(),0)}},{key:"newFoundDocument",value:function(t,n,r,i){return new e(t,1,n,pp.min(),r,i,0)}},{key:"newNoDocument",value:function(t,n){return new e(t,2,n,pp.min(),pp.min(),oy.empty(),0)}},{key:"newUnknownDocument",value:function(t,n){return new e(t,3,n,pp.min(),pp.min(),oy.empty(),2)}}]),e}(),cy=G((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;Z(this,e),this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=o,this.endAt=u,this.ft=null}));function ly(e){return new cy(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function fy(e){var t=$d(e);if(null===t.ft){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((function(e){return jv(e)})).join(","),n+="|ob:",n+=t.orderBy.map((function(e){return function(e){return e.field.canonicalString()+e.dir}(e)})).join(","),Yp(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((function(e){return vv(e)})).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((function(e){return vv(e)})).join(",")),t.ft=n}return t.ft}function hy(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!Xv(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(!Uv(e.filters[r],t.filters[r]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Ov(e.startAt,t.startAt)&&Ov(e.endAt,t.endAt)}function dy(e){return kp.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}function py(e,t){return e.filters.filter((function(e){return e instanceof Pv&&e.field.isEqual(t)}))}function vy(e,t,n){var r,i=cv,a=!0,o=Q(py(e,t));try{for(o.s();!(r=o.n()).done;){var u=r.value,s=cv,c=!0;switch(u.op){case"<":case"<=":s=Sv(u.value);break;case"==":case"in":case">=":s=u.value;break;case">":s=u.value,c=!1;break;case"!=":case"not-in":s=cv}Tv({value:i,inclusive:a},{value:s,inclusive:c})<0&&(i=s,a=c)}}catch(h){o.e(h)}finally{o.f()}if(null!==n)for(var l=0;l<e.orderBy.length;++l)if(e.orderBy[l].field.isEqual(t)){var f=n.position[l];Tv({value:i,inclusive:a},{value:f,inclusive:n.inclusive})<0&&(i=f,a=n.inclusive);break}return{value:i,inclusive:a}}function yy(e,t,n){var r,i=sv,a=!0,o=Q(py(e,t));try{for(o.s();!(r=o.n()).done;){var u=r.value,s=sv,c=!0;switch(u.op){case">=":case">":s=Ev(u.value),c=!1;break;case"==":case"in":case"<=":s=u.value;break;case"<":s=u.value,c=!1;break;case"!=":case"not-in":s=sv}Cv({value:i,inclusive:a},{value:s,inclusive:c})>0&&(i=s,a=c)}}catch(h){o.e(h)}finally{o.f()}if(null!==n)for(var l=0;l<e.orderBy.length;++l)if(e.orderBy[l].field.isEqual(t)){var f=n.position[l];Cv({value:i,inclusive:a},{value:f,inclusive:n.inclusive})>0&&(i=f,a=n.inclusive);break}return{value:i,inclusive:a}}var my=G((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;Z(this,e),this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=o,this.startAt=u,this.endAt=s,this.dt=null,this._t=null,this.startAt,this.endAt}));function gy(e,t,n,r,i,a,o,u){return new my(e,t,n,r,i,a,o,u)}function ky(e){return new my(e)}function by(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function wy(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function xy(e){var t,n=Q(e.filters);try{for(n.s();!(t=n.n()).done;){var r=t.value.getFirstInequalityField();if(null!==r)return r}}catch(i){n.e(i)}finally{n.f()}return null}function _y(e){return null!==e.collectionGroup}function Iy(e){var t=$d(e);if(null===t.dt){t.dt=[];var n=xy(t),r=wy(t);if(null!==n&&null===r)n.isKeyField()||t.dt.push(new Yv(n)),t.dt.push(new Yv(gp.keyField(),"asc"));else{var i,a=!1,o=Q(t.explicitOrderBy);try{for(o.s();!(i=o.n()).done;){var u=i.value;t.dt.push(u),u.field.isKeyField()&&(a=!0)}}catch(c){o.e(c)}finally{o.f()}if(!a){var s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.dt.push(new Yv(gp.keyField(),s))}}}return t.dt}function Sy(e){var t=$d(e);if(!t._t)if("F"===t.limitType)t._t=ly(t.path,t.collectionGroup,Iy(t),t.filters,t.limit,t.startAt,t.endAt);else{var n,r=[],i=Q(Iy(t));try{for(i.s();!(n=i.n()).done;){var a=n.value,o="desc"===a.dir?"asc":"desc";r.push(new Yv(a.field,o))}}catch(c){i.e(c)}finally{i.f()}var u=t.endAt?new Av(t.endAt.position,t.endAt.inclusive):null,s=t.startAt?new Av(t.startAt.position,t.startAt.inclusive):null;t._t=ly(t.path,t.collectionGroup,r,t.filters,t.limit,u,s)}return t._t}function Ey(e,t){t.getFirstInequalityField(),xy(e);var n=e.filters.concat([t]);return new my(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function Ty(e,t,n){return new my(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Cy(e,t){return hy(Sy(e),Sy(t))&&e.limitType===t.limitType}function Ay(e){return"".concat(fy(Sy(e)),"|lt:").concat(e.limitType)}function Ny(e){return"Query(target=".concat(function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((function(e){return Bv(e)})).join(", "),"]")),Yp(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((function(e){return function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)})).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((function(e){return vv(e)})).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((function(e){return vv(e)})).join(",")),"Target(".concat(t,")")}(Sy(e)),"; limitType=").concat(e.limitType,")")}function Oy(e,t){return t.isFoundDocument()&&function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):kp.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){var n,r=Q(Iy(e));try{for(r.s();!(n=r.n()).done;){var i=n.value;if(!i.field.isKeyField()&&null===t.data.field(i.field))return!1}}catch(a){r.e(a)}finally{r.f()}return!0}(e,t)&&function(e,t){var n,r=Q(e.filters);try{for(r.s();!(n=r.n()).done;){if(!n.value.matches(t))return!1}}catch(i){r.e(i)}finally{r.f()}return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){var r=Nv(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,Iy(e),t))&&!(e.endAt&&!function(e,t,n){var r=Nv(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,Iy(e),t))}(e,t)}function Dy(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function Py(e){return function(t,n){var r,i=!1,a=Q(Iy(e));try{for(a.s();!(r=a.n()).done;){var o=r.value,u=Ry(o,t,n);if(0!==u)return u;i=i||o.field.isKeyField()}}catch(s){a.e(s)}finally{a.f()}return 0}}function Ry(e,t,n){var r=e.field.isKeyField()?kp.comparator(t.key,n.key):function(e,t,n){var r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?dv(r,i):Hd()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Hd()}}function Ly(e,t){if(e.wt){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Xp(t)?"-0":t}}function My(e){return{integerValue:""+e}}function Fy(e,t){return Jp(t)?My(t):Ly(e,t)}var Vy=G((function e(){Z(this,e),this._=void 0}));function jy(e,t,n){return e instanceof By?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof qy?Zy(e,t):e instanceof Ky?Wy(e,t):function(e,t){var n=zy(e,t),r=Hy(n)+Hy(e.gt);return gv(n)&&gv(e.gt)?My(r):Ly(e.yt,r)}(e,t)}function Uy(e,t,n){return e instanceof qy?Zy(e,t):e instanceof Ky?Wy(e,t):n}function zy(e,t){return e instanceof Gy?gv(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}var By=function(e){X(n,e);var t=ne(n);function n(){return Z(this,n),t.apply(this,arguments)}return G(n)}(Vy),qy=function(e){X(n,e);var t=ne(n);function n(e){var r;return Z(this,n),(r=t.call(this)).elements=e,r}return G(n)}(Vy);function Zy(e,t){var n,r=Qy(t),i=Q(e.elements);try{var a=function(){var e=n.value;r.some((function(t){return fv(t,e)}))||r.push(e)};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var Ky=function(e){X(n,e);var t=ne(n);function n(e){var r;return Z(this,n),(r=t.call(this)).elements=e,r}return G(n)}(Vy);function Wy(e,t){var n,r=Qy(t),i=Q(e.elements);try{var a=function(){var e=n.value;r=r.filter((function(t){return!fv(t,e)}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var Gy=function(e){X(n,e);var t=ne(n);function n(e,r){var i;return Z(this,n),(i=t.call(this)).yt=e,i.gt=r,i}return G(n)}(Vy);function Hy(e){return rv(e.integerValue||e.doubleValue)}function Qy(e){return kv(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var $y=G((function e(t,n){Z(this,e),this.field=t,this.transform=n}));var Yy=G((function e(t,n){Z(this,e),this.version=t,this.transformResults=n})),Xy=function(){function e(t,n){Z(this,e),this.updateTime=t,this.exists=n}return G(e,[{key:"isNone",get:function(){return void 0===this.updateTime&&void 0===this.exists}},{key:"isEqual",value:function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}],[{key:"none",value:function(){return new e}},{key:"exists",value:function(t){return new e(void 0,t)}},{key:"updateTime",value:function(t){return new e(t)}}]),e}();function Jy(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var em=G((function e(){Z(this,e)}));function tm(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new dm(e.key,Xy.none()):new om(e.key,e.data,Xy.none());var n,r=e.data,i=oy.empty(),a=new ny(gp.comparator),o=Q(t.fields);try{for(o.s();!(n=o.n()).done;){var u=n.value;if(!a.has(u)){var s=r.field(u);null===s&&u.length>1&&(u=u.popLast(),s=r.field(u)),null===s?i.delete(u):i.set(u,s),a=a.add(u)}}}catch(c){o.e(c)}finally{o.f()}return new um(e.key,i,new ay(a.toArray()),Xy.none())}function nm(e,t,n){e instanceof om?function(e,t,n){var r=e.value.clone(),i=cm(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof um?function(e,t,n){if(Jy(e.precondition,t)){var r=cm(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(sm(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function rm(e,t,n,r){return e instanceof om?function(e,t,n,r){if(!Jy(e.precondition,t))return n;var i=e.value.clone(),a=lm(e.fieldTransforms,r,t);return i.setAll(a),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof um?function(e,t,n,r){if(!Jy(e.precondition,t))return n;var i=lm(e.fieldTransforms,r,t),a=t.data;return a.setAll(sm(e)),a.setAll(i),t.convertToFoundDocument(t.version,a).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((function(e){return e.field})))}(e,t,n,r):function(e,t,n){return Jy(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function im(e,t){var n,r=null,i=Q(e.fieldTransforms);try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.field),u=zy(a.transform,o||null);null!=u&&(null===r&&(r=oy.empty()),r.set(a.field,u))}}catch(s){i.e(s)}finally{i.f()}return r||null}function am(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&fp(e,t,(function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof qy&&t instanceof qy||e instanceof Ky&&t instanceof Ky?fp(e.elements,t.elements,fv):e instanceof Gy&&t instanceof Gy?fv(e.gt,t.gt):e instanceof By&&t instanceof By}(e.transform,t.transform)}(e,t)}))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}var om=function(e){X(n,e);var t=ne(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return Z(this,n),(a=t.call(this)).key=e,a.value=r,a.precondition=i,a.fieldTransforms=o,a.type=0,a}return G(n,[{key:"getFieldMask",value:function(){return null}}]),n}(em),um=function(e){X(n,e);var t=ne(n);function n(e,r,i,a){var o,u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];return Z(this,n),(o=t.call(this)).key=e,o.data=r,o.fieldMask=i,o.precondition=a,o.fieldTransforms=u,o.type=1,o}return G(n,[{key:"getFieldMask",value:function(){return this.fieldMask}}]),n}(em);function sm(e){var t=new Map;return e.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}})),t}function cm(e,t,n){var r=new Map;Qd(e.length===n.length);for(var i=0;i<n.length;i++){var a=e[i],o=a.transform,u=t.data.field(a.field);r.set(a.field,Uy(o,u,n[i]))}return r}function lm(e,t,n){var r,i=new Map,a=Q(e);try{for(a.s();!(r=a.n()).done;){var o=r.value,u=o.transform,s=n.data.field(o.field);i.set(o.field,jy(u,s,t))}}catch(c){a.e(c)}finally{a.f()}return i}var fm,hm,dm=function(e){X(n,e);var t=ne(n);function n(e,r){var i;return Z(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=2,i.fieldTransforms=[],i}return G(n,[{key:"getFieldMask",value:function(){return null}}]),n}(em),pm=function(e){X(n,e);var t=ne(n);function n(e,r){var i;return Z(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=3,i.fieldTransforms=[],i}return G(n,[{key:"getFieldMask",value:function(){return null}}]),n}(em),vm=G((function e(t){Z(this,e),this.count=t}));function ym(e){switch(e){default:return Hd();case Yd.CANCELLED:case Yd.UNKNOWN:case Yd.DEADLINE_EXCEEDED:case Yd.RESOURCE_EXHAUSTED:case Yd.INTERNAL:case Yd.UNAVAILABLE:case Yd.UNAUTHENTICATED:return!1;case Yd.INVALID_ARGUMENT:case Yd.NOT_FOUND:case Yd.ALREADY_EXISTS:case Yd.PERMISSION_DENIED:case Yd.FAILED_PRECONDITION:case Yd.ABORTED:case Yd.OUT_OF_RANGE:case Yd.UNIMPLEMENTED:case Yd.DATA_LOSS:return!0}}function mm(e){if(void 0===e)return Kd("GRPC error has no .code"),Yd.UNKNOWN;switch(e){case fm.OK:return Yd.OK;case fm.CANCELLED:return Yd.CANCELLED;case fm.UNKNOWN:return Yd.UNKNOWN;case fm.DEADLINE_EXCEEDED:return Yd.DEADLINE_EXCEEDED;case fm.RESOURCE_EXHAUSTED:return Yd.RESOURCE_EXHAUSTED;case fm.INTERNAL:return Yd.INTERNAL;case fm.UNAVAILABLE:return Yd.UNAVAILABLE;case fm.UNAUTHENTICATED:return Yd.UNAUTHENTICATED;case fm.INVALID_ARGUMENT:return Yd.INVALID_ARGUMENT;case fm.NOT_FOUND:return Yd.NOT_FOUND;case fm.ALREADY_EXISTS:return Yd.ALREADY_EXISTS;case fm.PERMISSION_DENIED:return Yd.PERMISSION_DENIED;case fm.FAILED_PRECONDITION:return Yd.FAILED_PRECONDITION;case fm.ABORTED:return Yd.ABORTED;case fm.OUT_OF_RANGE:return Yd.OUT_OF_RANGE;case fm.UNIMPLEMENTED:return Yd.UNIMPLEMENTED;case fm.DATA_LOSS:return Yd.DATA_LOSS;default:return Hd()}}(hm=fm||(fm={}))[hm.OK=0]="OK",hm[hm.CANCELLED=1]="CANCELLED",hm[hm.UNKNOWN=2]="UNKNOWN",hm[hm.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",hm[hm.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",hm[hm.NOT_FOUND=5]="NOT_FOUND",hm[hm.ALREADY_EXISTS=6]="ALREADY_EXISTS",hm[hm.PERMISSION_DENIED=7]="PERMISSION_DENIED",hm[hm.UNAUTHENTICATED=16]="UNAUTHENTICATED",hm[hm.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",hm[hm.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",hm[hm.ABORTED=10]="ABORTED",hm[hm.OUT_OF_RANGE=11]="OUT_OF_RANGE",hm[hm.UNIMPLEMENTED=12]="UNIMPLEMENTED",hm[hm.INTERNAL=13]="INTERNAL",hm[hm.UNAVAILABLE=14]="UNAVAILABLE",hm[hm.DATA_LOSS=15]="DATA_LOSS";var gm=function(){function e(t,n){Z(this,e),this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}return G(e,[{key:"get",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n){var r,i=Q(n);try{for(i.s();!(r=i.n()).done;){var o=(0,a.Z)(r.value,2),u=o[0],s=o[1];if(this.equalsFn(u,e))return s}}catch(c){i.e(c)}finally{i.f()}}}},{key:"has",value:function(e){return void 0!==this.get(e)}},{key:"set",value:function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}},{key:"delete",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}},{key:"forEach",value:function(e){Qp(this.inner,(function(t,n){var r,i=Q(n);try{for(i.s();!(r=i.n()).done;){var o=(0,a.Z)(r.value,2),u=o[0],s=o[1];e(u,s)}}catch(c){i.e(c)}finally{i.f()}}))}},{key:"isEmpty",value:function(){return $p(this.inner)}},{key:"size",value:function(){return this.innerSize}}]),e}(),km=new Jv(kp.comparator);function bm(){return km}var wm=new Jv(kp.comparator);function xm(){for(var e=wm,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.insert(o.key,o)}return e}function _m(e){var t=wm;return e.forEach((function(e,n){return t=t.insert(e,n.overlayedDocument)})),t}function Im(){return Em()}function Sm(){return Em()}function Em(){return new gm((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)}))}var Tm=new Jv(kp.comparator),Cm=new ny(kp.comparator);function Am(){for(var e=Cm,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.add(o)}return e}var Nm=new ny(lp);function Om(){return Nm}var Dm=function(){function e(t,n,r,i,a){Z(this,e),this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}return G(e,null,[{key:"createSynthesizedRemoteEventForCurrentChange",value:function(t,n,r){var i=new Map;return i.set(t,Pm.createSynthesizedTargetChangeForCurrentChange(t,n,r)),new e(pp.min(),i,Om(),bm(),Am())}}]),e}(),Pm=function(){function e(t,n,r,i,a){Z(this,e),this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}return G(e,null,[{key:"createSynthesizedTargetChangeForCurrentChange",value:function(t,n,r){return new e(r,n,Am(),Am(),Am())}}]),e}(),Rm=G((function e(t,n,r,i){Z(this,e),this.It=t,this.removedTargetIds=n,this.key=r,this.Tt=i})),Lm=G((function e(t,n){Z(this,e),this.targetId=t,this.Et=n})),Mm=G((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ev.EMPTY_BYTE_STRING,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;Z(this,e),this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i})),Fm=function(){function e(){Z(this,e),this.At=0,this.Rt=Um(),this.bt=ev.EMPTY_BYTE_STRING,this.Pt=!1,this.vt=!0}return G(e,[{key:"current",get:function(){return this.Pt}},{key:"resumeToken",get:function(){return this.bt}},{key:"Vt",get:function(){return 0!==this.At}},{key:"St",get:function(){return this.vt}},{key:"Dt",value:function(e){e.approximateByteSize()>0&&(this.vt=!0,this.bt=e)}},{key:"Ct",value:function(){var e=Am(),t=Am(),n=Am();return this.Rt.forEach((function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:Hd()}})),new Pm(this.bt,this.Pt,e,t,n)}},{key:"xt",value:function(){this.vt=!1,this.Rt=Um()}},{key:"Nt",value:function(e,t){this.vt=!0,this.Rt=this.Rt.insert(e,t)}},{key:"kt",value:function(e){this.vt=!0,this.Rt=this.Rt.remove(e)}},{key:"Ot",value:function(){this.At+=1}},{key:"Mt",value:function(){this.At-=1}},{key:"Ft",value:function(){this.vt=!0,this.Pt=!0}}]),e}(),Vm=function(){function e(t){Z(this,e),this.$t=t,this.Bt=new Map,this.Lt=bm(),this.qt=jm(),this.Ut=new ny(lp)}return G(e,[{key:"Kt",value:function(e){var t,n=Q(e.It);try{for(n.s();!(t=n.n()).done;){var r=t.value;e.Tt&&e.Tt.isFoundDocument()?this.Gt(r,e.Tt):this.Qt(r,e.key,e.Tt)}}catch(u){n.e(u)}finally{n.f()}var i,a=Q(e.removedTargetIds);try{for(a.s();!(i=a.n()).done;){var o=i.value;this.Qt(o,e.key,e.Tt)}}catch(u){a.e(u)}finally{a.f()}}},{key:"jt",value:function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.Wt(n);switch(e.state){case 0:t.zt(n)&&r.Dt(e.resumeToken);break;case 1:r.Mt(),r.Vt||r.xt(),r.Dt(e.resumeToken);break;case 2:r.Mt(),r.Vt||t.removeTarget(n);break;case 3:t.zt(n)&&(r.Ft(),r.Dt(e.resumeToken));break;case 4:t.zt(n)&&(t.Ht(n),r.Dt(e.resumeToken));break;default:Hd()}}))}},{key:"forEachTarget",value:function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.Bt.forEach((function(e,r){n.zt(r)&&t(r)}))}},{key:"Jt",value:function(e){var t=e.targetId,n=e.Et.count,r=this.Yt(t);if(r){var i=r.target;if(dy(i))if(0===n){var a=new kp(i.path);this.Qt(t,a,sy.newNoDocument(a,pp.min()))}else Qd(1===n);else this.Xt(t)!==n&&(this.Ht(t),this.Ut=this.Ut.add(t))}}},{key:"Zt",value:function(e){var t=this,n=new Map;this.Bt.forEach((function(r,i){var a=t.Yt(i);if(a){if(r.current&&dy(a.target)){var o=new kp(a.target.path);null!==t.Lt.get(o)||t.te(i,o)||t.Qt(i,o,sy.newNoDocument(o,e))}r.St&&(n.set(i,r.Ct()),r.xt())}}));var r=Am();this.qt.forEach((function(e,n){var i=!0;n.forEachWhile((function(e){var n=t.Yt(e);return!n||2===n.purpose||(i=!1,!1)})),i&&(r=r.add(e))})),this.Lt.forEach((function(t,n){return n.setReadTime(e)}));var i=new Dm(e,n,this.Ut,this.Lt,r);return this.Lt=bm(),this.qt=jm(),this.Ut=new ny(lp),i}},{key:"Gt",value:function(e,t){if(this.zt(e)){var n=this.te(e,t.key)?2:0;this.Wt(e).Nt(t.key,n),this.Lt=this.Lt.insert(t.key,t),this.qt=this.qt.insert(t.key,this.ee(t.key).add(e))}}},{key:"Qt",value:function(e,t,n){if(this.zt(e)){var r=this.Wt(e);this.te(e,t)?r.Nt(t,1):r.kt(t),this.qt=this.qt.insert(t,this.ee(t).delete(e)),n&&(this.Lt=this.Lt.insert(t,n))}}},{key:"removeTarget",value:function(e){this.Bt.delete(e)}},{key:"Xt",value:function(e){var t=this.Wt(e).Ct();return this.$t.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}},{key:"Ot",value:function(e){this.Wt(e).Ot()}},{key:"Wt",value:function(e){var t=this.Bt.get(e);return t||(t=new Fm,this.Bt.set(e,t)),t}},{key:"ee",value:function(e){var t=this.qt.get(e);return t||(t=new ny(lp),this.qt=this.qt.insert(e,t)),t}},{key:"zt",value:function(e){var t=null!==this.Yt(e);return t||Zd("WatchChangeAggregator","Detected inactive target",e),t}},{key:"Yt",value:function(e){var t=this.Bt.get(e);return t&&t.Vt?null:this.$t.ne(e)}},{key:"Ht",value:function(e){var t=this;this.Bt.set(e,new Fm),this.$t.getRemoteKeysForTarget(e).forEach((function(n){t.Qt(e,n,null)}))}},{key:"te",value:function(e,t){return this.$t.getRemoteKeysForTarget(e).has(t)}}]),e}();function jm(){return new Jv(kp.comparator)}function Um(){return new Jv(kp.comparator)}var zm={asc:"ASCENDING",desc:"DESCENDING"},Bm={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},qm={and:"AND",or:"OR"},Zm=G((function e(t,n){Z(this,e),this.databaseId=t,this.wt=n}));function Km(e,t){return e.wt?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function Wm(e,t){return e.wt?t.toBase64():t.toUint8Array()}function Gm(e,t){return Km(e,t.toTimestamp())}function Hm(e){return Qd(!!e),pp.fromTimestamp(function(e){var t=nv(e);return new dp(t.seconds,t.nanos)}(e))}function Qm(e,t){return function(e){return new yp(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function $m(e){var t=yp.fromString(e);return Qd(kg(t)),t}function Ym(e,t){return Qm(e.databaseId,t.path)}function Xm(e,t){var n=$m(t);if(n.get(1)!==e.databaseId.projectId)throw new Xd(Yd.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Xd(Yd.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new kp(ng(n))}function Jm(e,t){return Qm(e.databaseId,t)}function eg(e){var t=$m(e);return 4===t.length?yp.emptyPath():ng(t)}function tg(e){return new yp(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function ng(e){return Qd(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function rg(e,t,n){return{name:Ym(e,t),fields:n.value.mapValue.fields}}function ig(e,t,n){var r=Xm(e,t.name),i=Hm(t.updateTime),a=t.createTime?Hm(t.createTime):pp.min(),o=new oy({mapValue:{fields:t.fields}}),u=sy.newFoundDocument(r,i,a,o);return n&&u.setHasCommittedMutations(),n?u.setHasCommittedMutations():u}function ag(e,t){return"found"in t?function(e,t){Qd(!!t.found),t.found.name,t.found.updateTime;var n=Xm(e,t.found.name),r=Hm(t.found.updateTime),i=t.found.createTime?Hm(t.found.createTime):pp.min(),a=new oy({mapValue:{fields:t.found.fields}});return sy.newFoundDocument(n,r,i,a)}(e,t):"missing"in t?function(e,t){Qd(!!t.missing),Qd(!!t.readTime);var n=Xm(e,t.missing),r=Hm(t.readTime);return sy.newNoDocument(n,r)}(e,t):Hd()}function og(e,t){var n;if(t instanceof om)n={update:rg(e,t.key,t.value)};else if(t instanceof dm)n={delete:Ym(e,t.key)};else if(t instanceof um)n={update:rg(e,t.key,t.data),updateMask:gg(t.fieldMask)};else{if(!(t instanceof pm))return Hd();n={verify:Ym(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((function(e){return function(e,t){var n=t.transform;if(n instanceof By)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof qy)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Ky)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Gy)return{fieldPath:t.field.canonicalString(),increment:n.gt};throw Hd()}(0,e)}))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:Gm(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:Hd()}(e,t.precondition)),n}function ug(e,t){var n=t.currentDocument?function(e){return void 0!==e.updateTime?Xy.updateTime(Hm(e.updateTime)):void 0!==e.exists?Xy.exists(e.exists):Xy.none()}(t.currentDocument):Xy.none(),r=t.updateTransforms?t.updateTransforms.map((function(t){return function(e,t){var n=null;if("setToServerValue"in t)Qd("REQUEST_TIME"===t.setToServerValue),n=new By;else if("appendMissingElements"in t){var r=t.appendMissingElements.values||[];n=new qy(r)}else if("removeAllFromArray"in t){var i=t.removeAllFromArray.values||[];n=new Ky(i)}else"increment"in t?n=new Gy(e,t.increment):Hd();var a=gp.fromServerFormat(t.fieldPath);return new $y(a,n)}(e,t)})):[];if(t.update){t.update.name;var i=Xm(e,t.update.name),a=new oy({mapValue:{fields:t.update.fields}});if(t.updateMask){var o=function(e){var t=e.fieldPaths||[];return new ay(t.map((function(e){return gp.fromServerFormat(e)})))}(t.updateMask);return new um(i,a,o,n,r)}return new om(i,a,n,r)}if(t.delete){var u=Xm(e,t.delete);return new dm(u,n)}if(t.verify){var s=Xm(e,t.verify);return new pm(s,n)}return Hd()}function sg(e,t){return{documents:[Jm(e,t.path)]}}function cg(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=Jm(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=Jm(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(e){if(0!==e.length)return mg(Rv.create(e,"and"))}(t.filters);i&&(n.structuredQuery.where=i);var a=function(e){if(0!==e.length)return e.map((function(e){return function(e){return{field:vg(e.field),direction:hg(e.dir)}}(e)}))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);var o,u=function(e,t){return e.wt||Yp(t)?t:{value:t}}(e,t.limit);return null!==u&&(n.structuredQuery.limit=u),t.startAt&&(n.structuredQuery.startAt={before:(o=t.startAt).inclusive,values:o.position}),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),n}function lg(e){var t=eg(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Qd(1===r);var a=n.from[0];a.allDescendants?i=a.collectionId:t=t.child(a.collectionId)}var o=[];n.where&&(o=function(e){var t=fg(e);return t instanceof Rv&&Fv(t)?t.getFilters():[t]}(n.where));var u=[];n.orderBy&&(u=n.orderBy.map((function(e){return function(e){return new Yv(yg(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)})));var s=null;n.limit&&(s=function(e){var t;return Yp(t="object"==typeof e?e.value:e)?null:t}(n.limit));var c=null;n.startAt&&(c=function(e){var t=!!e.before,n=e.values||[];return new Av(n,t)}(n.startAt));var l=null;return n.endAt&&(l=function(e){var t=!e.before,n=e.values||[];return new Av(n,t)}(n.endAt)),gy(t,i,u,o,s,"F",c,l)}function fg(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":var t=yg(e.unaryFilter.field);return Pv.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=yg(e.unaryFilter.field);return Pv.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=yg(e.unaryFilter.field);return Pv.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=yg(e.unaryFilter.field);return Pv.create(i,"!=",{nullValue:"NULL_VALUE"});default:return Hd()}}(e):void 0!==e.fieldFilter?function(e){return Pv.create(yg(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Hd()}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return Rv.create(e.compositeFilter.filters.map((function(e){return fg(e)})),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return Hd()}}(e.compositeFilter.op))}(e):Hd()}function hg(e){return zm[e]}function dg(e){return Bm[e]}function pg(e){return qm[e]}function vg(e){return{fieldPath:e.canonicalString()}}function yg(e){return gp.fromServerFormat(e.fieldPath)}function mg(e){return e instanceof Pv?function(e){if("=="===e.op){if(wv(e.value))return{unaryFilter:{field:vg(e.field),op:"IS_NAN"}};if(bv(e.value))return{unaryFilter:{field:vg(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(wv(e.value))return{unaryFilter:{field:vg(e.field),op:"IS_NOT_NAN"}};if(bv(e.value))return{unaryFilter:{field:vg(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:vg(e.field),op:dg(e.op),value:e.value}}}(e):e instanceof Rv?function(e){var t=e.getFilters().map((function(e){return mg(e)}));return 1===t.length?t[0]:{compositeFilter:{op:pg(e.op),filters:t}}}(e):Hd()}function gg(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}}function kg(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}function bg(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=xg(t)),t=wg(e.get(n),t);return xg(t)}function wg(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var a=e.charAt(i);switch(a){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=a}}return n}function xg(e){return e+"\x01\x01"}function _g(e){var t=e.length;if(Qd(t>=2),2===t)return Qd("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),yp.emptyPath();for(var n=t-2,r=[],i="",a=0;a<t;){var o=e.indexOf("\x01",a);switch((o<0||o>n)&&Hd(),e.charAt(o+1)){case"\x01":var u=e.substring(a,o),s=void 0;0===i.length?s=u:(s=i+=u,i=""),r.push(s);break;case"\x10":i+=e.substring(a,o),i+="\0";break;case"\x11":i+=e.substring(a,o+1);break;default:Hd()}a=o+2}return new yp(r)}var Ig=["userId","batchId"];function Sg(e,t){return[e,bg(t)]}function Eg(e,t,n){return[e,bg(t),n]}var Tg={},Cg=["prefixPath","collectionGroup","readTime","documentId"],Ag=["prefixPath","collectionGroup","documentId"],Ng=["collectionGroup","readTime","prefixPath","documentId"],Og=["canonicalId","targetId"],Dg=["targetId","path"],Pg=["path","targetId"],Rg=["collectionId","parent"],Lg=["indexId","uid"],Mg=["uid","sequenceNumber"],Fg=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],Vg=["indexId","uid","orderedDocumentKey"],jg=["userId","collectionPath","documentId"],Ug=["userId","collectionPath","largestBatchId"],zg=["userId","collectionGroup","largestBatchId"],Bg=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments"].concat(["clientMetadata"]).concat(["remoteDocumentGlobal"]).concat(["collectionParents"]).concat(["bundles","namedQueries"]),qg=[].concat((0,Le.Z)(Bg),["documentOverlays"]),Zg=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Kg=Zg,Wg=[].concat(Kg,["indexConfiguration","indexState","indexEntries"]),Gg=function(e){X(n,e);var t=ne(n);function n(e,r){var i;return Z(this,n),(i=t.call(this)).se=e,i.currentSequenceNumber=r,i}return G(n)}(Np);function Hg(e,t){var n=$d(e);return Lp.M(n.se,t)}var Qg=function(){function e(t,n,r,i){Z(this,e),this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}return G(e,[{key:"applyToRemoteDocument",value:function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(e.key)&&nm(i,e,n[r])}}},{key:"applyToLocalView",value:function(e,t){var n,r=Q(this.baseMutations);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.key.isEqual(e.key)&&(t=rm(i,e,t,this.localWriteTime))}}catch(s){r.e(s)}finally{r.f()}var a,o=Q(this.mutations);try{for(o.s();!(a=o.n()).done;){var u=a.value;u.key.isEqual(e.key)&&(t=rm(u,e,t,this.localWriteTime))}}catch(s){o.e(s)}finally{o.f()}return t}},{key:"applyToLocalDocumentSet",value:function(e,t){var n=this,r=Sm();return this.mutations.forEach((function(i){var a=e.get(i.key),o=a.overlayedDocument,u=n.applyToLocalView(o,a.mutatedFields),s=tm(o,u=t.has(i.key)?null:u);null!==s&&r.set(i.key,s),o.isValidDocument()||o.convertToNoDocument(pp.min())})),r}},{key:"keys",value:function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),Am())}},{key:"isEqual",value:function(e){return this.batchId===e.batchId&&fp(this.mutations,e.mutations,(function(e,t){return am(e,t)}))&&fp(this.baseMutations,e.baseMutations,(function(e,t){return am(e,t)}))}}]),e}(),$g=function(){function e(t,n,r,i){Z(this,e),this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}return G(e,null,[{key:"from",value:function(t,n,r){Qd(t.mutations.length===r.length);for(var i=Tm,a=t.mutations,o=0;o<a.length;o++)i=i.insert(a[o].key,r[o].version);return new e(t,n,r,i)}}]),e}(),Yg=function(){function e(t,n){Z(this,e),this.largestBatchId=t,this.mutation=n}return G(e,[{key:"getKey",value:function(){return this.mutation.key}},{key:"isEqual",value:function(e){return null!==e&&this.mutation===e.mutation}},{key:"toString",value:function(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}]),e}(),Xg=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:pp.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:pp.min(),u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:ev.EMPTY_BYTE_STRING;Z(this,e),this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=u}return G(e,[{key:"withSequenceNumber",value:function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}},{key:"withResumeToken",value:function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)}},{key:"withLastLimboFreeSnapshotVersion",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}]),e}(),Jg=G((function e(t){Z(this,e),this.ie=t}));function ek(e,t){var n=t.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:tk(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())r.document=function(e,t){return{name:Ym(e,t.key),fields:t.data.value.mapValue.fields,updateTime:Km(e,t.version.toTimestamp()),createTime:Km(e,t.createTime.toTimestamp())}}(e.ie,t);else if(t.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:nk(t.version)};else{if(!t.isUnknownDocument())return Hd();r.unknownDocument={path:n.path.toArray(),version:nk(t.version)}}return r}function tk(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function nk(e){var t=e.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function rk(e){var t=new dp(e.seconds,e.nanoseconds);return pp.fromTimestamp(t)}function ik(e,t){for(var n=(t.baseMutations||[]).map((function(t){return ug(e.ie,t)})),r=0;r<t.mutations.length-1;++r){var i=t.mutations[r];if(r+1<t.mutations.length&&void 0!==t.mutations[r+1].transform){var a=t.mutations[r+1];i.updateTransforms=a.transform.fieldTransforms,t.mutations.splice(r+1,1),++r}}var o=t.mutations.map((function(t){return ug(e.ie,t)})),u=dp.fromMillis(t.localWriteTimeMs);return new Qg(t.batchId,u,n,o)}function ak(e){var t,n,r=rk(e.readTime),i=void 0!==e.lastLimboFreeSnapshotVersion?rk(e.lastLimboFreeSnapshotVersion):pp.min();return void 0!==e.query.documents?(Qd(1===(n=e.query).documents.length),t=Sy(ky(eg(n.documents[0])))):t=function(e){return Sy(lg(e))}(e.query),new Xg(t,e.targetId,0,e.lastListenSequenceNumber,r,i,ev.fromBase64String(e.resumeToken))}function ok(e,t){var n,r=nk(t.snapshotVersion),i=nk(t.lastLimboFreeSnapshotVersion);n=dy(t.target)?sg(e.ie,t.target):cg(e.ie,t.target);var a=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:fy(t.target),readTime:r,resumeToken:a,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:n}}function uk(e){var t=lg({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?Ty(t,t.limit,"L"):t}function sk(e,t){return new Yg(t.largestBatchId,ug(e.ie,t.overlayMutation))}function ck(e,t){var n=t.path.lastSegment();return[e,bg(t.path.popLast()),n]}function lk(e,t,n,r){return{indexId:e,uid:t.uid||"",sequenceNumber:n,readTime:nk(r.readTime),documentKey:bg(r.documentKey.path),largestBatchId:r.largestBatchId}}var fk=function(){function e(){Z(this,e)}return G(e,[{key:"getBundleMetadata",value:function(e,t){return hk(e).get(t).next((function(e){if(e)return{id:(t=e).bundleId,createTime:rk(t.createTime),version:t.version};var t}))}},{key:"saveBundleMetadata",value:function(e,t){return hk(e).put({bundleId:(n=t).id,createTime:nk(Hm(n.createTime)),version:n.version});var n}},{key:"getNamedQuery",value:function(e,t){return dk(e).get(t).next((function(e){if(e)return{name:(t=e).name,query:uk(t.bundledQuery),readTime:rk(t.readTime)};var t}))}},{key:"saveNamedQuery",value:function(e,t){return dk(e).put(function(e){return{name:e.name,readTime:nk(Hm(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}]),e}();function hk(e){return Hg(e,"bundles")}function dk(e){return Hg(e,"namedQueries")}var pk=function(){function e(t,n){Z(this,e),this.yt=t,this.userId=n}return G(e,[{key:"getOverlay",value:function(e,t){var n=this;return vk(e).get(ck(this.userId,t)).next((function(e){return e?sk(n.yt,e):null}))}},{key:"getOverlays",value:function(e,t){var n=this,r=Im();return Pp.forEach(t,(function(t){return n.getOverlay(e,t).next((function(e){null!==e&&r.set(t,e)}))})).next((function(){return r}))}},{key:"saveOverlays",value:function(e,t,n){var r=this,i=[];return n.forEach((function(n,a){var o=new Yg(t,a);i.push(r.oe(e,o))})),Pp.waitFor(i)}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=new Set;t.forEach((function(e){return i.add(bg(e.getCollectionPath()))}));var a=[];return i.forEach((function(t){var i=IDBKeyRange.bound([r.userId,t,n],[r.userId,t,n+1],!1,!0);a.push(vk(e).Y("collectionPathOverlayIndex",i))})),Pp.waitFor(a)}},{key:"getOverlaysForCollection",value:function(e,t,n){var r=this,i=Im(),a=bg(t),o=IDBKeyRange.bound([this.userId,a,n],[this.userId,a,Number.POSITIVE_INFINITY],!0);return vk(e).W("collectionPathOverlayIndex",o).next((function(e){var t,n=Q(e);try{for(n.s();!(t=n.n()).done;){var a=t.value,o=sk(r.yt,a);i.set(o.getKey(),o)}}catch(u){n.e(u)}finally{n.f()}return i}))}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){var i,a=this,o=Im(),u=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,Number.POSITIVE_INFINITY],!0);return vk(e).Z({index:"collectionGroupOverlayIndex",range:u},(function(e,t,n){var u=sk(a.yt,t);o.size()<r||u.largestBatchId===i?(o.set(u.getKey(),u),i=u.largestBatchId):n.done()})).next((function(){return o}))}},{key:"oe",value:function(e,t){return vk(e).put(function(e,t,n){var r=ck(t,n.mutation.key),i=(0,a.Z)(r,3);i[0];return{userId:t,collectionPath:i[1],documentId:i[2],collectionGroup:n.mutation.key.getCollectionGroup(),largestBatchId:n.largestBatchId,overlayMutation:og(e.ie,n.mutation)}}(this.yt,this.userId,t))}}],[{key:"re",value:function(t,n){return new e(t,n.uid||"")}}]),e}();function vk(e){return Hg(e,"documentOverlays")}var yk=function(){function e(){Z(this,e)}return G(e,[{key:"ue",value:function(e,t){this.ce(e,t),t.ae()}},{key:"ce",value:function(e,t){if("nullValue"in e)this.he(t,5);else if("booleanValue"in e)this.he(t,10),t.le(e.booleanValue?1:0);else if("integerValue"in e)this.he(t,15),t.le(rv(e.integerValue));else if("doubleValue"in e){var n=rv(e.doubleValue);isNaN(n)?this.he(t,13):(this.he(t,15),Xp(n)?t.le(0):t.le(n))}else if("timestampValue"in e){var r=e.timestampValue;this.he(t,20),"string"==typeof r?t.fe(r):(t.fe("".concat(r.seconds||"")),t.le(r.nanos||0))}else if("stringValue"in e)this.de(e.stringValue,t),this._e(t);else if("bytesValue"in e)this.he(t,30),t.we(iv(e.bytesValue)),this._e(t);else if("referenceValue"in e)this.me(e.referenceValue,t);else if("geoPointValue"in e){var i=e.geoPointValue;this.he(t,45),t.le(i.latitude||0),t.le(i.longitude||0)}else"mapValue"in e?Iv(e)?this.he(t,Number.MAX_SAFE_INTEGER):(this.ge(e.mapValue,t),this._e(t)):"arrayValue"in e?(this.ye(e.arrayValue,t),this._e(t)):Hd()}},{key:"de",value:function(e,t){this.he(t,25),this.pe(e,t)}},{key:"pe",value:function(e,t){t.fe(e)}},{key:"ge",value:function(e,t){var n=e.fields||{};this.he(t,55);for(var r=0,i=Object.keys(n);r<i.length;r++){var a=i[r];this.de(a,t),this.ce(n[a],t)}}},{key:"ye",value:function(e,t){var n=e.values||[];this.he(t,50);var r,i=Q(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;this.ce(a,t)}}catch(o){i.e(o)}finally{i.f()}}},{key:"me",value:function(e,t){var n=this;this.he(t,37),kp.fromName(e).path.forEach((function(e){n.he(t,60),n.pe(e,t)}))}},{key:"he",value:function(e,t){e.le(t)}},{key:"_e",value:function(e){e.le(2)}}]),e}();function mk(e){if(0===e)return 8;var t=0;return e>>4==0&&(t+=4,e<<=4),e>>6==0&&(t+=2,e<<=2),e>>7==0&&(t+=1),t}function gk(e){var t=64-function(e){for(var t=0,n=0;n<8;++n){var r=mk(255&e[n]);if(t+=r,8!==r)break}return t}(e);return Math.ceil(t/8)}yk.Ie=new yk;var kk=function(){function e(){Z(this,e),this.buffer=new Uint8Array(1024),this.position=0}return G(e,[{key:"Te",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this.Ee(n.value),n=t.next();this.Ae()}},{key:"Re",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this.be(n.value),n=t.next();this.Pe()}},{key:"ve",value:function(e){var t,n=Q(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this.Ee(i);else if(i<2048)this.Ee(960|i>>>6),this.Ee(128|63&i);else if(r<"\ud800"||"\udbff"<r)this.Ee(480|i>>>12),this.Ee(128|63&i>>>6),this.Ee(128|63&i);else{var a=r.codePointAt(0);this.Ee(240|a>>>18),this.Ee(128|63&a>>>12),this.Ee(128|63&a>>>6),this.Ee(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.Ae()}},{key:"Ve",value:function(e){var t,n=Q(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this.be(i);else if(i<2048)this.be(960|i>>>6),this.be(128|63&i);else if(r<"\ud800"||"\udbff"<r)this.be(480|i>>>12),this.be(128|63&i>>>6),this.be(128|63&i);else{var a=r.codePointAt(0);this.be(240|a>>>18),this.be(128|63&a>>>12),this.be(128|63&a>>>6),this.be(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.Pe()}},{key:"Se",value:function(e){var t=this.De(e),n=gk(t);this.Ce(1+n),this.buffer[this.position++]=255&n;for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=255&t[r]}},{key:"xe",value:function(e){var t=this.De(e),n=gk(t);this.Ce(1+n),this.buffer[this.position++]=~(255&n);for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}},{key:"Ne",value:function(){this.ke(255),this.ke(255)}},{key:"Oe",value:function(){this.Me(255),this.Me(255)}},{key:"reset",value:function(){this.position=0}},{key:"seed",value:function(e){this.Ce(e.length),this.buffer.set(e,this.position),this.position+=e.length}},{key:"Fe",value:function(){return this.buffer.slice(0,this.position)}},{key:"De",value:function(e){var t=function(e){var t=new DataView(new ArrayBuffer(8));return t.setFloat64(0,e,!1),new Uint8Array(t.buffer)}(e),n=0!=(128&t[0]);t[0]^=n?255:128;for(var r=1;r<t.length;++r)t[r]^=n?255:0;return t}},{key:"Ee",value:function(e){var t=255&e;0===t?(this.ke(0),this.ke(255)):255===t?(this.ke(255),this.ke(0)):this.ke(t)}},{key:"be",value:function(e){var t=255&e;0===t?(this.Me(0),this.Me(255)):255===t?(this.Me(255),this.Me(0)):this.Me(e)}},{key:"Ae",value:function(){this.ke(0),this.ke(1)}},{key:"Pe",value:function(){this.Me(0),this.Me(1)}},{key:"ke",value:function(e){this.Ce(1),this.buffer[this.position++]=e}},{key:"Me",value:function(e){this.Ce(1),this.buffer[this.position++]=~e}},{key:"Ce",value:function(e){var t=e+this.position;if(!(t<=this.buffer.length)){var n=2*this.buffer.length;n<t&&(n=t);var r=new Uint8Array(n);r.set(this.buffer),this.buffer=r}}}]),e}(),bk=function(){function e(t){Z(this,e),this.$e=t}return G(e,[{key:"we",value:function(e){this.$e.Te(e)}},{key:"fe",value:function(e){this.$e.ve(e)}},{key:"le",value:function(e){this.$e.Se(e)}},{key:"ae",value:function(){this.$e.Ne()}}]),e}(),wk=function(){function e(t){Z(this,e),this.$e=t}return G(e,[{key:"we",value:function(e){this.$e.Re(e)}},{key:"fe",value:function(e){this.$e.Ve(e)}},{key:"le",value:function(e){this.$e.xe(e)}},{key:"ae",value:function(){this.$e.Oe()}}]),e}(),xk=function(){function e(){Z(this,e),this.$e=new kk,this.Be=new bk(this.$e),this.Le=new wk(this.$e)}return G(e,[{key:"seed",value:function(e){this.$e.seed(e)}},{key:"qe",value:function(e){return 0===e?this.Be:this.Le}},{key:"Fe",value:function(){return this.$e.Fe()}},{key:"reset",value:function(){this.$e.reset()}}]),e}(),_k=function(){function e(t,n,r,i){Z(this,e),this.indexId=t,this.documentKey=n,this.arrayValue=r,this.directionalValue=i}return G(e,[{key:"Ue",value:function(){var t=this.directionalValue.length,n=0===t||255===this.directionalValue[t-1]?t+1:t,r=new Uint8Array(n);return r.set(this.directionalValue,0),n!==t?r.set([0],this.directionalValue.length):++r[r.length-1],new e(this.indexId,this.documentKey,this.arrayValue,r)}}]),e}();function Ik(e,t){var n=e.indexId-t.indexId;return 0!==n?n:0!==(n=Sk(e.arrayValue,t.arrayValue))?n:0!==(n=Sk(e.directionalValue,t.directionalValue))?n:kp.comparator(e.documentKey,t.documentKey)}function Sk(e,t){for(var n=0;n<e.length&&n<t.length;++n){var r=e[n]-t[n];if(0!==r)return r}return e.length-t.length}var Ek=function(){function e(t){Z(this,e),this.collectionId=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment(),this.Ke=t.orderBy,this.Ge=[];var n,r=Q(t.filters);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.isInequality()?this.Qe=i:this.Ge.push(i)}}catch(a){r.e(a)}finally{r.f()}}return G(e,[{key:"je",value:function(e){Qd(e.collectionGroup===this.collectionId);var t=wp(e);if(void 0!==t&&!this.We(t))return!1;for(var n=xp(e),r=0,i=0;r<n.length&&this.We(n[r]);++r);if(r===n.length)return!0;if(void 0!==this.Qe){var a=n[r];if(!this.ze(this.Qe,a)||!this.He(this.Ke[i++],a))return!1;++r}for(;r<n.length;++r){var o=n[r];if(i>=this.Ke.length||!this.He(this.Ke[i++],o))return!1}return!0}},{key:"We",value:function(e){var t,n=Q(this.Ge);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(this.ze(r,e))return!0}}catch(i){n.e(i)}finally{n.f()}return!1}},{key:"ze",value:function(e,t){if(void 0===e||!e.field.isEqual(t.fieldPath))return!1;var n="array-contains"===e.op||"array-contains-any"===e.op;return 2===t.kind===n}},{key:"He",value:function(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}]),e}();function Tk(e){var t,n;if(Qd(e instanceof Pv||e instanceof Rv),e instanceof Pv){if(e instanceof Hv){var r=(null===(n=null===(t=e.value.arrayValue)||void 0===t?void 0:t.values)||void 0===n?void 0:n.map((function(t){return Pv.create(e.field,"==",t)})))||[];return Rv.create(r,"or")}return e}var i=e.filters.map((function(e){return Tk(e)}));return Rv.create(i,e.op)}function Ck(e){if(0===e.getFilters().length)return[];var t=Dk(Tk(e));return Qd(Ok(t)),Ak(t)||Nk(t)?[t]:t.getFilters()}function Ak(e){return e instanceof Pv}function Nk(e){return e instanceof Rv&&Fv(e)}function Ok(e){return Ak(e)||Nk(e)||function(e){if(e instanceof Rv&&Mv(e)){var t,n=Q(e.getFilters());try{for(n.s();!(t=n.n()).done;){var r=t.value;if(!Ak(r)&&!Nk(r))return!1}}catch(i){n.e(i)}finally{n.f()}return!0}return!1}(e)}function Dk(e){if(Qd(e instanceof Pv||e instanceof Rv),e instanceof Pv)return e;if(1===e.filters.length)return Dk(e.filters[0]);var t=e.filters.map((function(e){return Dk(e)})),n=Rv.create(t,e.op);return Ok(n=Lk(n))?n:(Qd(n instanceof Rv),Qd(Lv(n)),Qd(n.filters.length>1),n.filters.reduce((function(e,t){return Pk(e,t)})))}function Pk(e,t){var n;return Qd(e instanceof Pv||e instanceof Rv),Qd(t instanceof Pv||t instanceof Rv),n=e instanceof Pv?t instanceof Pv?function(e,t){return Rv.create([e,t],"and")}(e,t):Rk(e,t):t instanceof Pv?Rk(t,e):function(e,t){if(Qd(e.filters.length>0&&t.filters.length>0),Lv(e)&&Lv(t))return zv(e,t.getFilters());var n=Mv(e)?e:t,r=Mv(e)?t:e,i=n.filters.map((function(e){return Pk(e,r)}));return Rv.create(i,"or")}(e,t),Lk(n)}function Rk(e,t){if(Lv(t))return zv(t,e.getFilters());var n=t.filters.map((function(t){return Pk(e,t)}));return Rv.create(n,"or")}function Lk(e){if(Qd(e instanceof Pv||e instanceof Rv),e instanceof Pv)return e;var t=e.getFilters();if(1===t.length)return Lk(t[0]);if(Vv(e))return e;var n=t.map((function(e){return Lk(e)})),r=[];return n.forEach((function(t){t instanceof Pv?r.push(t):t instanceof Rv&&(t.op===e.op?r.push.apply(r,(0,Le.Z)(t.filters)):r.push(t))})),1===r.length?r[0]:Rv.create(r,e.op)}var Mk=function(){function e(){Z(this,e),this.Je=new Fk}return G(e,[{key:"addToCollectionParentIndex",value:function(e,t){return this.Je.add(t),Pp.resolve()}},{key:"getCollectionParents",value:function(e,t){return Pp.resolve(this.Je.getEntries(t))}},{key:"addFieldIndex",value:function(e,t){return Pp.resolve()}},{key:"deleteFieldIndex",value:function(e,t){return Pp.resolve()}},{key:"getDocumentsMatchingTarget",value:function(e,t){return Pp.resolve(null)}},{key:"getIndexType",value:function(e,t){return Pp.resolve(0)}},{key:"getFieldIndexes",value:function(e,t){return Pp.resolve([])}},{key:"getNextCollectionGroupToUpdate",value:function(e){return Pp.resolve(null)}},{key:"getMinOffset",value:function(e,t){return Pp.resolve(Tp.min())}},{key:"getMinOffsetFromCollectionGroup",value:function(e,t){return Pp.resolve(Tp.min())}},{key:"updateCollectionGroup",value:function(e,t,n){return Pp.resolve()}},{key:"updateIndexEntries",value:function(e,t){return Pp.resolve()}}]),e}(),Fk=function(){function e(){Z(this,e),this.index={}}return G(e,[{key:"add",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new ny(yp.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}},{key:"has",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}},{key:"getEntries",value:function(e){return(this.index[e]||new ny(yp.comparator)).toArray()}}]),e}(),Vk=new Uint8Array(0),jk=function(){function e(t,n){Z(this,e),this.user=t,this.databaseId=n,this.Ye=new Fk,this.Xe=new gm((function(e){return fy(e)}),(function(e,t){return hy(e,t)})),this.uid=t.uid||""}return G(e,[{key:"addToCollectionParentIndex",value:function(e,t){var n=this;if(!this.Ye.has(t)){var r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener((function(){n.Ye.add(t)}));var a={collectionId:r,parent:bg(i)};return Uk(e).put(a)}return Pp.resolve()}},{key:"getCollectionParents",value:function(e,t){var n=[],r=IDBKeyRange.bound([t,""],[hp(t),""],!1,!0);return Uk(e).W(r).next((function(e){var r,i=Q(e);try{for(i.s();!(r=i.n()).done;){var a=r.value;if(a.collectionId!==t)break;n.push(_g(a.parent))}}catch(o){i.e(o)}finally{i.f()}return n}))}},{key:"addFieldIndex",value:function(e,t){var n=this,r=Bk(e),i=function(e){return{indexId:e.indexId,collectionGroup:e.collectionGroup,fields:e.fields.map((function(e){return[e.fieldPath.canonicalString(),e.kind]}))}}(t);delete i.indexId;var a=r.add(i);if(t.indexState){var o=qk(e);return a.next((function(e){o.put(lk(e,n.user,t.indexState.sequenceNumber,t.indexState.offset))}))}return a.next()}},{key:"deleteFieldIndex",value:function(e,t){var n=Bk(e),r=qk(e),i=zk(e);return n.delete(t.indexId).next((function(){return r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))})).next((function(){return i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))}))}},{key:"getDocumentsMatchingTarget",value:function(e,t){var n=this,r=zk(e),i=!0,a=new Map;return Pp.forEach(this.Ze(t),(function(t){return n.tn(e,t).next((function(e){i&&(i=!!e),a.set(t,e)}))})).next((function(){if(i){var e=Am(),o=[];return Pp.forEach(a,(function(i,a){var u;Zd("IndexedDbIndexManager","Using index ".concat((u=i,"id=".concat(u.indexId,"|cg=").concat(u.collectionGroup,"|f=").concat(u.fields.map((function(e){return"".concat(e.fieldPath,":").concat(e.kind)})).join(",")))," to execute ").concat(fy(t)));var s=function(e,t){var n=wp(t);if(void 0===n)return null;var r,i=Q(py(e,n.fieldPath));try{for(i.s();!(r=i.n()).done;){var a=r.value;switch(a.op){case"array-contains-any":return a.value.arrayValue.values||[];case"array-contains":return[a.value]}}}catch(o){i.e(o)}finally{i.f()}return null}(a,i),c=function(e,t){var n,r=new Map,i=Q(xp(t));try{for(i.s();!(n=i.n()).done;){var a,o=n.value,u=Q(py(e,o.fieldPath));try{for(u.s();!(a=u.n()).done;){var s=a.value;switch(s.op){case"==":case"in":r.set(o.fieldPath.canonicalString(),s.value);break;case"not-in":case"!=":return r.set(o.fieldPath.canonicalString(),s.value),Array.from(r.values())}}}catch(c){u.e(c)}finally{u.f()}}}catch(c){i.e(c)}finally{i.f()}return null}(a,i),l=function(e,t){var n,r=[],i=!0,a=Q(xp(t));try{for(a.s();!(n=a.n()).done;){var o=n.value,u=0===o.kind?vy(e,o.fieldPath,e.startAt):yy(e,o.fieldPath,e.startAt);r.push(u.value),i&&(i=u.inclusive)}}catch(s){a.e(s)}finally{a.f()}return new Av(r,i)}(a,i),f=function(e,t){var n,r=[],i=!0,a=Q(xp(t));try{for(a.s();!(n=a.n()).done;){var o=n.value,u=0===o.kind?yy(e,o.fieldPath,e.endAt):vy(e,o.fieldPath,e.endAt);r.push(u.value),i&&(i=u.inclusive)}}catch(s){a.e(s)}finally{a.f()}return new Av(r,i)}(a,i),h=n.en(i,a,l),d=n.en(i,a,f),p=n.nn(i,a,c),v=n.sn(i.indexId,s,h,l.inclusive,d,f.inclusive,p);return Pp.forEach(v,(function(n){return r.J(n,t.limit).next((function(t){t.forEach((function(t){var n=kp.fromSegments(t.documentKey);e.has(n)||(e=e.add(n),o.push(n))}))}))}))})).next((function(){return o}))}return Pp.resolve(null)}))}},{key:"Ze",value:function(e){var t=this.Xe.get(e);return t||(t=0===e.filters.length?[e]:Ck(Rv.create(e.filters,"and")).map((function(t){return ly(e.path,e.collectionGroup,e.orderBy,t.getFilters(),e.limit,e.startAt,e.endAt)})),this.Xe.set(e,t),t)}},{key:"sn",value:function(e,t,n,r,i,a,o){for(var u=this,s=(null!=t?t.length:1)*Math.max(n.length,i.length),c=s/(null!=t?t.length:1),l=[],f=function(){var s=t?u.rn(t[h/c]):Vk,f=u.on(e,s,n[h%c],r),d=u.un(e,s,i[h%c],a),p=o.map((function(t){return u.on(e,s,t,!0)}));l.push.apply(l,(0,Le.Z)(u.createRange(f,d,p)))},h=0;h<s;++h)f();return l}},{key:"on",value:function(e,t,n,r){var i=new _k(e,kp.empty(),t,n);return r?i:i.Ue()}},{key:"un",value:function(e,t,n,r){var i=new _k(e,kp.empty(),t,n);return r?i.Ue():i}},{key:"tn",value:function(e,t){var n=new Ek(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next((function(e){var t,r=null,i=Q(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;n.je(a)&&(!r||a.fields.length>r.fields.length)&&(r=a)}}catch(o){i.e(o)}finally{i.f()}return r}))}},{key:"getIndexType",value:function(e,t){var n=this,r=2,i=this.Ze(t);return Pp.forEach(i,(function(t){return n.tn(e,t).next((function(e){e?0!==r&&e.fields.length<function(e){var t,n=new ny(gp.comparator),r=!1,i=Q(e.filters);try{for(i.s();!(t=i.n()).done;){var a,o=Q(t.value.getFlattenedFilters());try{for(o.s();!(a=o.n()).done;){var u=a.value;u.field.isKeyField()||("array-contains"===u.op||"array-contains-any"===u.op?r=!0:n=n.add(u.field))}}catch(f){o.e(f)}finally{o.f()}}}catch(f){i.e(f)}finally{i.f()}var s,c=Q(e.orderBy);try{for(c.s();!(s=c.n()).done;){var l=s.value;l.field.isKeyField()||(n=n.add(l.field))}}catch(f){c.e(f)}finally{c.f()}return n.size+(r?1:0)}(t)&&(r=1):r=0}))})).next((function(){return function(e){return null!==e.limit}(t)&&i.length>1&&2===r?1:r}))}},{key:"cn",value:function(e,t){var n,r=new xk,i=Q(xp(e));try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.fieldPath);if(null==o)return null;var u=r.qe(a.kind);yk.Ie.ue(o,u)}}catch(s){i.e(s)}finally{i.f()}return r.Fe()}},{key:"rn",value:function(e){var t=new xk;return yk.Ie.ue(e,t.qe(0)),t.Fe()}},{key:"an",value:function(e,t){var n=new xk;return yk.Ie.ue(mv(this.databaseId,t),n.qe(function(e){var t=xp(e);return 0===t.length?0:t[t.length-1].kind}(e))),n.Fe()}},{key:"nn",value:function(e,t,n){if(null===n)return[];var r=[];r.push(new xk);var i,a=0,o=Q(xp(e));try{for(o.s();!(i=o.n()).done;){var u,s=i.value,c=n[a++],l=Q(r);try{for(l.s();!(u=l.n()).done;){var f=u.value;if(this.hn(t,s.fieldPath)&&kv(c))r=this.ln(r,s,c);else{var h=f.qe(s.kind);yk.Ie.ue(c,h)}}}catch(d){l.e(d)}finally{l.f()}}}catch(d){o.e(d)}finally{o.f()}return this.fn(r)}},{key:"en",value:function(e,t,n){return this.nn(e,t,n.position)}},{key:"fn",value:function(e){for(var t=[],n=0;n<e.length;++n)t[n]=e[n].Fe();return t}},{key:"ln",value:function(e,t,n){var r,i=(0,Le.Z)(e),a=[],o=Q(n.arrayValue.values||[]);try{for(o.s();!(r=o.n()).done;){var u,s=r.value,c=Q(i);try{for(c.s();!(u=c.n()).done;){var l=u.value,f=new xk;f.seed(l.Fe()),yk.Ie.ue(s,f.qe(t.kind)),a.push(f)}}catch(h){c.e(h)}finally{c.f()}}}catch(h){o.e(h)}finally{o.f()}return a}},{key:"hn",value:function(e,t){return!!e.filters.find((function(e){return e instanceof Pv&&e.field.isEqual(t)&&("in"===e.op||"not-in"===e.op)}))}},{key:"getFieldIndexes",value:function(e,t){var n=this,r=Bk(e),i=qk(e);return(t?r.W("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.W()).next((function(e){var t=[];return Pp.forEach(e,(function(e){return i.get([e.indexId,n.uid]).next((function(n){t.push(function(e,t){var n=t?new Ip(t.sequenceNumber,new Tp(rk(t.readTime),new kp(_g(t.documentKey)),t.largestBatchId)):Ip.empty(),r=e.fields.map((function(e){var t=(0,a.Z)(e,2),n=t[0],r=t[1];return new _p(gp.fromServerFormat(n),r)}));return new bp(e.indexId,e.collectionGroup,r,n)}(e,n))}))})).next((function(){return t}))}))}},{key:"getNextCollectionGroupToUpdate",value:function(e){return this.getFieldIndexes(e).next((function(e){return 0===e.length?null:(e.sort((function(e,t){var n=e.indexState.sequenceNumber-t.indexState.sequenceNumber;return 0!==n?n:lp(e.collectionGroup,t.collectionGroup)})),e[0].collectionGroup)}))}},{key:"updateCollectionGroup",value:function(e,t,n){var r=this,i=Bk(e),a=qk(e);return this.dn(e).next((function(e){return i.W("collectionGroupIndex",IDBKeyRange.bound(t,t)).next((function(t){return Pp.forEach(t,(function(t){return a.put(lk(t.indexId,r.user,e,n))}))}))}))}},{key:"updateIndexEntries",value:function(e,t){var n=this,r=new Map;return Pp.forEach(t,(function(t,i){var a=r.get(t.collectionGroup);return(a?Pp.resolve(a):n.getFieldIndexes(e,t.collectionGroup)).next((function(a){return r.set(t.collectionGroup,a),Pp.forEach(a,(function(r){return n._n(e,t,r).next((function(t){var a=n.wn(i,r);return t.isEqual(a)?Pp.resolve():n.mn(e,i,r,t,a)}))}))}))}))}},{key:"gn",value:function(e,t,n,r){return zk(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.an(n,t.key),documentKey:t.key.path.toArray()})}},{key:"yn",value:function(e,t,n,r){return zk(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.an(n,t.key),t.key.path.toArray()])}},{key:"_n",value:function(e,t,n){var r=zk(e),i=new ny(Ik);return r.Z({index:"documentKeyIndex",range:IDBKeyRange.only([n.indexId,this.uid,this.an(n,t)])},(function(e,r){i=i.add(new _k(n.indexId,t,r.arrayValue,r.directionalValue))})).next((function(){return i}))}},{key:"wn",value:function(e,t){var n=new ny(Ik),r=this.cn(t,e);if(null==r)return n;var i=wp(t);if(null!=i){var a=e.data.field(i.fieldPath);if(kv(a)){var o,u=Q(a.arrayValue.values||[]);try{for(u.s();!(o=u.n()).done;){var s=o.value;n=n.add(new _k(t.indexId,e.key,this.rn(s),r))}}catch(c){u.e(c)}finally{u.f()}}}else n=n.add(new _k(t.indexId,e.key,Vk,r));return n}},{key:"mn",value:function(e,t,n,r,i){var a=this;Zd("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);var o=[];return function(e,t,n,r,i){for(var a=e.getIterator(),o=t.getIterator(),u=iy(a),s=iy(o);u||s;){var c=!1,l=!1;if(u&&s){var f=n(u,s);f<0?l=!0:f>0&&(c=!0)}else null!=u?l=!0:c=!0;c?(r(s),s=iy(o)):l?(i(u),u=iy(a)):(u=iy(a),s=iy(o))}}(r,i,Ik,(function(r){o.push(a.gn(e,t,n,r))}),(function(r){o.push(a.yn(e,t,n,r))})),Pp.waitFor(o)}},{key:"dn",value:function(e){var t=1;return qk(e).Z({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(function(e,n,r){r.done(),t=n.sequenceNumber+1})).next((function(){return t}))}},{key:"createRange",value:function(e,t,n){n=n.sort((function(e,t){return Ik(e,t)})).filter((function(e,t,n){return!t||0!==Ik(e,n[t-1])}));var r=[];r.push(e);var i,a=Q(n);try{for(a.s();!(i=a.n()).done;){var o=i.value,u=Ik(o,e),s=Ik(o,t);if(0===u)r[0]=e.Ue();else if(u>0&&s<0)r.push(o),r.push(o.Ue());else if(s>0)break}}catch(d){a.e(d)}finally{a.f()}r.push(t);for(var c=[],l=0;l<r.length;l+=2){if(this.pn(r[l],r[l+1]))return[];var f=[r[l].indexId,this.uid,r[l].arrayValue,r[l].directionalValue,Vk,[]],h=[r[l+1].indexId,this.uid,r[l+1].arrayValue,r[l+1].directionalValue,Vk,[]];c.push(IDBKeyRange.bound(f,h))}return c}},{key:"pn",value:function(e,t){return Ik(e,t)>0}},{key:"getMinOffsetFromCollectionGroup",value:function(e,t){return this.getFieldIndexes(e,t).next(Zk)}},{key:"getMinOffset",value:function(e,t){var n=this;return Pp.mapArray(this.Ze(t),(function(t){return n.tn(e,t).next((function(e){return e||Hd()}))})).next(Zk)}}]),e}();function Uk(e){return Hg(e,"collectionParents")}function zk(e){return Hg(e,"indexEntries")}function Bk(e){return Hg(e,"indexConfiguration")}function qk(e){return Hg(e,"indexState")}function Zk(e){Qd(0!==e.length);for(var t=e[0].indexState.offset,n=t.largestBatchId,r=1;r<e.length;r++){var i=e[r].indexState.offset;Cp(i,t)<0&&(t=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new Tp(t.readTime,t.documentKey,n)}var Kk={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Wk=function(){function e(t,n,r){Z(this,e),this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}return G(e,null,[{key:"withCacheSize",value:function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}]),e}();function Gk(e,t,n){var r=e.store("mutations"),i=e.store("documentMutations"),a=[],o=IDBKeyRange.only(n.batchId),u=0,s=r.Z({range:o},(function(e,t,n){return u++,n.delete()}));a.push(s.next((function(){Qd(1===u)})));var c,l=[],f=Q(n.mutations);try{for(f.s();!(c=f.n()).done;){var h=c.value,d=Eg(t,h.key.path,n.batchId);a.push(i.delete(d)),l.push(h.key)}}catch(p){f.e(p)}finally{f.f()}return Pp.waitFor(a).next((function(){return l}))}function Hk(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw Hd();t=e.noDocument}return JSON.stringify(t).length}Wk.DEFAULT_COLLECTION_PERCENTILE=10,Wk.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Wk.DEFAULT=new Wk(41943040,Wk.DEFAULT_COLLECTION_PERCENTILE,Wk.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Wk.DISABLED=new Wk(-1,0,0);var Qk=function(){function e(t,n,r,i){Z(this,e),this.userId=t,this.yt=n,this.indexManager=r,this.referenceDelegate=i,this.In={}}return G(e,[{key:"checkEmpty",value:function(e){var t=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Yk(e).Z({index:"userMutationsIndex",range:n},(function(e,n,r){t=!1,r.done()})).next((function(){return t}))}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this,a=Xk(e),o=Yk(e);return o.add({}).next((function(u){Qd("number"==typeof u);var s,c=new Qg(u,t,n,r),l=function(e,t,n){var r=n.baseMutations.map((function(t){return og(e.ie,t)})),i=n.mutations.map((function(t){return og(e.ie,t)}));return{userId:t,batchId:n.batchId,localWriteTimeMs:n.localWriteTime.toMillis(),baseMutations:r,mutations:i}}(i.yt,i.userId,c),f=[],h=new ny((function(e,t){return lp(e.canonicalString(),t.canonicalString())})),d=Q(r);try{for(d.s();!(s=d.n()).done;){var p=s.value,v=Eg(i.userId,p.key.path,u);h=h.add(p.key.path.popLast()),f.push(o.put(l)),f.push(a.put(v,Tg))}}catch(y){d.e(y)}finally{d.f()}return h.forEach((function(t){f.push(i.indexManager.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((function(){i.In[u]=c.keys()})),Pp.waitFor(f).next((function(){return c}))}))}},{key:"lookupMutationBatch",value:function(e,t){var n=this;return Yk(e).get(t).next((function(e){return e?(Qd(e.userId===n.userId),ik(n.yt,e)):null}))}},{key:"Tn",value:function(e,t){var n=this;return this.In[t]?Pp.resolve(this.In[t]):this.lookupMutationBatch(e,t).next((function(e){if(e){var r=e.keys();return n.In[t]=r,r}return null}))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=this,r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]),a=null;return Yk(e).Z({index:"userMutationsIndex",range:i},(function(e,t,i){t.userId===n.userId&&(Qd(t.batchId>=r),a=ik(n.yt,t)),i.done()})).next((function(){return a}))}},{key:"getHighestUnacknowledgedBatchId",value:function(e){var t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return Yk(e).Z({index:"userMutationsIndex",range:t,reverse:!0},(function(e,t,r){n=t.batchId,r.done()})).next((function(){return n}))}},{key:"getAllMutationBatches",value:function(e){var t=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Yk(e).W("userMutationsIndex",n).next((function(e){return e.map((function(e){return ik(t.yt,e)}))}))}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=Sg(this.userId,t.path),i=IDBKeyRange.lowerBound(r),o=[];return Xk(e).Z({range:i},(function(r,i,u){var s=(0,a.Z)(r,3),c=s[0],l=s[1],f=s[2],h=_g(l);if(c===n.userId&&t.path.isEqual(h))return Yk(e).get(f).next((function(e){if(!e)throw Hd();Qd(e.userId===n.userId),o.push(ik(n.yt,e))}));u.done()})).next((function(){return o}))}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new ny(lp),i=[];return t.forEach((function(t){var o=Sg(n.userId,t.path),u=IDBKeyRange.lowerBound(o),s=Xk(e).Z({range:u},(function(e,i,o){var u=(0,a.Z)(e,3),s=u[0],c=u[1],l=u[2],f=_g(c);s===n.userId&&t.path.isEqual(f)?r=r.add(l):o.done()}));i.push(s)})),Pp.waitFor(i).next((function(){return n.En(e,r)}))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=this,r=t.path,i=r.length+1,o=Sg(this.userId,r),u=IDBKeyRange.lowerBound(o),s=new ny(lp);return Xk(e).Z({range:u},(function(e,t,o){var u=(0,a.Z)(e,3),c=u[0],l=u[1],f=u[2],h=_g(l);c===n.userId&&r.isPrefixOf(h)?h.length===i&&(s=s.add(f)):o.done()})).next((function(){return n.En(e,s)}))}},{key:"En",value:function(e,t){var n=this,r=[],i=[];return t.forEach((function(t){i.push(Yk(e).get(t).next((function(e){if(null===e)throw Hd();Qd(e.userId===n.userId),r.push(ik(n.yt,e))})))})),Pp.waitFor(i).next((function(){return r}))}},{key:"removeMutationBatch",value:function(e,t){var n=this;return Gk(e.se,this.userId,t).next((function(r){return e.addOnCommittedListener((function(){n.An(t.batchId)})),Pp.forEach(r,(function(t){return n.referenceDelegate.markPotentiallyOrphaned(e,t)}))}))}},{key:"An",value:function(e){delete this.In[e]}},{key:"performConsistencyCheck",value:function(e){var t=this;return this.checkEmpty(e).next((function(n){if(!n)return Pp.resolve();var r=IDBKeyRange.lowerBound([t.userId]),i=[];return Xk(e).Z({range:r},(function(e,n,r){if(e[0]===t.userId){var a=_g(e[1]);i.push(a)}else r.done()})).next((function(){Qd(0===i.length)}))}))}},{key:"containsKey",value:function(e,t){return $k(e,this.userId,t)}},{key:"Rn",value:function(e){var t=this;return Jk(e).get(this.userId).next((function(e){return e||{userId:t.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""}}))}}],[{key:"re",value:function(t,n,r,i){return Qd(""!==t.uid),new e(t.isAuthenticated()?t.uid:"",n,r,i)}}]),e}();function $k(e,t,n){var r=Sg(t,n.path),i=r[1],o=IDBKeyRange.lowerBound(r),u=!1;return Xk(e).Z({range:o,X:!0},(function(e,n,r){var o=(0,a.Z)(e,3),s=o[0],c=o[1];o[2];s===t&&c===i&&(u=!0),r.done()})).next((function(){return u}))}function Yk(e){return Hg(e,"mutations")}function Xk(e){return Hg(e,"documentMutations")}function Jk(e){return Hg(e,"mutationQueues")}var eb=function(){function e(t){Z(this,e),this.bn=t}return G(e,[{key:"next",value:function(){return this.bn+=2,this.bn}}],[{key:"Pn",value:function(){return new e(0)}},{key:"vn",value:function(){return new e(-1)}}]),e}(),tb=function(){function e(t,n){Z(this,e),this.referenceDelegate=t,this.yt=n}return G(e,[{key:"allocateTargetId",value:function(e){var t=this;return this.Vn(e).next((function(n){var r=new eb(n.highestTargetId);return n.highestTargetId=r.next(),t.Sn(e,n).next((function(){return n.highestTargetId}))}))}},{key:"getLastRemoteSnapshotVersion",value:function(e){return this.Vn(e).next((function(e){return pp.fromTimestamp(new dp(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))}))}},{key:"getHighestSequenceNumber",value:function(e){return this.Vn(e).next((function(e){return e.highestListenSequenceNumber}))}},{key:"setTargetsMetadata",value:function(e,t,n){var r=this;return this.Vn(e).next((function(i){return i.highestListenSequenceNumber=t,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),r.Sn(e,i)}))}},{key:"addTargetData",value:function(e,t){var n=this;return this.Dn(e,t).next((function(){return n.Vn(e).next((function(r){return r.targetCount+=1,n.Cn(t,r),n.Sn(e,r)}))}))}},{key:"updateTargetData",value:function(e,t){return this.Dn(e,t)}},{key:"removeTargetData",value:function(e,t){var n=this;return this.removeMatchingKeysForTargetId(e,t.targetId).next((function(){return nb(e).delete(t.targetId)})).next((function(){return n.Vn(e)})).next((function(t){return Qd(t.targetCount>0),t.targetCount-=1,n.Sn(e,t)}))}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return nb(e).Z((function(o,u){var s=ak(u);s.sequenceNumber<=t&&null===n.get(s.targetId)&&(i++,a.push(r.removeTargetData(e,s)))})).next((function(){return Pp.waitFor(a)})).next((function(){return i}))}},{key:"forEachTarget",value:function(e,t){return nb(e).Z((function(e,n){var r=ak(n);t(r)}))}},{key:"Vn",value:function(e){return rb(e).get("targetGlobalKey").next((function(e){return Qd(null!==e),e}))}},{key:"Sn",value:function(e,t){return rb(e).put("targetGlobalKey",t)}},{key:"Dn",value:function(e,t){return nb(e).put(ok(this.yt,t))}},{key:"Cn",value:function(e,t){var n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}},{key:"getTargetCount",value:function(e){return this.Vn(e).next((function(e){return e.targetCount}))}},{key:"getTargetData",value:function(e,t){var n=fy(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return nb(e).Z({range:r,index:"queryTargetsIndex"},(function(e,n,r){var a=ak(n);hy(t,a.target)&&(i=a,r.done())})).next((function(){return i}))}},{key:"addMatchingKeys",value:function(e,t,n){var r=this,i=[],a=ib(e);return t.forEach((function(t){var o=bg(t.path);i.push(a.put({targetId:n,path:o})),i.push(r.referenceDelegate.addReference(e,n,t))})),Pp.waitFor(i)}},{key:"removeMatchingKeys",value:function(e,t,n){var r=this,i=ib(e);return Pp.forEach(t,(function(t){var a=bg(t.path);return Pp.waitFor([i.delete([n,a]),r.referenceDelegate.removeReference(e,n,t)])}))}},{key:"removeMatchingKeysForTargetId",value:function(e,t){var n=ib(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=IDBKeyRange.bound([t],[t+1],!1,!0),r=ib(e),i=Am();return r.Z({range:n,X:!0},(function(e,t,n){var r=_g(e[1]),a=new kp(r);i=i.add(a)})).next((function(){return i}))}},{key:"containsKey",value:function(e,t){var n=bg(t.path),r=IDBKeyRange.bound([n],[hp(n)],!1,!0),i=0;return ib(e).Z({index:"documentTargetsIndex",X:!0,range:r},(function(e,t,n){var r=(0,a.Z)(e,2),o=r[0];r[1];0!==o&&(i++,n.done())})).next((function(){return i>0}))}},{key:"ne",value:function(e,t){return nb(e).get(t).next((function(e){return e?ak(e):null}))}}]),e}();function nb(e){return Hg(e,"targets")}function rb(e){return Hg(e,"targetGlobal")}function ib(e){return Hg(e,"targetDocuments")}function ab(e,t){var n=(0,a.Z)(e,2),r=n[0],i=n[1],o=(0,a.Z)(t,2),u=o[0],s=o[1],c=lp(r,u);return 0===c?lp(i,s):c}var ob=function(){function e(t){Z(this,e),this.xn=t,this.buffer=new ny(ab),this.Nn=0}return G(e,[{key:"kn",value:function(){return++this.Nn}},{key:"On",value:function(e){var t=[e,this.kn()];if(this.buffer.size<this.xn)this.buffer=this.buffer.add(t);else{var n=this.buffer.last();ab(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}}},{key:"maxValue",get:function(){return this.buffer.last()[0]}}]),e}(),ub=function(){function e(t,n,r){Z(this,e),this.garbageCollector=t,this.asyncQueue=n,this.localStore=r,this.Mn=null}return G(e,[{key:"start",value:function(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Fn(6e4)}},{key:"stop",value:function(){this.Mn&&(this.Mn.cancel(),this.Mn=null)}},{key:"started",get:function(){return null!==this.Mn}},{key:"Fn",value:function(e){var t=this;Zd("LruGarbageCollector","Garbage collection scheduled in ".concat(e,"ms")),this.Mn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,Fe(Re().mark((function e(){return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.Mn=null,e.prev=1,e.next=4,t.localStore.collectGarbage(t.garbageCollector);case 4:e.next=14;break;case 6:if(e.prev=6,e.t0=e.catch(1),!Vp(e.t0)){e.next=12;break}Zd("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e.t0),e.next=14;break;case 12:return e.next=14,Op(e.t0);case 14:return e.next=16,t.Fn(3e5);case 16:case"end":return e.stop()}}),e,null,[[1,6]])}))))}}]),e}(),sb=function(){function e(t,n){Z(this,e),this.$n=t,this.params=n}return G(e,[{key:"calculateTargetCount",value:function(e,t){return this.$n.Bn(e).next((function(e){return Math.floor(t/100*e)}))}},{key:"nthSequenceNumber",value:function(e,t){var n=this;if(0===t)return Pp.resolve(Kp.at);var r=new ob(t);return this.$n.forEachTarget(e,(function(e){return r.On(e.sequenceNumber)})).next((function(){return n.$n.Ln(e,(function(e){return r.On(e)}))})).next((function(){return r.maxValue}))}},{key:"removeTargets",value:function(e,t,n){return this.$n.removeTargets(e,t,n)}},{key:"removeOrphanedDocuments",value:function(e,t){return this.$n.removeOrphanedDocuments(e,t)}},{key:"collect",value:function(e,t){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(Zd("LruGarbageCollector","Garbage collection skipped; disabled"),Pp.resolve(Kk)):this.getCacheSize(e).next((function(r){return r<n.params.cacheSizeCollectionThreshold?(Zd("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(r," is lower than threshold ").concat(n.params.cacheSizeCollectionThreshold)),Kk):n.qn(e,t)}))}},{key:"getCacheSize",value:function(e){return this.$n.getCacheSize(e)}},{key:"qn",value:function(e,t){var n,r,i,a,o,u,s,c=this,l=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((function(t){return t>c.params.maximumSequenceNumbersToCollect?(Zd("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(c.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=c.params.maximumSequenceNumbersToCollect):r=t,a=Date.now(),c.nthSequenceNumber(e,r)})).next((function(r){return n=r,o=Date.now(),c.removeTargets(e,n,t)})).next((function(t){return i=t,u=Date.now(),c.removeOrphanedDocuments(e,n)})).next((function(e){return s=Date.now(),qd()<=Be.DEBUG&&Zd("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(a-l,"ms\n\tDetermined least recently used ").concat(r," in ")+(o-a)+"ms\n"+"\tRemoved ".concat(i," targets in ")+(u-o)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(s-u)+"ms\n"+"Total Duration: ".concat(s-l,"ms")),Pp.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})}))}}]),e}(),cb=function(){function e(t,n){Z(this,e),this.db=t,this.garbageCollector=function(e,t){return new sb(e,t)}(this,n)}return G(e,[{key:"Bn",value:function(e){var t=this.Un(e);return this.db.getTargetCache().getTargetCount(e).next((function(e){return t.next((function(t){return e+t}))}))}},{key:"Un",value:function(e){var t=0;return this.Ln(e,(function(e){t++})).next((function(){return t}))}},{key:"forEachTarget",value:function(e,t){return this.db.getTargetCache().forEachTarget(e,t)}},{key:"Ln",value:function(e,t){return this.Kn(e,(function(e,n){return t(n)}))}},{key:"addReference",value:function(e,t,n){return lb(e,n)}},{key:"removeReference",value:function(e,t,n){return lb(e,n)}},{key:"removeTargets",value:function(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}},{key:"markPotentiallyOrphaned",value:function(e,t){return lb(e,t)}},{key:"Gn",value:function(e,t){return function(e,t){var n=!1;return Jk(e).tt((function(r){return $k(e,r,t).next((function(e){return e&&(n=!0),Pp.resolve(!e)}))})).next((function(){return n}))}(e,t)}},{key:"removeOrphanedDocuments",value:function(e,t){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],a=0;return this.Kn(e,(function(o,u){if(u<=t){var s=n.Gn(e,o).next((function(t){if(!t)return a++,r.getEntry(e,o).next((function(){return r.removeEntry(o,pp.min()),ib(e).delete([0,bg(o.path)])}))}));i.push(s)}})).next((function(){return Pp.waitFor(i)})).next((function(){return r.apply(e)})).next((function(){return a}))}},{key:"removeTarget",value:function(e,t){var n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}},{key:"updateLimboDocument",value:function(e,t){return lb(e,t)}},{key:"Kn",value:function(e,t){var n,r=ib(e),i=Kp.at;return r.Z({index:"documentTargetsIndex"},(function(e,r){var o=(0,a.Z)(e,2),u=o[0],s=(o[1],r.path),c=r.sequenceNumber;0===u?(i!==Kp.at&&t(new kp(_g(n)),i),i=c,n=s):i=Kp.at})).next((function(){i!==Kp.at&&t(new kp(_g(n)),i)}))}},{key:"getCacheSize",value:function(e){return this.db.getRemoteDocumentCache().getSize(e)}}]),e}();function lb(e,t){return ib(e).put(function(e,t){return{targetId:0,path:bg(e.path),sequenceNumber:t}}(t,e.currentSequenceNumber))}var fb=function(){function e(){Z(this,e),this.changes=new gm((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.changesApplied=!1}return G(e,[{key:"addEntry",value:function(e){this.assertNotApplied(),this.changes.set(e.key,e)}},{key:"removeEntry",value:function(e,t){this.assertNotApplied(),this.changes.set(e,sy.newInvalidDocument(e).setReadTime(t))}},{key:"getEntry",value:function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?Pp.resolve(n):this.getFromCache(e,t)}},{key:"getEntries",value:function(e,t){return this.getAllFromCache(e,t)}},{key:"apply",value:function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}},{key:"assertNotApplied",value:function(){}}]),e}(),hb=function(){function e(t){Z(this,e),this.yt=t}return G(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t,n){return yb(e).put(n)}},{key:"removeEntry",value:function(e,t,n){return yb(e).delete(function(e,t){var n=e.path.toArray();return[n.slice(0,n.length-2),n[n.length-2],tk(t),n[n.length-1]]}(t,n))}},{key:"updateMetadata",value:function(e,t){var n=this;return this.getMetadata(e).next((function(r){return r.byteSize+=t,n.Qn(e,r)}))}},{key:"getEntry",value:function(e,t){var n=this,r=sy.newInvalidDocument(t);return yb(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(mb(t))},(function(e,i){r=n.jn(t,i)})).next((function(){return r}))}},{key:"Wn",value:function(e,t){var n=this,r={size:0,document:sy.newInvalidDocument(t)};return yb(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(mb(t))},(function(e,i){r={document:n.jn(t,i),size:Hk(i)}})).next((function(){return r}))}},{key:"getEntries",value:function(e,t){var n=this,r=bm();return this.zn(e,t,(function(e,t){var i=n.jn(e,t);r=r.insert(e,i)})).next((function(){return r}))}},{key:"Hn",value:function(e,t){var n=this,r=bm(),i=new Jv(kp.comparator);return this.zn(e,t,(function(e,t){var a=n.jn(e,t);r=r.insert(e,a),i=i.insert(e,Hk(t))})).next((function(){return{documents:r,Jn:i}}))}},{key:"zn",value:function(e,t,n){if(t.isEmpty())return Pp.resolve();var r=new ny(kb);t.forEach((function(e){return r=r.add(e)}));var i=IDBKeyRange.bound(mb(r.first()),mb(r.last())),a=r.getIterator(),o=a.getNext();return yb(e).Z({index:"documentKeyIndex",range:i},(function(e,t,r){for(var i=kp.fromSegments([].concat((0,Le.Z)(t.prefixPath),[t.collectionGroup,t.documentId]));o&&kb(o,i)<0;)n(o,null),o=a.getNext();o&&o.isEqual(i)&&(n(o,t),o=a.hasNext()?a.getNext():null),o?r.j(mb(o)):r.done()})).next((function(){for(;o;)n(o,null),o=a.hasNext()?a.getNext():null}))}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){var i=this,a=t.path,o=[a.popLast().toArray(),a.lastSegment(),tk(n.readTime),n.documentKey.path.isEmpty()?"":n.documentKey.path.lastSegment()],u=[a.popLast().toArray(),a.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return yb(e).W(IDBKeyRange.bound(o,u,!0)).next((function(e){var n,a=bm(),o=Q(e);try{for(o.s();!(n=o.n()).done;){var u=n.value,s=i.jn(kp.fromSegments(u.prefixPath.concat(u.collectionGroup,u.documentId)),u);s.isFoundDocument()&&(Oy(t,s)||r.has(s.key))&&(a=a.insert(s.key,s))}}catch(c){o.e(c)}finally{o.f()}return a}))}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){var i=this,a=bm(),o=gb(t,n),u=gb(t,Tp.max());return yb(e).Z({index:"collectionGroupIndex",range:IDBKeyRange.bound(o,u,!0)},(function(e,t,n){var o=i.jn(kp.fromSegments(t.prefixPath.concat(t.collectionGroup,t.documentId)),t);(a=a.insert(o.key,o)).size===r&&n.done()})).next((function(){return a}))}},{key:"newChangeBuffer",value:function(e){return new pb(this,!!e&&e.trackRemovals)}},{key:"getSize",value:function(e){return this.getMetadata(e).next((function(e){return e.byteSize}))}},{key:"getMetadata",value:function(e){return vb(e).get("remoteDocumentGlobalKey").next((function(e){return Qd(!!e),e}))}},{key:"Qn",value:function(e,t){return vb(e).put("remoteDocumentGlobalKey",t)}},{key:"jn",value:function(e,t){if(t){var n=function(e,t){var n;if(t.document)n=ig(e.ie,t.document,!!t.hasCommittedMutations);else if(t.noDocument){var r=kp.fromSegments(t.noDocument.path),i=rk(t.noDocument.readTime);n=sy.newNoDocument(r,i),t.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!t.unknownDocument)return Hd();var a=kp.fromSegments(t.unknownDocument.path),o=rk(t.unknownDocument.version);n=sy.newUnknownDocument(a,o)}return t.readTime&&n.setReadTime(function(e){var t=new dp(e[0],e[1]);return pp.fromTimestamp(t)}(t.readTime)),n}(this.yt,t);if(!n.isNoDocument()||!n.version.isEqual(pp.min()))return n}return sy.newInvalidDocument(e)}}]),e}();function db(e){return new hb(e)}var pb=function(e){X(n,e);var t=ne(n);function n(e,r){var i;return Z(this,n),(i=t.call(this)).Yn=e,i.trackRemovals=r,i.Xn=new gm((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),i}return G(n,[{key:"applyChanges",value:function(e){var t=this,n=[],r=0,i=new ny((function(e,t){return lp(e.canonicalString(),t.canonicalString())}));return this.changes.forEach((function(a,o){var u=t.Xn.get(a);if(n.push(t.Yn.removeEntry(e,a,u.readTime)),o.isValidDocument()){var s=ek(t.Yn.yt,o);i=i.add(a.path.popLast());var c=Hk(s);r+=c-u.size,n.push(t.Yn.addEntry(e,a,s))}else if(r-=u.size,t.trackRemovals){var l=ek(t.Yn.yt,o.convertToNoDocument(pp.min()));n.push(t.Yn.addEntry(e,a,l))}})),i.forEach((function(r){n.push(t.Yn.indexManager.addToCollectionParentIndex(e,r))})),n.push(this.Yn.updateMetadata(e,r)),Pp.waitFor(n)}},{key:"getFromCache",value:function(e,t){var n=this;return this.Yn.Wn(e,t).next((function(e){return n.Xn.set(t,{size:e.size,readTime:e.document.readTime}),e.document}))}},{key:"getAllFromCache",value:function(e,t){var n=this;return this.Yn.Hn(e,t).next((function(e){var t=e.documents;return e.Jn.forEach((function(e,r){n.Xn.set(e,{size:r,readTime:t.get(e).readTime})})),t}))}}]),n}(fb);function vb(e){return Hg(e,"remoteDocumentGlobal")}function yb(e){return Hg(e,"remoteDocumentsV14")}function mb(e){var t=e.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function gb(e,t){var n=t.documentKey.path.toArray();return[e,tk(t.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function kb(e,t){for(var n=e.path.toArray(),r=t.path.toArray(),i=0,a=0;a<n.length-2&&a<r.length-2;++a)if(i=lp(n[a],r[a]))return i;return(i=lp(n.length,r.length))||((i=lp(n[n.length-2],r[r.length-2]))||lp(n[n.length-1],r[r.length-1]))}var bb=G((function e(t,n){Z(this,e),this.overlayedDocument=t,this.mutatedFields=n})),wb=function(){function e(t,n,r,i){Z(this,e),this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}return G(e,[{key:"getDocument",value:function(e,t){var n=this,r=null;return this.documentOverlayCache.getOverlay(e,t).next((function(i){return r=i,n.remoteDocumentCache.getEntry(e,t)})).next((function(e){return null!==r&&rm(r.mutation,e,ay.empty(),dp.now()),e}))}},{key:"getDocuments",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.getLocalViewOfDocuments(e,t,Am()).next((function(){return t}))}))}},{key:"getLocalViewOfDocuments",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Am(),i=Im();return this.populateOverlays(e,i,t).next((function(){return n.computeViews(e,t,i,r).next((function(e){var t=xm();return e.forEach((function(e,n){t=t.insert(e,n.overlayedDocument)})),t}))}))}},{key:"getOverlayedDocuments",value:function(e,t){var n=this,r=Im();return this.populateOverlays(e,r,t).next((function(){return n.computeViews(e,t,r,Am())}))}},{key:"populateOverlays",value:function(e,t,n){var r=[];return n.forEach((function(e){t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((function(e){e.forEach((function(e,n){t.set(e,n)}))}))}},{key:"computeViews",value:function(e,t,n,r){var i=bm(),a=Em(),o=Em();return t.forEach((function(e,t){var o=n.get(t.key);r.has(t.key)&&(void 0===o||o.mutation instanceof um)?i=i.insert(t.key,t):void 0!==o?(a.set(t.key,o.mutation.getFieldMask()),rm(o.mutation,t,o.mutation.getFieldMask(),dp.now())):a.set(t.key,ay.empty())})),this.recalculateAndSaveOverlays(e,i).next((function(e){return e.forEach((function(e,t){return a.set(e,t)})),t.forEach((function(e,t){var n;return o.set(e,new bb(t,null!==(n=a.get(e))&&void 0!==n?n:null))})),o}))}},{key:"recalculateAndSaveOverlays",value:function(e,t){var n=this,r=Em(),i=new Jv((function(e,t){return e-t})),a=Am();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(e){var n,a=Q(e);try{var o=function(){var e=n.value;e.keys().forEach((function(n){var a=t.get(n);if(null!==a){var o=r.get(n)||ay.empty();o=e.applyToLocalView(a,o),r.set(n,o);var u=(i.get(e.batchId)||Am()).add(n);i=i.insert(e.batchId,u)}}))};for(a.s();!(n=a.n()).done;)o()}catch(u){a.e(u)}finally{a.f()}})).next((function(){for(var o=[],u=i.getReverseIterator(),s=function(){var i=u.getNext(),s=i.key,c=i.value,l=Sm();c.forEach((function(e){if(!a.has(e)){var n=tm(t.get(e),r.get(e));null!==n&&l.set(e,n),a=a.add(e)}})),o.push(n.documentOverlayCache.saveOverlays(e,s,l))};u.hasNext();)s();return Pp.waitFor(o)})).next((function(){return r}))}},{key:"recalculateAndSaveOverlaysForDocumentKeys",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.recalculateAndSaveOverlays(e,t)}))}},{key:"getDocumentsMatchingQuery",value:function(e,t,n){return function(e){return kp.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):_y(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n):this.getDocumentsMatchingCollectionQuery(e,t,n)}},{key:"getNextDocuments",value:function(e,t,n,r){var i=this;return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((function(a){var o=r-a.size>0?i.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-a.size):Pp.resolve(Im()),u=-1,s=a;return o.next((function(t){return Pp.forEach(t,(function(t,n){return u<n.largestBatchId&&(u=n.largestBatchId),a.get(t)?Pp.resolve():i.remoteDocumentCache.getEntry(e,t).next((function(e){s=s.insert(t,e)}))})).next((function(){return i.populateOverlays(e,t,a)})).next((function(){return i.computeViews(e,s,t,Am())})).next((function(e){return{batchId:u,changes:_m(e)}}))}))}))}},{key:"getDocumentsMatchingDocumentQuery",value:function(e,t){return this.getDocument(e,new kp(t)).next((function(e){var t=xm();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}},{key:"getDocumentsMatchingCollectionGroupQuery",value:function(e,t,n){var r=this,i=t.collectionGroup,a=xm();return this.indexManager.getCollectionParents(e,i).next((function(o){return Pp.forEach(o,(function(o){var u=function(e,t){return new my(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(i));return r.getDocumentsMatchingCollectionQuery(e,u,n).next((function(e){e.forEach((function(e,t){a=a.insert(e,t)}))}))})).next((function(){return a}))}))}},{key:"getDocumentsMatchingCollectionQuery",value:function(e,t,n){var r,i=this;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next((function(a){return r=a,i.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,r)})).next((function(e){r.forEach((function(t,n){var r=n.getKey();null===e.get(r)&&(e=e.insert(r,sy.newInvalidDocument(r)))}));var n=xm();return e.forEach((function(e,i){var a=r.get(e);void 0!==a&&rm(a.mutation,i,ay.empty(),dp.now()),Oy(t,i)&&(n=n.insert(e,i))})),n}))}}]),e}(),xb=function(){function e(t){Z(this,e),this.yt=t,this.Zn=new Map,this.ts=new Map}return G(e,[{key:"getBundleMetadata",value:function(e,t){return Pp.resolve(this.Zn.get(t))}},{key:"saveBundleMetadata",value:function(e,t){var n;return this.Zn.set(t.id,{id:(n=t).id,version:n.version,createTime:Hm(n.createTime)}),Pp.resolve()}},{key:"getNamedQuery",value:function(e,t){return Pp.resolve(this.ts.get(t))}},{key:"saveNamedQuery",value:function(e,t){return this.ts.set(t.name,function(e){return{name:e.name,query:uk(e.bundledQuery),readTime:Hm(e.readTime)}}(t)),Pp.resolve()}}]),e}(),_b=function(){function e(){Z(this,e),this.overlays=new Jv(kp.comparator),this.es=new Map}return G(e,[{key:"getOverlay",value:function(e,t){return Pp.resolve(this.overlays.get(t))}},{key:"getOverlays",value:function(e,t){var n=this,r=Im();return Pp.forEach(t,(function(t){return n.getOverlay(e,t).next((function(e){null!==e&&r.set(t,e)}))})).next((function(){return r}))}},{key:"saveOverlays",value:function(e,t,n){var r=this;return n.forEach((function(n,i){r.oe(e,t,i)})),Pp.resolve()}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=this.es.get(n);return void 0!==i&&(i.forEach((function(e){return r.overlays=r.overlays.remove(e)})),this.es.delete(n)),Pp.resolve()}},{key:"getOverlaysForCollection",value:function(e,t,n){for(var r=Im(),i=t.length+1,a=new kp(t.child("")),o=this.overlays.getIteratorFrom(a);o.hasNext();){var u=o.getNext().value,s=u.getKey();if(!t.isPrefixOf(s.path))break;s.path.length===i&&u.largestBatchId>n&&r.set(u.getKey(),u)}return Pp.resolve(r)}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){for(var i=new Jv((function(e,t){return e-t})),a=this.overlays.getIterator();a.hasNext();){var o=a.getNext().value;if(o.getKey().getCollectionGroup()===t&&o.largestBatchId>n){var u=i.get(o.largestBatchId);null===u&&(u=Im(),i=i.insert(o.largestBatchId,u)),u.set(o.getKey(),o)}}for(var s=Im(),c=i.getIterator();c.hasNext()&&(c.getNext().value.forEach((function(e,t){return s.set(e,t)})),!(s.size()>=r)););return Pp.resolve(s)}},{key:"oe",value:function(e,t,n){var r=this.overlays.get(n.key);if(null!==r){var i=this.es.get(r.largestBatchId).delete(n.key);this.es.set(r.largestBatchId,i)}this.overlays=this.overlays.insert(n.key,new Yg(t,n));var a=this.es.get(t);void 0===a&&(a=Am(),this.es.set(t,a)),this.es.set(t,a.add(n.key))}}]),e}(),Ib=function(){function e(){Z(this,e),this.ns=new ny(Sb.ss),this.rs=new ny(Sb.os)}return G(e,[{key:"isEmpty",value:function(){return this.ns.isEmpty()}},{key:"addReference",value:function(e,t){var n=new Sb(e,t);this.ns=this.ns.add(n),this.rs=this.rs.add(n)}},{key:"us",value:function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))}},{key:"removeReference",value:function(e,t){this.cs(new Sb(e,t))}},{key:"hs",value:function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))}},{key:"ls",value:function(e){var t=this,n=new kp(new yp([])),r=new Sb(n,e),i=new Sb(n,e+1),a=[];return this.rs.forEachInRange([r,i],(function(e){t.cs(e),a.push(e.key)})),a}},{key:"fs",value:function(){var e=this;this.ns.forEach((function(t){return e.cs(t)}))}},{key:"cs",value:function(e){this.ns=this.ns.delete(e),this.rs=this.rs.delete(e)}},{key:"ds",value:function(e){var t=new kp(new yp([])),n=new Sb(t,e),r=new Sb(t,e+1),i=Am();return this.rs.forEachInRange([n,r],(function(e){i=i.add(e.key)})),i}},{key:"containsKey",value:function(e){var t=new Sb(e,0),n=this.ns.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}]),e}(),Sb=function(){function e(t,n){Z(this,e),this.key=t,this._s=n}return G(e,null,[{key:"ss",value:function(e,t){return kp.comparator(e.key,t.key)||lp(e._s,t._s)}},{key:"os",value:function(e,t){return lp(e._s,t._s)||kp.comparator(e.key,t.key)}}]),e}(),Eb=function(){function e(t,n){Z(this,e),this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.ws=1,this.gs=new ny(Sb.ss)}return G(e,[{key:"checkEmpty",value:function(e){return Pp.resolve(0===this.mutationQueue.length)}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this.ws;this.ws++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];var a=new Qg(i,t,n,r);this.mutationQueue.push(a);var o,u=Q(r);try{for(u.s();!(o=u.n()).done;){var s=o.value;this.gs=this.gs.add(new Sb(s.key,i)),this.indexManager.addToCollectionParentIndex(e,s.key.path.popLast())}}catch(c){u.e(c)}finally{u.f()}return Pp.resolve(a)}},{key:"lookupMutationBatch",value:function(e,t){return Pp.resolve(this.ys(t))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=t+1,r=this.ps(n),i=r<0?0:r;return Pp.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}},{key:"getHighestUnacknowledgedBatchId",value:function(){return Pp.resolve(0===this.mutationQueue.length?-1:this.ws-1)}},{key:"getAllMutationBatches",value:function(e){return Pp.resolve(this.mutationQueue.slice())}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=new Sb(t,0),i=new Sb(t,Number.POSITIVE_INFINITY),a=[];return this.gs.forEachInRange([r,i],(function(e){var t=n.ys(e._s);a.push(t)})),Pp.resolve(a)}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new ny(lp);return t.forEach((function(e){var t=new Sb(e,0),i=new Sb(e,Number.POSITIVE_INFINITY);n.gs.forEachInRange([t,i],(function(e){r=r.add(e._s)}))})),Pp.resolve(this.Is(r))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=t.path,r=n.length+1,i=n;kp.isDocumentKey(i)||(i=i.child(""));var a=new Sb(new kp(i),0),o=new ny(lp);return this.gs.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e._s)),!0)}),a),Pp.resolve(this.Is(o))}},{key:"Is",value:function(e){var t=this,n=[];return e.forEach((function(e){var r=t.ys(e);null!==r&&n.push(r)})),n}},{key:"removeMutationBatch",value:function(e,t){var n=this;Qd(0===this.Ts(t.batchId,"removed")),this.mutationQueue.shift();var r=this.gs;return Pp.forEach(t.mutations,(function(i){var a=new Sb(i.key,t.batchId);return r=r.delete(a),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((function(){n.gs=r}))}},{key:"An",value:function(e){}},{key:"containsKey",value:function(e,t){var n=new Sb(t,0),r=this.gs.firstAfterOrEqual(n);return Pp.resolve(t.isEqual(r&&r.key))}},{key:"performConsistencyCheck",value:function(e){return this.mutationQueue.length,Pp.resolve()}},{key:"Ts",value:function(e,t){return this.ps(e)}},{key:"ps",value:function(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}},{key:"ys",value:function(e){var t=this.ps(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}]),e}(),Tb=function(){function e(t){Z(this,e),this.Es=t,this.docs=new Jv(kp.comparator),this.size=0}return G(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t){var n=t.key,r=this.docs.get(n),i=r?r.size:0,a=this.Es(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}},{key:"removeEntry",value:function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}},{key:"getEntry",value:function(e,t){var n=this.docs.get(t);return Pp.resolve(n?n.document.mutableCopy():sy.newInvalidDocument(t))}},{key:"getEntries",value:function(e,t){var n=this,r=bm();return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.mutableCopy():sy.newInvalidDocument(e))})),Pp.resolve(r)}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){for(var i=bm(),a=t.path,o=new kp(a.child("")),u=this.docs.getIteratorFrom(o);u.hasNext();){var s=u.getNext(),c=s.key,l=s.value.document;if(!a.isPrefixOf(c.path))break;c.path.length>a.length+1||Cp(Ep(l),n)<=0||(r.has(l.key)||Oy(t,l))&&(i=i.insert(l.key,l.mutableCopy()))}return Pp.resolve(i)}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){Hd()}},{key:"As",value:function(e,t){return Pp.forEach(this.docs,(function(e){return t(e)}))}},{key:"newChangeBuffer",value:function(e){return new Cb(this)}},{key:"getSize",value:function(e){return Pp.resolve(this.size)}}]),e}(),Cb=function(e){X(n,e);var t=ne(n);function n(e){var r;return Z(this,n),(r=t.call(this)).Yn=e,r}return G(n,[{key:"applyChanges",value:function(e){var t=this,n=[];return this.changes.forEach((function(r,i){i.isValidDocument()?n.push(t.Yn.addEntry(e,i)):t.Yn.removeEntry(r)})),Pp.waitFor(n)}},{key:"getFromCache",value:function(e,t){return this.Yn.getEntry(e,t)}},{key:"getAllFromCache",value:function(e,t){return this.Yn.getEntries(e,t)}}]),n}(fb),Ab=function(){function e(t){Z(this,e),this.persistence=t,this.Rs=new gm((function(e){return fy(e)}),hy),this.lastRemoteSnapshotVersion=pp.min(),this.highestTargetId=0,this.bs=0,this.Ps=new Ib,this.targetCount=0,this.vs=eb.Pn()}return G(e,[{key:"forEachTarget",value:function(e,t){return this.Rs.forEach((function(e,n){return t(n)})),Pp.resolve()}},{key:"getLastRemoteSnapshotVersion",value:function(e){return Pp.resolve(this.lastRemoteSnapshotVersion)}},{key:"getHighestSequenceNumber",value:function(e){return Pp.resolve(this.bs)}},{key:"allocateTargetId",value:function(e){return this.highestTargetId=this.vs.next(),Pp.resolve(this.highestTargetId)}},{key:"setTargetsMetadata",value:function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.bs&&(this.bs=t),Pp.resolve()}},{key:"Dn",value:function(e){this.Rs.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.vs=new eb(t),this.highestTargetId=t),e.sequenceNumber>this.bs&&(this.bs=e.sequenceNumber)}},{key:"addTargetData",value:function(e,t){return this.Dn(t),this.targetCount+=1,Pp.resolve()}},{key:"updateTargetData",value:function(e,t){return this.Dn(t),Pp.resolve()}},{key:"removeTargetData",value:function(e,t){return this.Rs.delete(t.target),this.Ps.ls(t.targetId),this.targetCount-=1,Pp.resolve()}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return this.Rs.forEach((function(o,u){u.sequenceNumber<=t&&null===n.get(u.targetId)&&(r.Rs.delete(o),a.push(r.removeMatchingKeysForTargetId(e,u.targetId)),i++)})),Pp.waitFor(a).next((function(){return i}))}},{key:"getTargetCount",value:function(e){return Pp.resolve(this.targetCount)}},{key:"getTargetData",value:function(e,t){var n=this.Rs.get(t)||null;return Pp.resolve(n)}},{key:"addMatchingKeys",value:function(e,t,n){return this.Ps.us(t,n),Pp.resolve()}},{key:"removeMatchingKeys",value:function(e,t,n){this.Ps.hs(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.markPotentiallyOrphaned(e,t))})),Pp.waitFor(i)}},{key:"removeMatchingKeysForTargetId",value:function(e,t){return this.Ps.ls(t),Pp.resolve()}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=this.Ps.ds(t);return Pp.resolve(n)}},{key:"containsKey",value:function(e,t){return Pp.resolve(this.Ps.containsKey(t))}}]),e}(),Nb=function(){function e(t,n){var r=this;Z(this,e),this.Vs={},this.overlays={},this.Ss=new Kp(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=t(this),this.Cs=new Ab(this),this.indexManager=new Mk,this.remoteDocumentCache=new Tb((function(e){return r.referenceDelegate.xs(e)})),this.yt=new Jg(n),this.Ns=new xb(this.yt)}return G(e,[{key:"start",value:function(){return Promise.resolve()}},{key:"shutdown",value:function(){return this.Ds=!1,Promise.resolve()}},{key:"started",get:function(){return this.Ds}},{key:"setDatabaseDeletedListener",value:function(){}},{key:"setNetworkEnabled",value:function(){}},{key:"getIndexManager",value:function(e){return this.indexManager}},{key:"getDocumentOverlayCache",value:function(e){var t=this.overlays[e.toKey()];return t||(t=new _b,this.overlays[e.toKey()]=t),t}},{key:"getMutationQueue",value:function(e,t){var n=this.Vs[e.toKey()];return n||(n=new Eb(t,this.referenceDelegate),this.Vs[e.toKey()]=n),n}},{key:"getTargetCache",value:function(){return this.Cs}},{key:"getRemoteDocumentCache",value:function(){return this.remoteDocumentCache}},{key:"getBundleCache",value:function(){return this.Ns}},{key:"runTransaction",value:function(e,t,n){var r=this;Zd("MemoryPersistence","Starting transaction:",e);var i=new Ob(this.Ss.next());return this.referenceDelegate.ks(),n(i).next((function(e){return r.referenceDelegate.Os(i).next((function(){return e}))})).toPromise().then((function(e){return i.raiseOnCommittedEvent(),e}))}},{key:"Ms",value:function(e,t){return Pp.or(Object.values(this.Vs).map((function(n){return function(){return n.containsKey(e,t)}})))}}]),e}(),Ob=function(e){X(n,e);var t=ne(n);function n(e){var r;return Z(this,n),(r=t.call(this)).currentSequenceNumber=e,r}return G(n)}(Np),Db=function(){function e(t){Z(this,e),this.persistence=t,this.Fs=new Ib,this.$s=null}return G(e,[{key:"Ls",get:function(){if(this.$s)return this.$s;throw Hd()}},{key:"addReference",value:function(e,t,n){return this.Fs.addReference(n,t),this.Ls.delete(n.toString()),Pp.resolve()}},{key:"removeReference",value:function(e,t,n){return this.Fs.removeReference(n,t),this.Ls.add(n.toString()),Pp.resolve()}},{key:"markPotentiallyOrphaned",value:function(e,t){return this.Ls.add(t.toString()),Pp.resolve()}},{key:"removeTarget",value:function(e,t){var n=this;this.Fs.ls(t.targetId).forEach((function(e){return n.Ls.add(e.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.Ls.add(e.toString())}))})).next((function(){return r.removeTargetData(e,t)}))}},{key:"ks",value:function(){this.$s=new Set}},{key:"Os",value:function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Pp.forEach(this.Ls,(function(r){var i=kp.fromPath(r);return t.qs(e,i).next((function(e){e||n.removeEntry(i,pp.min())}))})).next((function(){return t.$s=null,n.apply(e)}))}},{key:"updateLimboDocument",value:function(e,t){var n=this;return this.qs(e,t).next((function(e){e?n.Ls.delete(t.toString()):n.Ls.add(t.toString())}))}},{key:"xs",value:function(e){return 0}},{key:"qs",value:function(e,t){var n=this;return Pp.or([function(){return Pp.resolve(n.Fs.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.Ms(e,t)}])}}],[{key:"Bs",value:function(t){return new e(t)}}]),e}(),Pb=function(){function e(t){Z(this,e),this.yt=t}return G(e,[{key:"$",value:function(e,t,n,r){var i=this,a=new Rp("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore("owner")}(e),function(e){e.createObjectStore("mutationQueues",{keyPath:"userId"}),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Ig,{unique:!0}),e.createObjectStore("documentMutations")}(e),Rb(e),function(e){e.createObjectStore("remoteDocuments")}(e));var o=Pp.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore("targetDocuments"),e.deleteObjectStore("targets"),e.deleteObjectStore("targetGlobal")}(e),Rb(e)),o=o.next((function(){return function(e){var t=e.store("targetGlobal"),n={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:pp.min().toTimestamp(),targetCount:0};return t.put("targetGlobalKey",n)}(a)}))),n<4&&r>=4&&(0!==n&&(o=o.next((function(){return function(e,t){return t.store("mutations").W().next((function(n){e.deleteObjectStore("mutations"),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Ig,{unique:!0});var r=t.store("mutations"),i=n.map((function(e){return r.put(e)}));return Pp.waitFor(i)}))}(e,a)}))),o=o.next((function(){!function(e){e.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)}))),n<5&&r>=5&&(o=o.next((function(){return i.Us(a)}))),n<6&&r>=6&&(o=o.next((function(){return function(e){e.createObjectStore("remoteDocumentGlobal")}(e),i.Ks(a)}))),n<7&&r>=7&&(o=o.next((function(){return i.Gs(a)}))),n<8&&r>=8&&(o=o.next((function(){return i.Qs(e,a)}))),n<9&&r>=9&&(o=o.next((function(){!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e)}))),n<10&&r>=10&&(o=o.next((function(){return i.js(a)}))),n<11&&r>=11&&(o=o.next((function(){!function(e){e.createObjectStore("bundles",{keyPath:"bundleId"})}(e),function(e){e.createObjectStore("namedQueries",{keyPath:"name"})}(e)}))),n<12&&r>=12&&(o=o.next((function(){!function(e){var t=e.createObjectStore("documentOverlays",{keyPath:jg});t.createIndex("collectionPathOverlayIndex",Ug,{unique:!1}),t.createIndex("collectionGroupOverlayIndex",zg,{unique:!1})}(e)}))),n<13&&r>=13&&(o=o.next((function(){return function(e){var t=e.createObjectStore("remoteDocumentsV14",{keyPath:Cg});t.createIndex("documentKeyIndex",Ag),t.createIndex("collectionGroupIndex",Ng)}(e)})).next((function(){return i.Ws(e,a)})).next((function(){return e.deleteObjectStore("remoteDocuments")}))),n<14&&r>=14&&(o=o.next((function(){return i.zs(e,a)}))),n<15&&r>=15&&(o=o.next((function(){return function(e){e.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),e.createObjectStore("indexState",{keyPath:Lg}).createIndex("sequenceNumberIndex",Mg,{unique:!1}),e.createObjectStore("indexEntries",{keyPath:Fg}).createIndex("documentKeyIndex",Vg,{unique:!1})}(e)}))),o}},{key:"Ks",value:function(e){var t=0;return e.store("remoteDocuments").Z((function(e,n){t+=Hk(n)})).next((function(){var n={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",n)}))}},{key:"Us",value:function(e){var t=this,n=e.store("mutationQueues"),r=e.store("mutations");return n.W().next((function(n){return Pp.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.W("userMutationsIndex",i).next((function(r){return Pp.forEach(r,(function(r){Qd(r.userId===n.userId);var i=ik(t.yt,r);return Gk(e,n.userId,i).next((function(){}))}))}))}))}))}},{key:"Gs",value:function(e){var t=e.store("targetDocuments"),n=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next((function(e){var r=[];return n.Z((function(n,i){var a=new yp(n),o=function(e){return[0,bg(e)]}(a);r.push(t.get(o).next((function(n){return n?Pp.resolve():function(n){return t.put({targetId:0,path:bg(n),sequenceNumber:e.highestListenSequenceNumber})}(a)})))})).next((function(){return Pp.waitFor(r)}))}))}},{key:"Qs",value:function(e,t){e.createObjectStore("collectionParents",{keyPath:Rg});var n=t.store("collectionParents"),r=new Fk,i=function(e){if(r.add(e)){var t=e.lastSegment(),i=e.popLast();return n.put({collectionId:t,parent:bg(i)})}};return t.store("remoteDocuments").Z({X:!0},(function(e,t){var n=new yp(e);return i(n.popLast())})).next((function(){return t.store("documentMutations").Z({X:!0},(function(e,t){var n=(0,a.Z)(e,3),r=(n[0],n[1]),o=(n[2],_g(r));return i(o.popLast())}))}))}},{key:"js",value:function(e){var t=this,n=e.store("targets");return n.Z((function(e,r){var i=ak(r),a=ok(t.yt,i);return n.put(a)}))}},{key:"Ws",value:function(e,t){var n=t.store("remoteDocuments"),r=[];return n.Z((function(e,n){var i,a=t.store("remoteDocumentsV14"),o=(i=n,i.document?new kp(yp.fromString(i.document.name).popFirst(5)):i.noDocument?kp.fromSegments(i.noDocument.path):i.unknownDocument?kp.fromSegments(i.unknownDocument.path):Hd()).path.toArray(),u={prefixPath:o.slice(0,o.length-2),collectionGroup:o[o.length-2],documentId:o[o.length-1],readTime:n.readTime||[0,0],unknownDocument:n.unknownDocument,noDocument:n.noDocument,document:n.document,hasCommittedMutations:!!n.hasCommittedMutations};r.push(a.put(u))})).next((function(){return Pp.waitFor(r)}))}},{key:"zs",value:function(e,t){var n=this,r=t.store("mutations"),i=db(this.yt),a=new Nb(Db.Bs,this.yt.ie);return r.W().next((function(e){var r=new Map;return e.forEach((function(e){var t,i=null!==(t=r.get(e.userId))&&void 0!==t?t:Am();ik(n.yt,e).keys().forEach((function(e){return i=i.add(e)})),r.set(e.userId,i)})),Pp.forEach(r,(function(e,r){var o=new Ud(r),u=pk.re(n.yt,o),s=a.getIndexManager(o),c=Qk.re(o,n.yt,s,a.referenceDelegate);return new wb(i,c,u,s).recalculateAndSaveOverlaysForDocumentKeys(new Gg(t,Kp.at),e).next()}))}))}}]),e}();function Rb(e){e.createObjectStore("targetDocuments",{keyPath:Dg}).createIndex("documentTargetsIndex",Pg,{unique:!0}),e.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",Og,{unique:!0}),e.createObjectStore("targetGlobal")}var Lb="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",Mb=function(){function e(t,n,r,i,a,o,u,s,c,l){var f=arguments.length>10&&void 0!==arguments[10]?arguments[10]:15;if(Z(this,e),this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.Hs=a,this.window=o,this.document=u,this.Js=c,this.Ys=l,this.Xs=f,this.Ss=null,this.Ds=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Zs=null,this.inForeground=!1,this.ti=null,this.ei=null,this.ni=Number.NEGATIVE_INFINITY,this.si=function(e){return Promise.resolve()},!e.C())throw new Xd(Yd.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new cb(this,i),this.ii=n+"main",this.yt=new Jg(s),this.ri=new Lp(this.ii,this.Xs,new Pb(this.yt)),this.Cs=new tb(this.referenceDelegate,this.yt),this.remoteDocumentCache=db(this.yt),this.Ns=new fk,this.window&&this.window.localStorage?this.oi=this.window.localStorage:(this.oi=null,!1===l&&Kd("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return G(e,[{key:"start",value:function(){var e=this;return this.ui().then((function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new Xd(Yd.FAILED_PRECONDITION,Lb);return e.ci(),e.ai(),e.hi(),e.runTransaction("getHighestListenSequenceNumber","readonly",(function(t){return e.Cs.getHighestSequenceNumber(t)}))})).then((function(t){e.Ss=new Kp(t,e.Js)})).then((function(){e.Ds=!0})).catch((function(t){return e.ri&&e.ri.close(),Promise.reject(t)}))}},{key:"li",value:function(e){var t=this;return this.si=function(){var n=Fe(Re().mark((function n(r){return Re().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!t.started){n.next=2;break}return n.abrupt("return",e(r));case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),e(this.isPrimary)}},{key:"setDatabaseDeletedListener",value:function(e){this.ri.L(function(){var t=Fe(Re().mark((function t(n){return Re().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=null===n.newVersion,!t.t0){t.next=4;break}return t.next=4,e();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}},{key:"setNetworkEnabled",value:function(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Hs.enqueueAndForget(Fe(Re().mark((function e(){return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.started,!e.t0){e.next=4;break}return e.next=4,t.ui();case 4:case"end":return e.stop()}}),e)})))))}},{key:"ui",value:function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(t){return Vb(t).put({clientId:e.clientId,updateTimeMs:Date.now(),networkEnabled:e.networkEnabled,inForeground:e.inForeground}).next((function(){if(e.isPrimary)return e.fi(t).next((function(t){t||(e.isPrimary=!1,e.Hs.enqueueRetryable((function(){return e.si(!1)})))}))})).next((function(){return e.di(t)})).next((function(n){return e.isPrimary&&!n?e._i(t).next((function(){return!1})):!!n&&e.wi(t).next((function(){return!0}))}))})).catch((function(t){if(Vp(t))return Zd("IndexedDbPersistence","Failed to extend owner lease: ",t),e.isPrimary;if(!e.allowTabSynchronization)throw t;return Zd("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1})).then((function(t){e.isPrimary!==t&&e.Hs.enqueueRetryable((function(){return e.si(t)})),e.isPrimary=t}))}},{key:"fi",value:function(e){var t=this;return Fb(e).get("owner").next((function(e){return Pp.resolve(t.mi(e))}))}},{key:"gi",value:function(e){return Vb(e).delete(this.clientId)}},{key:"yi",value:function(){var e=Fe(Re().mark((function e(){var t,n,r,i,a=this;return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isPrimary||this.pi(this.ni,18e5)){e.next=6;break}return this.ni=Date.now(),e.next=4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(e){var t=Hg(e,"clientMetadata");return t.W().next((function(e){var n=a.Ii(e,18e5),r=e.filter((function(e){return-1===n.indexOf(e)}));return Pp.forEach(r,(function(e){return t.delete(e.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}));case 4:if(t=e.sent,this.oi){n=Q(t);try{for(n.s();!(r=n.n()).done;)i=r.value,this.oi.removeItem(this.Ti(i.clientId))}catch(o){n.e(o)}finally{n.f()}}case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"hi",value:function(){var e=this;this.ei=this.Hs.enqueueAfterDelay("client_metadata_refresh",4e3,(function(){return e.ui().then((function(){return e.yi()})).then((function(){return e.hi()}))}))}},{key:"mi",value:function(e){return!!e&&e.ownerId===this.clientId}},{key:"di",value:function(e){var t=this;return this.Ys?Pp.resolve(!0):Fb(e).get("owner").next((function(n){if(null!==n&&t.pi(n.leaseTimestampMs,5e3)&&!t.Ei(n.ownerId)){if(t.mi(n)&&t.networkEnabled)return!0;if(!t.mi(n)){if(!n.allowTabSynchronization)throw new Xd(Yd.FAILED_PRECONDITION,Lb);return!1}}return!(!t.networkEnabled||!t.inForeground)||Vb(e).W().next((function(e){return void 0===t.Ii(e,5e3).find((function(e){if(t.clientId!==e.clientId){var n=!t.networkEnabled&&e.networkEnabled,r=!t.inForeground&&e.inForeground,i=t.networkEnabled===e.networkEnabled;if(n||r&&i)return!0}return!1}))}))})).next((function(e){return t.isPrimary!==e&&Zd("IndexedDbPersistence","Client ".concat(e?"is":"is not"," eligible for a primary lease.")),e}))}},{key:"shutdown",value:function(){var e=Fe(Re().mark((function e(){var t=this;return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.Ds=!1,this.Ai(),this.ei&&(this.ei.cancel(),this.ei=null),this.Ri(),this.bi(),e.next=7,this.ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],(function(e){var n=new Gg(e,Kp.at);return t._i(n).next((function(){return t.gi(n)}))}));case 7:this.ri.close(),this.Pi();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Ii",value:function(e,t){var n=this;return e.filter((function(e){return n.pi(e.updateTimeMs,t)&&!n.Ei(e.clientId)}))}},{key:"vi",value:function(){var e=this;return this.runTransaction("getActiveClients","readonly",(function(t){return Vb(t).W().next((function(t){return e.Ii(t,18e5).map((function(e){return e.clientId}))}))}))}},{key:"started",get:function(){return this.Ds}},{key:"getMutationQueue",value:function(e,t){return Qk.re(e,this.yt,t,this.referenceDelegate)}},{key:"getTargetCache",value:function(){return this.Cs}},{key:"getRemoteDocumentCache",value:function(){return this.remoteDocumentCache}},{key:"getIndexManager",value:function(e){return new jk(e,this.yt.ie.databaseId)}},{key:"getDocumentOverlayCache",value:function(e){return pk.re(this.yt,e)}},{key:"getBundleCache",value:function(){return this.Ns}},{key:"runTransaction",value:function(e,t,n){var r=this;Zd("IndexedDbPersistence","Starting transaction:",e);var i,a,o="readonly"===t?"readonly":"readwrite",u=15===(i=this.Xs)?Wg:14===i?Kg:13===i?Zg:12===i?qg:11===i?Bg:void Hd();return this.ri.runTransaction(e,o,u,(function(i){return a=new Gg(i,r.Ss?r.Ss.next():Kp.at),"readwrite-primary"===t?r.fi(a).next((function(e){return!!e||r.di(a)})).next((function(t){if(!t)throw Kd("Failed to obtain primary lease for action '".concat(e,"'.")),r.isPrimary=!1,r.Hs.enqueueRetryable((function(){return r.si(!1)})),new Xd(Yd.FAILED_PRECONDITION,Ap);return n(a)})).next((function(e){return r.wi(a).next((function(){return e}))})):r.Vi(a).next((function(){return n(a)}))})).then((function(e){return a.raiseOnCommittedEvent(),e}))}},{key:"Vi",value:function(e){var t=this;return Fb(e).get("owner").next((function(e){if(null!==e&&t.pi(e.leaseTimestampMs,5e3)&&!t.Ei(e.ownerId)&&!t.mi(e)&&!(t.Ys||t.allowTabSynchronization&&e.allowTabSynchronization))throw new Xd(Yd.FAILED_PRECONDITION,Lb)}))}},{key:"wi",value:function(e){var t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Fb(e).put("owner",t)}},{key:"_i",value:function(e){var t=this,n=Fb(e);return n.get("owner").next((function(e){return t.mi(e)?(Zd("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):Pp.resolve()}))}},{key:"pi",value:function(e,t){var n=Date.now();return!(e<n-t)&&(!(e>n)||(Kd("Detected an update time that is in the future: ".concat(e," > ").concat(n)),!1))}},{key:"ci",value:function(){var e=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ti=function(){e.Hs.enqueueAndForget((function(){return e.inForeground="visible"===e.document.visibilityState,e.ui()}))},this.document.addEventListener("visibilitychange",this.ti),this.inForeground="visible"===this.document.visibilityState)}},{key:"Ri",value:function(){this.ti&&(this.document.removeEventListener("visibilitychange",this.ti),this.ti=null)}},{key:"ai",value:function(){var e,t=this;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Zs=function(){t.Ai(),!ve()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")&&navigator.appVersion.match(/Version\/1[45]/)&&t.Hs.enterRestrictedMode(!0),t.Hs.enqueueAndForget((function(){return t.shutdown()}))},this.window.addEventListener("pagehide",this.Zs))}},{key:"bi",value:function(){this.Zs&&(this.window.removeEventListener("pagehide",this.Zs),this.Zs=null)}},{key:"Ei",value:function(e){var t;try{var n=null!==(null===(t=this.oi)||void 0===t?void 0:t.getItem(this.Ti(e)));return Zd("IndexedDbPersistence","Client '".concat(e,"' ").concat(n?"is":"is not"," zombied in LocalStorage")),n}catch(e){return Kd("IndexedDbPersistence","Failed to get zombied client id.",e),!1}}},{key:"Ai",value:function(){if(this.oi)try{this.oi.setItem(this.Ti(this.clientId),String(Date.now()))}catch(Qc){Kd("Failed to set zombie client id.",Qc)}}},{key:"Pi",value:function(){if(this.oi)try{this.oi.removeItem(this.Ti(this.clientId))}catch(Qc){}}},{key:"Ti",value:function(e){return"firestore_zombie_".concat(this.persistenceKey,"_").concat(e)}}],[{key:"C",value:function(){return Lp.C()}}]),e}();function Fb(e){return Hg(e,"owner")}function Vb(e){return Hg(e,"clientMetadata")}function jb(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var Ub=function(){function e(t,n,r,i){Z(this,e),this.targetId=t,this.fromCache=n,this.Si=r,this.Di=i}return G(e,null,[{key:"Ci",value:function(t,n){var r,i=Am(),a=Am(),o=Q(n.docChanges);try{for(o.s();!(r=o.n()).done;){var u=r.value;switch(u.type){case 0:i=i.add(u.doc.key);break;case 1:a=a.add(u.doc.key)}}}catch(s){o.e(s)}finally{o.f()}return new e(t,n.fromCache,i,a)}}]),e}(),zb=function(){function e(){Z(this,e),this.xi=!1}return G(e,[{key:"initialize",value:function(e,t){this.Ni=e,this.indexManager=t,this.xi=!0}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){var i=this;return this.ki(e,t).next((function(a){return a||i.Oi(e,t,r,n)})).next((function(n){return n||i.Mi(e,t)}))}},{key:"ki",value:function(e,t){var n=this;if(by(t))return Pp.resolve(null);var r=Sy(t);return this.indexManager.getIndexType(e,r).next((function(i){return 0===i?null:(null!==t.limit&&1===i&&(t=Ty(t,null,"F"),r=Sy(t)),n.indexManager.getDocumentsMatchingTarget(e,r).next((function(i){var a=Am.apply(void 0,(0,Le.Z)(i));return n.Ni.getDocuments(e,a).next((function(i){return n.indexManager.getMinOffset(e,r).next((function(r){var o=n.Fi(t,i);return n.$i(t,o,a,r.readTime)?n.ki(e,Ty(t,null,"F")):n.Bi(e,o,t,r)}))}))})))}))}},{key:"Oi",value:function(e,t,n,r){var i=this;return by(t)||r.isEqual(pp.min())?this.Mi(e,t):this.Ni.getDocuments(e,n).next((function(a){var o=i.Fi(t,a);return i.$i(t,o,n,r)?i.Mi(e,t):(qd()<=Be.DEBUG&&Zd("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Ny(t)),i.Bi(e,o,t,Sp(r,-1)))}))}},{key:"Fi",value:function(e,t){var n=new ny(Py(e));return t.forEach((function(t,r){Oy(e,r)&&(n=n.add(r))})),n}},{key:"$i",value:function(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;var i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}},{key:"Mi",value:function(e,t){return qd()<=Be.DEBUG&&Zd("QueryEngine","Using full collection scan to execute query:",Ny(t)),this.Ni.getDocumentsMatchingQuery(e,t,Tp.min())}},{key:"Bi",value:function(e,t,n,r){return this.Ni.getDocumentsMatchingQuery(e,n,r).next((function(e){return t.forEach((function(t){e=e.insert(t.key,t)})),e}))}}]),e}(),Bb=function(){function e(t,n,r,i){Z(this,e),this.persistence=t,this.Li=n,this.yt=i,this.qi=new Jv(lp),this.Ui=new gm((function(e){return fy(e)}),hy),this.Ki=new Map,this.Gi=t.getRemoteDocumentCache(),this.Cs=t.getTargetCache(),this.Ns=t.getBundleCache(),this.Qi(r)}return G(e,[{key:"Qi",value:function(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new wb(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}},{key:"collectGarbage",value:function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.qi)}))}}]),e}();function qb(e,t,n,r){return new Bb(e,t,n,r)}function Zb(e,t){return Kb.apply(this,arguments)}function Kb(){return Kb=Fe(Re().mark((function e(t,n){var r;return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=$d(t),e.next=3,r.persistence.runTransaction("Handle user change","readonly",(function(e){var t;return r.mutationQueue.getAllMutationBatches(e).next((function(i){return t=i,r.Qi(n),r.mutationQueue.getAllMutationBatches(e)})).next((function(n){var i,a=[],o=[],u=Am(),s=Q(t);try{for(s.s();!(i=s.n()).done;){var c=i.value;a.push(c.batchId);var l,f=Q(c.mutations);try{for(f.s();!(l=f.n()).done;){var h=l.value;u=u.add(h.key)}}catch(k){f.e(k)}finally{f.f()}}}catch(k){s.e(k)}finally{s.f()}var d,p=Q(n);try{for(p.s();!(d=p.n()).done;){var v=d.value;o.push(v.batchId);var y,m=Q(v.mutations);try{for(m.s();!(y=m.n()).done;){var g=y.value;u=u.add(g.key)}}catch(k){m.e(k)}finally{m.f()}}}catch(k){p.e(k)}finally{p.f()}return r.localDocuments.getDocuments(e,u).next((function(e){return{ji:e,removedBatchIds:a,addedBatchIds:o}}))}))}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)}))),Kb.apply(this,arguments)}function Wb(e,t){var n=$d(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var r=t.batch.keys(),i=n.Gi.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){var i=n.batch,a=i.keys(),o=Pp.resolve();return a.forEach((function(e){o=o.next((function(){return r.getEntry(t,e)})).next((function(t){var a=n.docVersions.get(e);Qd(null!==a),t.version.compareTo(a)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),o.next((function(){return e.mutationQueue.removeMutationBatch(t,i)}))}(n,e,t,i).next((function(){return i.apply(e)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){for(var t=Am(),n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t))})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}function Gb(e){var t=$d(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.Cs.getLastRemoteSnapshotVersion(e)}))}function Hb(e,t){var n=$d(e),r=t.snapshotVersion,i=n.qi;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(e){var a=n.Gi.newChangeBuffer({trackRemovals:!0});i=n.qi;var o=[];t.targetChanges.forEach((function(a,u){var s=i.get(u);if(s){o.push(n.Cs.removeMatchingKeys(e,a.removedDocuments,u).next((function(){return n.Cs.addMatchingKeys(e,a.addedDocuments,u)})));var c=s.withSequenceNumber(e.currentSequenceNumber);t.targetMismatches.has(u)?c=c.withResumeToken(ev.EMPTY_BYTE_STRING,pp.min()).withLastLimboFreeSnapshotVersion(pp.min()):a.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(a.resumeToken,r)),i=i.insert(u,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(s,c,a)&&o.push(n.Cs.updateTargetData(e,c))}}));var u=bm(),s=Am();if(t.documentUpdates.forEach((function(r){t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push(Qb(e,a,t.documentUpdates).next((function(e){u=e.Wi,s=e.zi}))),!r.isEqual(pp.min())){var c=n.Cs.getLastRemoteSnapshotVersion(e).next((function(t){return n.Cs.setTargetsMetadata(e,e.currentSequenceNumber,r)}));o.push(c)}return Pp.waitFor(o).next((function(){return a.apply(e)})).next((function(){return n.localDocuments.getLocalViewOfDocuments(e,u,s)})).next((function(){return u}))})).then((function(e){return n.qi=i,e}))}function Qb(e,t,n){var r=Am(),i=Am();return n.forEach((function(e){return r=r.add(e)})),t.getEntries(e,r).next((function(e){var r=bm();return n.forEach((function(n,a){var o=e.get(n);a.isFoundDocument()!==o.isFoundDocument()&&(i=i.add(n)),a.isNoDocument()&&a.version.isEqual(pp.min())?(t.removeEntry(n,a.readTime),r=r.insert(n,a)):!o.isValidDocument()||a.version.compareTo(o.version)>0||0===a.version.compareTo(o.version)&&o.hasPendingWrites?(t.addEntry(a),r=r.insert(n,a)):Zd("LocalStore","Ignoring outdated watch update for ",n,". Current version:",o.version," Watch version:",a.version)})),{Wi:r,zi:i}}))}function $b(e,t){var n=$d(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t)}))}function Yb(e,t){var n=$d(e);return n.persistence.runTransaction("Allocate target","readwrite",(function(e){var r;return n.Cs.getTargetData(e,t).next((function(i){return i?(r=i,Pp.resolve(r)):n.Cs.allocateTargetId(e).next((function(i){return r=new Xg(t,i,0,e.currentSequenceNumber),n.Cs.addTargetData(e,r).next((function(){return r}))}))}))})).then((function(e){var r=n.qi.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.qi=n.qi.insert(e.targetId,e),n.Ui.set(t,e.targetId)),e}))}function Xb(e,t,n){return Jb.apply(this,arguments)}function Jb(){return Jb=Fe(Re().mark((function e(t,n,r){var i,a,o;return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=$d(t),a=i.qi.get(n),o=r?"readwrite":"readwrite-primary",e.prev=1,e.t0=r,e.t0){e.next=6;break}return e.next=6,i.persistence.runTransaction("Release target",o,(function(e){return i.persistence.referenceDelegate.removeTarget(e,a)}));case 6:e.next=13;break;case 8:if(e.prev=8,e.t1=e.catch(1),Vp(e.t1)){e.next=12;break}throw e.t1;case 12:Zd("LocalStore","Failed to update sequence numbers for target ".concat(n,": ").concat(e.t1));case 13:i.qi=i.qi.remove(n),i.Ui.delete(a.target);case 14:case"end":return e.stop()}}),e,null,[[1,8]])}))),Jb.apply(this,arguments)}function ew(e,t,n){var r=$d(e),i=pp.min(),a=Am();return r.persistence.runTransaction("Execute query","readonly",(function(e){return function(e,t,n){var r=$d(e),i=r.Ui.get(n);return void 0!==i?Pp.resolve(r.qi.get(i)):r.Cs.getTargetData(t,n)}(r,e,Sy(t)).next((function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.Cs.getMatchingKeysForTargetId(e,t.targetId).next((function(e){a=e}))})).next((function(){return r.Li.getDocumentsMatchingQuery(e,t,n?i:pp.min(),n?a:Am())})).next((function(e){return rw(r,Dy(t),e),{documents:e,Hi:a}}))}))}function tw(e,t){var n=$d(e),r=$d(n.Cs),i=n.qi.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(e){return r.ne(e,t).next((function(e){return e?e.target:null}))}))}function nw(e,t){var n=$d(e),r=n.Ki.get(t)||pp.min();return n.persistence.runTransaction("Get new document changes","readonly",(function(e){return n.Gi.getAllFromCollectionGroup(e,t,Sp(r,-1),Number.MAX_SAFE_INTEGER)})).then((function(e){return rw(n,t,e),e}))}function rw(e,t,n){var r=e.Ki.get(t)||pp.min();n.forEach((function(e,t){t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.Ki.set(t,r)}function iw(e,t,n,r){return aw.apply(this,arguments)}function aw(){return aw=Fe(Re().mark((function e(t,n,r,i){var a,o,u,s,c,l,f,h,d,p;return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=$d(t),o=Am(),u=bm(),s=Q(r);try{for(s.s();!(c=s.n()).done;)l=c.value,f=n.Ji(l.metadata.name),l.document&&(o=o.add(f)),(h=n.Yi(l)).setReadTime(n.Xi(l.metadata.readTime)),u=u.insert(f,h)}catch(v){s.e(v)}finally{s.f()}return d=a.Gi.newChangeBuffer({trackRemovals:!0}),e.next=7,Yb(a,function(e){return Sy(ky(yp.fromString("__bundle__/docs/".concat(e))))}(i));case 7:return p=e.sent,e.abrupt("return",a.persistence.runTransaction("Apply bundle documents","readwrite",(function(e){return Qb(e,d,u).next((function(t){return d.apply(e),t})).next((function(t){return a.Cs.removeMatchingKeysForTargetId(e,p.targetId).next((function(){return a.Cs.addMatchingKeys(e,o,p.targetId)})).next((function(){return a.localDocuments.getLocalViewOfDocuments(e,t.Wi,t.zi)})).next((function(){return t.Wi}))}))})));case 9:case"end":return e.stop()}}),e)}))),aw.apply(this,arguments)}function ow(e,t){return uw.apply(this,arguments)}function uw(){return uw=Fe(Re().mark((function e(t,n){var r,i,a,o=arguments;return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>2&&void 0!==o[2]?o[2]:Am(),e.next=3,Yb(t,Sy(uk(n.bundledQuery)));case 3:return i=e.sent,a=$d(t),e.abrupt("return",a.persistence.runTransaction("Save named query","readwrite",(function(e){var t=Hm(n.readTime);if(i.snapshotVersion.compareTo(t)>=0)return a.Ns.saveNamedQuery(e,n);var o=i.withResumeToken(ev.EMPTY_BYTE_STRING,t);return a.qi=a.qi.insert(o.targetId,o),a.Cs.updateTargetData(e,o).next((function(){return a.Cs.removeMatchingKeysForTargetId(e,i.targetId)})).next((function(){return a.Cs.addMatchingKeys(e,r,i.targetId)})).next((function(){return a.Ns.saveNamedQuery(e,n)}))})));case 6:case"end":return e.stop()}}),e)}))),uw.apply(this,arguments)}function sw(e,t){return"firestore_clients_".concat(e,"_").concat(t)}function cw(e,t,n){var r="firestore_mutations_".concat(e,"_").concat(n);return t.isAuthenticated()&&(r+="_".concat(t.uid)),r}function lw(e,t){return"firestore_targets_".concat(e,"_").concat(t)}var fw=function(){function e(t,n,r,i){Z(this,e),this.user=t,this.batchId=n,this.state=r,this.error=i}return G(e,[{key:"tr",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"Zi",value:function(t,n,r){var i,a=JSON.parse(r),o="object"==typeof a&&-1!==["pending","acknowledged","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==typeof a.error);return o&&a.error&&((o="string"==typeof a.error.message&&"string"==typeof a.error.code)&&(i=new Xd(a.error.code,a.error.message))),o?new e(t,n,a.state,i):(Kd("SharedClientState","Failed to parse mutation state for ID '".concat(n,"': ").concat(r)),null)}}]),e}(),hw=function(){function e(t,n,r){Z(this,e),this.targetId=t,this.state=n,this.error=r}return G(e,[{key:"tr",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"Zi",value:function(t,n){var r,i=JSON.parse(n),a="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return a&&i.error&&((a="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new Xd(i.error.code,i.error.message))),a?new e(t,i.state,r):(Kd("SharedClientState","Failed to parse target state for ID '".concat(t,"': ").concat(n)),null)}}]),e}(),dw=function(){function e(t,n){Z(this,e),this.clientId=t,this.activeTargetIds=n}return G(e,null,[{key:"Zi",value:function(t,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,a=Om(),o=0;i&&o<r.activeTargetIds.length;++o)i=Jp(r.activeTargetIds[o]),a=a.add(r.activeTargetIds[o]);return i?new e(t,a):(Kd("SharedClientState","Failed to parse client data for instance '".concat(t,"': ").concat(n)),null)}}]),e}(),pw=function(){function e(t,n){Z(this,e),this.clientId=t,this.onlineState=n}return G(e,null,[{key:"Zi",value:function(t){var n=JSON.parse(t);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new e(n.clientId,n.onlineState):(Kd("SharedClientState","Failed to parse online state: ".concat(t)),null)}}]),e}(),vw=function(){function e(){Z(this,e),this.activeTargetIds=Om()}return G(e,[{key:"er",value:function(e){this.activeTargetIds=this.activeTargetIds.add(e)}},{key:"nr",value:function(e){this.activeTargetIds=this.activeTargetIds.delete(e)}},{key:"tr",value:function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}]),e}(),yw=function(){function e(t,n,r,i,a){Z(this,e),this.window=t,this.Hs=n,this.persistenceKey=r,this.sr=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ir=this.rr.bind(this),this.ur=new Jv(lp),this.started=!1,this.cr=[];var o=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=a,this.ar=sw(this.persistenceKey,this.sr),this.hr=function(e){return"firestore_sequence_number_".concat(e)}(this.persistenceKey),this.ur=this.ur.insert(this.sr,new vw),this.lr=new RegExp("^firestore_clients_".concat(o,"_([^_]*)$")),this.dr=new RegExp("^firestore_mutations_".concat(o,"_(\\d+)(?:_(.*))?$")),this._r=new RegExp("^firestore_targets_".concat(o,"_(\\d+)$")),this.wr=function(e){return"firestore_online_state_".concat(e)}(this.persistenceKey),this.mr=function(e){return"firestore_bundle_loaded_v2_".concat(e)}(this.persistenceKey),this.window.addEventListener("storage",this.ir)}return G(e,[{key:"start",value:function(){var e=Fe(Re().mark((function e(){var t,n,r,i,a,o,u,s,c,l,f,h=this;return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.syncEngine.vi();case 2:t=e.sent,n=Q(t),e.prev=4,n.s();case 6:if((r=n.n()).done){e.next=14;break}if((i=r.value)!==this.sr){e.next=10;break}return e.abrupt("continue",12);case 10:(a=this.getItem(sw(this.persistenceKey,i)))&&(o=dw.Zi(i,a))&&(this.ur=this.ur.insert(o.clientId,o));case 12:e.next=6;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(4),n.e(e.t0);case 19:return e.prev=19,n.f(),e.finish(19);case 22:this.gr(),(u=this.storage.getItem(this.wr))&&(s=this.yr(u))&&this.pr(s),c=Q(this.cr);try{for(c.s();!(l=c.n()).done;)f=l.value,this.rr(f)}catch(d){c.e(d)}finally{c.f()}this.cr=[],this.window.addEventListener("pagehide",(function(){return h.shutdown()})),this.started=!0;case 28:case"end":return e.stop()}}),e,this,[[4,16,19,22]])})));return function(){return e.apply(this,arguments)}}()},{key:"writeSequenceNumber",value:function(e){this.setItem(this.hr,JSON.stringify(e))}},{key:"getAllActiveQueryTargets",value:function(){return this.Ir(this.ur)}},{key:"isActiveQueryTarget",value:function(e){var t=!1;return this.ur.forEach((function(n,r){r.activeTargetIds.has(e)&&(t=!0)})),t}},{key:"addPendingMutation",value:function(e){this.Tr(e,"pending")}},{key:"updateMutationState",value:function(e,t,n){this.Tr(e,t,n),this.Er(e)}},{key:"addLocalQueryTarget",value:function(e){var t="not-current";if(this.isActiveQueryTarget(e)){var n=this.storage.getItem(lw(this.persistenceKey,e));if(n){var r=hw.Zi(e,n);r&&(t=r.state)}}return this.Ar.er(e),this.gr(),t}},{key:"removeLocalQueryTarget",value:function(e){this.Ar.nr(e),this.gr()}},{key:"isLocalQueryTarget",value:function(e){return this.Ar.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){this.removeItem(lw(this.persistenceKey,e))}},{key:"updateQueryState",value:function(e,t,n){this.Rr(e,t,n)}},{key:"handleUserChange",value:function(e,t,n){var r=this;t.forEach((function(e){r.Er(e)})),this.currentUser=e,n.forEach((function(e){r.addPendingMutation(e)}))}},{key:"setOnlineState",value:function(e){this.br(e)}},{key:"notifyBundleLoaded",value:function(e){this.Pr(e)}},{key:"shutdown",value:function(){this.started&&(this.window.removeEventListener("storage",this.ir),this.removeItem(this.ar),this.started=!1)}},{key:"getItem",value:function(e){var t=this.storage.getItem(e);return Zd("SharedClientState","READ",e,t),t}},{key:"setItem",value:function(e,t){Zd("SharedClientState","SET",e,t),this.storage.setItem(e,t)}},{key:"removeItem",value:function(e){Zd("SharedClientState","REMOVE",e),this.storage.removeItem(e)}},{key:"rr",value:function(e){var t=this,n=e;if(n.storageArea===this.storage){if(Zd("SharedClientState","EVENT",n.key,n.newValue),n.key===this.ar)return void Kd("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Hs.enqueueRetryable(Fe(Re().mark((function e(){var r,i,a,o,u,s,c;return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.started){e.next=43;break}if(null===n.key){e.next=41;break}if(!t.lr.test(n.key)){e.next=11;break}if(null!=n.newValue){e.next=6;break}return r=t.vr(n.key),e.abrupt("return",t.Vr(r,null));case 6:if(!(i=t.Sr(n.key,n.newValue))){e.next=9;break}return e.abrupt("return",t.Vr(i.clientId,i));case 9:e.next=41;break;case 11:if(!t.dr.test(n.key)){e.next=18;break}if(null===n.newValue){e.next=16;break}if(!(a=t.Dr(n.key,n.newValue))){e.next=16;break}return e.abrupt("return",t.Cr(a));case 16:e.next=41;break;case 18:if(!t._r.test(n.key)){e.next=25;break}if(null===n.newValue){e.next=23;break}if(!(o=t.Nr(n.key,n.newValue))){e.next=23;break}return e.abrupt("return",t.kr(o));case 23:e.next=41;break;case 25:if(n.key!==t.wr){e.next=32;break}if(null===n.newValue){e.next=30;break}if(!(u=t.yr(n.newValue))){e.next=30;break}return e.abrupt("return",t.pr(u));case 30:e.next=41;break;case 32:if(n.key!==t.hr){e.next=37;break}s=function(e){var t=Kp.at;if(null!=e)try{var n=JSON.parse(e);Qd("number"==typeof n),t=n}catch(e){Kd("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(n.newValue),s!==Kp.at&&t.sequenceNumberHandler(s),e.next=41;break;case 37:if(n.key!==t.mr){e.next=41;break}return c=t.Or(n.newValue),e.next=41,Promise.all(c.map((function(e){return t.syncEngine.Mr(e)})));case 41:e.next=44;break;case 43:t.cr.push(n);case 44:case"end":return e.stop()}}),e)}))))}}},{key:"Ar",get:function(){return this.ur.get(this.sr)}},{key:"gr",value:function(){this.setItem(this.ar,this.Ar.tr())}},{key:"Tr",value:function(e,t,n){var r=new fw(this.currentUser,e,t,n),i=cw(this.persistenceKey,this.currentUser,e);this.setItem(i,r.tr())}},{key:"Er",value:function(e){var t=cw(this.persistenceKey,this.currentUser,e);this.removeItem(t)}},{key:"br",value:function(e){var t={clientId:this.sr,onlineState:e};this.storage.setItem(this.wr,JSON.stringify(t))}},{key:"Rr",value:function(e,t,n){var r=lw(this.persistenceKey,e),i=new hw(e,t,n);this.setItem(r,i.tr())}},{key:"Pr",value:function(e){var t=JSON.stringify(Array.from(e));this.setItem(this.mr,t)}},{key:"vr",value:function(e){var t=this.lr.exec(e);return t?t[1]:null}},{key:"Sr",value:function(e,t){var n=this.vr(e);return dw.Zi(n,t)}},{key:"Dr",value:function(e,t){var n=this.dr.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return fw.Zi(new Ud(i),r,t)}},{key:"Nr",value:function(e,t){var n=this._r.exec(e),r=Number(n[1]);return hw.Zi(r,t)}},{key:"yr",value:function(e){return pw.Zi(e)}},{key:"Or",value:function(e){return JSON.parse(e)}},{key:"Cr",value:function(){var e=Fe(Re().mark((function e(t){return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.user.uid!==this.currentUser.uid){e.next=2;break}return e.abrupt("return",this.syncEngine.Fr(t.batchId,t.state,t.error));case 2:Zd("SharedClientState","Ignoring mutation for non-active user ".concat(t.user.uid));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"kr",value:function(e){return this.syncEngine.$r(e.targetId,e.state,e.error)}},{key:"Vr",value:function(e,t){var n=this,r=t?this.ur.insert(e,t):this.ur.remove(e),i=this.Ir(this.ur),a=this.Ir(r),o=[],u=[];return a.forEach((function(e){i.has(e)||o.push(e)})),i.forEach((function(e){a.has(e)||u.push(e)})),this.syncEngine.Br(o,u).then((function(){n.ur=r}))}},{key:"pr",value:function(e){this.ur.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}},{key:"Ir",value:function(e){var t=Om();return e.forEach((function(e,n){t=t.unionWith(n.activeTargetIds)})),t}}],[{key:"C",value:function(e){return!(!e||!e.localStorage)}}]),e}(),mw=function(){function e(){Z(this,e),this.Lr=new vw,this.qr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return G(e,[{key:"addPendingMutation",value:function(e){}},{key:"updateMutationState",value:function(e,t,n){}},{key:"addLocalQueryTarget",value:function(e){return this.Lr.er(e),this.qr[e]||"not-current"}},{key:"updateQueryState",value:function(e,t,n){this.qr[e]=t}},{key:"removeLocalQueryTarget",value:function(e){this.Lr.nr(e)}},{key:"isLocalQueryTarget",value:function(e){return this.Lr.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){delete this.qr[e]}},{key:"getAllActiveQueryTargets",value:function(){return this.Lr.activeTargetIds}},{key:"isActiveQueryTarget",value:function(e){return this.Lr.activeTargetIds.has(e)}},{key:"start",value:function(){return this.Lr=new vw,Promise.resolve()}},{key:"handleUserChange",value:function(e,t,n){}},{key:"setOnlineState",value:function(e){}},{key:"shutdown",value:function(){}},{key:"writeSequenceNumber",value:function(e){}},{key:"notifyBundleLoaded",value:function(e){}}]),e}(),gw=function(){function e(){Z(this,e)}return G(e,[{key:"Ur",value:function(e){}},{key:"shutdown",value:function(){}}]),e}(),kw=function(){function e(){var t=this;Z(this,e),this.Kr=function(){return t.Gr()},this.Qr=function(){return t.jr()},this.Wr=[],this.zr()}return G(e,[{key:"Ur",value:function(e){this.Wr.push(e)}},{key:"shutdown",value:function(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}},{key:"zr",value:function(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}},{key:"Gr",value:function(){Zd("ConnectivityMonitor","Network connectivity changed: AVAILABLE");var e,t=Q(this.Wr);try{for(t.s();!(e=t.n()).done;){(0,e.value)(0)}}catch(n){t.e(n)}finally{t.f()}}},{key:"jr",value:function(){Zd("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");var e,t=Q(this.Wr);try{for(t.s();!(e=t.n()).done;){(0,e.value)(1)}}catch(n){t.e(n)}finally{t.f()}}}],[{key:"C",value:function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}]),e}(),bw={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"},ww=function(){function e(t){Z(this,e),this.Hr=t.Hr,this.Jr=t.Jr}return G(e,[{key:"Yr",value:function(e){this.Xr=e}},{key:"Zr",value:function(e){this.eo=e}},{key:"onMessage",value:function(e){this.no=e}},{key:"close",value:function(){this.Jr()}},{key:"send",value:function(e){this.Hr(e)}},{key:"so",value:function(){this.Xr()}},{key:"io",value:function(e){this.eo(e)}},{key:"ro",value:function(e){this.no(e)}}]),e}(),xw=function(e){X(n,e);var t=ne(n);function n(e){var r;return Z(this,n),(r=t.call(this,e)).forceLongPolling=e.forceLongPolling,r.autoDetectLongPolling=e.autoDetectLongPolling,r.useFetchStreams=e.useFetchStreams,r}return G(n,[{key:"fo",value:function(e,t,n,r){return new Promise((function(i,a){var o=new Vd;o.setWithCredentials(!0),o.listenOnce(Pd.COMPLETE,(function(){try{switch(o.getLastErrorCode()){case Dd.NO_ERROR:var t=o.getResponseJson();Zd("Connection","XHR received:",JSON.stringify(t)),i(t);break;case Dd.TIMEOUT:Zd("Connection",'RPC "'+e+'" timed out'),a(new Xd(Yd.DEADLINE_EXCEEDED,"Request time out"));break;case Dd.HTTP_ERROR:var n=o.getStatus();if(Zd("Connection",'RPC "'+e+'" failed with status:',n,"response text:",o.getResponseText()),n>0){var r=o.getResponseJson();Array.isArray(r)&&(r=r[0]);var u=null==r?void 0:r.error;if(u&&u.status&&u.message){var s=function(e){var t=e.toLowerCase().replace(/_/g,"-");return Object.values(Yd).indexOf(t)>=0?t:Yd.UNKNOWN}(u.status);a(new Xd(s,u.message))}else a(new Xd(Yd.UNKNOWN,"Server responded with status "+o.getStatus()))}else a(new Xd(Yd.UNAVAILABLE,"Connection failed."));break;default:Hd()}}finally{Zd("Connection",'RPC "'+e+'" completed.')}}));var u=JSON.stringify(r);o.send(t,"POST",u,n,15)}))}},{key:"wo",value:function(e,t,n){var r=[this.oo,"/","google.firestore.v1.Firestore","/",e,"/channel"],i=Nd(),a=Od(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(o.xmlHttpFactory=new Md({})),this.lo(o.initMessageHeaders,t,n),o.encodeInitMessageHeaders=!0;var u=r.join("");Zd("Connection","Creating WebChannel: "+u,o);var s=i.createWebChannel(u,o),c=!1,l=!1,f=new ww({Hr:function(e){l?Zd("Connection","Not sending because WebChannel is closed:",e):(c||(Zd("Connection","Opening WebChannel transport."),s.open(),c=!0),Zd("Connection","WebChannel sending:",e),s.send(e))},Jr:function(){return s.close()}}),h=function(e,t,n){e.listen(t,(function(e){try{n(e)}catch(e){setTimeout((function(){throw e}),0)}}))};return h(s,Fd.EventType.OPEN,(function(){l||Zd("Connection","WebChannel transport opened.")})),h(s,Fd.EventType.CLOSE,(function(){l||(l=!0,Zd("Connection","WebChannel transport closed"),f.io())})),h(s,Fd.EventType.ERROR,(function(e){l||(l=!0,Wd("Connection","WebChannel transport errored:",e),f.io(new Xd(Yd.UNAVAILABLE,"The operation could not be completed")))})),h(s,Fd.EventType.MESSAGE,(function(e){var t;if(!l){var n=e.data[0];Qd(!!n);var r=n,i=r.error||(null===(t=r[0])||void 0===t?void 0:t.error);if(i){Zd("Connection","WebChannel received error:",i);var a=i.status,o=function(e){var t=fm[e];if(void 0!==t)return mm(t)}(a),u=i.message;void 0===o&&(o=Yd.INTERNAL,u="Unknown error status: "+a+" with message "+i.message),l=!0,f.io(new Xd(o,u)),s.close()}else Zd("Connection","WebChannel received:",n),f.ro(n)}})),h(a,Rd.STAT_EVENT,(function(e){e.stat===Ld.PROXY?Zd("Connection","Detected buffering proxy"):e.stat===Ld.NOPROXY&&Zd("Connection","Detected no buffering proxy")})),setTimeout((function(){f.so()}),0),f}}]),n}(function(){function e(t){Z(this,e),this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http";this.oo=n+"://"+t.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return G(e,[{key:"co",get:function(){return!1}},{key:"ao",value:function(e,t,n,r,i){var a=this.ho(e,t);Zd("RestConnection","Sending: ",a,n);var o={};return this.lo(o,r,i),this.fo(e,a,o,n).then((function(e){return Zd("RestConnection","Received: ",e),e}),(function(t){throw Wd("RestConnection","".concat(e," failed with error: "),t,"url: ",a,"request:",n),t}))}},{key:"_o",value:function(e,t,n,r,i,a){return this.ao(e,t,n,r,i)}},{key:"lo",value:function(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+zd,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((function(t,n){return e[n]=t})),n&&n.headers.forEach((function(t,n){return e[n]=t}))}},{key:"ho",value:function(e,t){var n=bw[e];return"".concat(this.oo,"/v1/").concat(t,":").concat(n)}}]),e}());function _w(){return"undefined"!=typeof window?window:null}function Iw(){return"undefined"!=typeof document?document:null}function Sw(e){return new Zm(e,!0)}var Ew=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;Z(this,e),this.Hs=t,this.timerId=n,this.mo=r,this.yo=i,this.po=a,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}return G(e,[{key:"reset",value:function(){this.Io=0}},{key:"Ao",value:function(){this.Io=this.po}},{key:"Ro",value:function(e){var t=this;this.cancel();var n=Math.floor(this.Io+this.bo()),r=Math.max(0,Date.now()-this.Eo),i=Math.max(0,n-r);i>0&&Zd("ExponentialBackoff","Backing off for ".concat(i," ms (base delay: ").concat(this.Io," ms, delay with jitter: ").concat(n," ms, last attempt: ").concat(r," ms ago)")),this.To=this.Hs.enqueueAfterDelay(this.timerId,i,(function(){return t.Eo=Date.now(),e()})),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}},{key:"Po",value:function(){null!==this.To&&(this.To.skipDelay(),this.To=null)}},{key:"cancel",value:function(){null!==this.To&&(this.To.cancel(),this.To=null)}},{key:"bo",value:function(){return(Math.random()-.5)*this.Io}}]),e}(),Tw=function(){function e(t,n,r,i,a,o,u,s){Z(this,e),this.Hs=t,this.vo=r,this.Vo=i,this.connection=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=u,this.listener=s,this.state=0,this.So=0,this.Do=null,this.Co=null,this.stream=null,this.xo=new Ew(t,n)}return G(e,[{key:"No",value:function(){return 1===this.state||5===this.state||this.ko()}},{key:"ko",value:function(){return 2===this.state||3===this.state}},{key:"start",value:function(){4!==this.state?this.auth():this.Oo()}},{key:"stop",value:function(){var e=Fe(Re().mark((function e(){return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.No(),!e.t0){e.next=4;break}return e.next=4,this.close(0);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Mo",value:function(){this.state=0,this.xo.reset()}},{key:"Fo",value:function(){var e=this;this.ko()&&null===this.Do&&(this.Do=this.Hs.enqueueAfterDelay(this.vo,6e4,(function(){return e.$o()})))}},{key:"Bo",value:function(e){this.Lo(),this.stream.send(e)}},{key:"$o",value:function(){var e=Fe(Re().mark((function e(){return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.ko()){e.next=2;break}return e.abrupt("return",this.close(0));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Lo",value:function(){this.Do&&(this.Do.cancel(),this.Do=null)}},{key:"qo",value:function(){this.Co&&(this.Co.cancel(),this.Co=null)}},{key:"close",value:function(){var e=Fe(Re().mark((function e(t,n){return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.Lo(),this.qo(),this.xo.cancel(),this.So++,4!==t?this.xo.reset():n&&n.code===Yd.RESOURCE_EXHAUSTED?(Kd(n.toString()),Kd("Using maximum backoff delay to prevent overloading the backend."),this.xo.Ao()):n&&n.code===Yd.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.Uo(),this.stream.close(),this.stream=null),this.state=t,e.next=9,this.listener.Zr(n);case 9:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"Uo",value:function(){}},{key:"auth",value:function(){var e=this;this.state=1;var t=this.Ko(this.So),n=this.So;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((function(t){var r=(0,a.Z)(t,2),i=r[0],o=r[1];e.So===n&&e.Go(i,o)}),(function(n){t((function(){var t=new Xd(Yd.UNKNOWN,"Fetching auth token failed: "+n.message);return e.Qo(t)}))}))}},{key:"Go",value:function(e,t){var n=this,r=this.Ko(this.So);this.stream=this.jo(e,t),this.stream.Yr((function(){r((function(){return n.state=2,n.Co=n.Hs.enqueueAfterDelay(n.Vo,1e4,(function(){return n.ko()&&(n.state=3),Promise.resolve()})),n.listener.Yr()}))})),this.stream.Zr((function(e){r((function(){return n.Qo(e)}))})),this.stream.onMessage((function(e){r((function(){return n.onMessage(e)}))}))}},{key:"Oo",value:function(){var e=this;this.state=5,this.xo.Ro(Fe(Re().mark((function t(){return Re().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.state=0,e.start();case 1:case"end":return t.stop()}}),t)}))))}},{key:"Qo",value:function(e){return Zd("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}},{key:"Ko",value:function(e){var t=this;return function(n){t.Hs.enqueueAndForget((function(){return t.So===e?n():(Zd("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}}}]),e}(),Cw=function(e){X(n,e);var t=ne(n);function n(e,r,i,a,o,u){var s;return Z(this,n),(s=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,i,a,u)).yt=o,s}return G(n,[{key:"jo",value:function(e,t){return this.connection.wo("Listen",e,t)}},{key:"onMessage",value:function(e){this.xo.reset();var t=function(e,t){var n;if("targetChange"in t){t.targetChange;var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:Hd()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],a=function(e,t){return e.wt?(Qd(void 0===t||"string"==typeof t),ev.fromBase64String(t||"")):(Qd(void 0===t||t instanceof Uint8Array),ev.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,u=o&&function(e){var t=void 0===e.code?Yd.UNKNOWN:mm(e.code);return new Xd(t,e.message||"")}(o);n=new Mm(r,i,a,u||null)}else if("documentChange"in t){t.documentChange;var s=t.documentChange;s.document,s.document.name,s.document.updateTime;var c=Xm(e,s.document.name),l=Hm(s.document.updateTime),f=s.document.createTime?Hm(s.document.createTime):pp.min(),h=new oy({mapValue:{fields:s.document.fields}}),d=sy.newFoundDocument(c,l,f,h),p=s.targetIds||[],v=s.removedTargetIds||[];n=new Rm(p,v,d.key,d)}else if("documentDelete"in t){t.documentDelete;var y=t.documentDelete;y.document;var m=Xm(e,y.document),g=y.readTime?Hm(y.readTime):pp.min(),k=sy.newNoDocument(m,g),b=y.removedTargetIds||[];n=new Rm([],b,k.key,k)}else if("documentRemove"in t){t.documentRemove;var w=t.documentRemove;w.document;var x=Xm(e,w.document),_=w.removedTargetIds||[];n=new Rm([],_,x,null)}else{if(!("filter"in t))return Hd();t.filter;var I=t.filter;I.targetId;var S=I.count||0,E=new vm(S),T=I.targetId;n=new Lm(T,E)}return n}(this.yt,e),n=function(e){if(!("targetChange"in e))return pp.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?pp.min():t.readTime?Hm(t.readTime):pp.min()}(e);return this.listener.Wo(t,n)}},{key:"zo",value:function(e){var t={};t.database=tg(this.yt),t.addTarget=function(e,t){var n,r=t.target;return(n=dy(r)?{documents:sg(e,r)}:{query:cg(e,r)}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0?n.resumeToken=Wm(e,t.resumeToken):t.snapshotVersion.compareTo(pp.min())>0&&(n.readTime=Km(e,t.snapshotVersion.toTimestamp())),n}(this.yt,e);var n=function(e,t){var n=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Hd()}}(0,t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.yt,e);n&&(t.labels=n),this.Bo(t)}},{key:"Ho",value:function(e){var t={};t.database=tg(this.yt),t.removeTarget=e,this.Bo(t)}}]),n}(Tw),Aw=function(e){X(n,e);var t=ne(n);function n(e,r,i,a,o,u){var s;return Z(this,n),(s=t.call(this,e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,i,a,u)).yt=o,s.Jo=!1,s}return G(n,[{key:"Yo",get:function(){return this.Jo}},{key:"start",value:function(){this.Jo=!1,this.lastStreamToken=void 0,bn(J(n.prototype),"start",this).call(this)}},{key:"Uo",value:function(){this.Jo&&this.Xo([])}},{key:"jo",value:function(e,t){return this.connection.wo("Write",e,t)}},{key:"onMessage",value:function(e){if(Qd(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Jo){this.xo.reset();var t=function(e,t){return e&&e.length>0?(Qd(void 0!==t),e.map((function(e){return function(e,t){var n=e.updateTime?Hm(e.updateTime):Hm(t);return n.isEqual(pp.min())&&(n=Hm(t)),new Yy(n,e.transformResults||[])}(e,t)}))):[]}(e.writeResults,e.commitTime),n=Hm(e.commitTime);return this.listener.Zo(n,t)}return Qd(!e.writeResults||0===e.writeResults.length),this.Jo=!0,this.listener.tu()}},{key:"eu",value:function(){var e={};e.database=tg(this.yt),this.Bo(e)}},{key:"Xo",value:function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map((function(e){return og(t.yt,e)}))};this.Bo(n)}}]),n}(Tw),Nw=function(e){X(n,e);var t=ne(n);function n(e,r,i,a){var o;return Z(this,n),(o=t.call(this)).authCredentials=e,o.appCheckCredentials=r,o.connection=i,o.yt=a,o.nu=!1,o}return G(n,[{key:"su",value:function(){if(this.nu)throw new Xd(Yd.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"ao",value:function(e,t,n){var r=this;return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var o=(0,a.Z)(i,2),u=o[0],s=o[1];return r.connection.ao(e,t,n,u,s)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===Yd.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new Xd(Yd.UNKNOWN,e.toString())}))}},{key:"_o",value:function(e,t,n,r){var i=this;return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(o){var u=(0,a.Z)(o,2),s=u[0],c=u[1];return i.connection._o(e,t,n,s,c,r)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===Yd.UNAUTHENTICATED&&(i.authCredentials.invalidateToken(),i.appCheckCredentials.invalidateToken()),e):new Xd(Yd.UNKNOWN,e.toString())}))}},{key:"terminate",value:function(){this.nu=!0}}]),n}(function(){return G((function e(){Z(this,e)}))}());var Ow=function(){function e(t,n){Z(this,e),this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.iu=0,this.ru=null,this.ou=!0}return G(e,[{key:"uu",value:function(){var e=this;0===this.iu&&(this.cu("Unknown"),this.ru=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return e.ru=null,e.au("Backend didn't respond within 10 seconds."),e.cu("Offline"),Promise.resolve()})))}},{key:"hu",value:function(e){"Online"===this.state?this.cu("Unknown"):(this.iu++,this.iu>=1&&(this.lu(),this.au("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.cu("Offline")))}},{key:"set",value:function(e){this.lu(),this.iu=0,"Online"===e&&(this.ou=!1),this.cu(e)}},{key:"cu",value:function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}},{key:"au",value:function(e){var t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.ou?(Kd(t),this.ou=!1):Zd("OnlineStateTracker",t)}},{key:"lu",value:function(){null!==this.ru&&(this.ru.cancel(),this.ru=null)}}]),e}(),Dw=G((function e(t,n,r,i,a){var o=this;Z(this,e),this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.fu=[],this.du=new Map,this._u=new Set,this.wu=[],this.mu=a,this.mu.Ur((function(e){r.enqueueAndForget(Fe(Re().mark((function e(){return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=qw(o),!e.t0){e.next=5;break}return Zd("RemoteStore","Restarting streams for network reachability change."),e.next=5,function(){var e=Fe(Re().mark((function e(t){var n;return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=$d(t))._u.add(4),e.next=4,Lw(n);case 4:return n.gu.set("Unknown"),n._u.delete(4),e.next=8,Pw(n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(o);case 5:case"end":return e.stop()}}),e)}))))})),this.gu=new Ow(r,i)}));function Pw(e){return Rw.apply(this,arguments)}function Rw(){return Rw=Fe(Re().mark((function e(t){var n,r,i;return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!qw(t)){e.next=18;break}n=Q(t.wu),e.prev=2,n.s();case 4:if((r=n.n()).done){e.next=10;break}return i=r.value,e.next=8,i(!0);case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),n.e(e.t0);case 15:return e.prev=15,n.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[2,12,15,18]])}))),Rw.apply(this,arguments)}function Lw(e){return Mw.apply(this,arguments)}function Mw(){return Mw=Fe(Re().mark((function e(t){var n,r,i;return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Q(t.wu),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=9;break}return i=r.value,e.next=7,i(!1);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n.e(e.t0);case 14:return e.prev=14,n.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])}))),Mw.apply(this,arguments)}function Fw(e,t){var n=$d(e);n.du.has(t.targetId)||(n.du.set(t.targetId,t),Bw(n)?zw(n):gx(n).ko()&&jw(n,t))}function Vw(e,t){var n=$d(e),r=gx(n);n.du.delete(t),r.ko()&&Uw(n,t),0===n.du.size&&(r.ko()?r.Fo():qw(n)&&n.gu.set("Unknown"))}function jw(e,t){e.yu.Ot(t.targetId),gx(e).zo(t)}function Uw(e,t){e.yu.Ot(t),gx(e).Ho(t)}function zw(e){e.yu=new Vm({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},ne:function(t){return e.du.get(t)||null}}),gx(e).start(),e.gu.uu()}function Bw(e){return qw(e)&&!gx(e).No()&&e.du.size>0}function qw(e){return 0===$d(e)._u.size}function Zw(e){e.yu=void 0}function Kw(e){return Ww.apply(this,arguments)}function Ww(){return Ww=Fe(Re().mark((function e(t){return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.du.forEach((function(e,n){jw(t,e)}));case 1:case"end":return e.stop()}}),e)}))),Ww.apply(this,arguments)}function Gw(e,t){return Hw.apply(this,arguments)}function Hw(){return Hw=Fe(Re().mark((function e(t,n){return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Zw(t),Bw(t)?(t.gu.hu(n),zw(t)):t.gu.set("Unknown");case 1:case"end":return e.stop()}}),e)}))),Hw.apply(this,arguments)}function Qw(e,t,n){return $w.apply(this,arguments)}function $w(){return $w=Fe(Re().mark((function e(t,n,r){var i;return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.gu.set("Online"),!(n instanceof Mm&&2===n.state&&n.cause)){e.next=13;break}return e.prev=1,e.next=4,function(){var e=Fe(Re().mark((function e(t,n){var r,i,a,o;return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.cause,i=Q(n.targetIds),e.prev=2,i.s();case 4:if((a=i.n()).done){e.next=14;break}if(o=a.value,e.t0=t.du.has(o),!e.t0){e.next=12;break}return e.next=10,t.remoteSyncer.rejectListen(o,r);case 10:t.du.delete(o),t.yu.removeTarget(o);case 12:e.next=4;break;case 14:e.next=19;break;case 16:e.prev=16,e.t1=e.catch(2),i.e(e.t1);case 19:return e.prev=19,i.f(),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[2,16,19,22]])})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:e.next=11;break;case 6:return e.prev=6,e.t0=e.catch(1),Zd("RemoteStore","Failed to remove targets %s: %s ",n.targetIds.join(","),e.t0),e.next=11,Yw(t,e.t0);case 11:case 22:e.next=29;break;case 13:if(n instanceof Rm?t.yu.Kt(n):n instanceof Lm?t.yu.Jt(n):t.yu.jt(n),r.isEqual(pp.min())){e.next=29;break}return e.prev=14,e.next=17,Gb(t.localStore);case 17:if(i=e.sent,e.t1=r.compareTo(i)>=0,!e.t1){e.next=22;break}return e.next=22,function(e,t){var n=e.yu.Zt(t);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=e.du.get(r);i&&e.du.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((function(t){var n=e.du.get(t);if(n){e.du.set(t,n.withResumeToken(ev.EMPTY_BYTE_STRING,n.snapshotVersion)),Uw(e,t);var r=new Xg(n.target,t,1,n.sequenceNumber);jw(e,r)}})),e.remoteSyncer.applyRemoteEvent(n)}(t,r);case 24:return e.prev=24,e.t2=e.catch(14),Zd("RemoteStore","Failed to raise snapshot:",e.t2),e.next=29,Yw(t,e.t2);case 29:case"end":return e.stop()}}),e,null,[[1,6],[14,24]])}))),$w.apply(this,arguments)}function Yw(e,t,n){return Xw.apply(this,arguments)}function Xw(){return Xw=Fe(Re().mark((function e(t,n,r){return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Vp(n)){e.next=2;break}throw n;case 2:return t._u.add(1),e.next=5,Lw(t);case 5:t.gu.set("Offline"),r||(r=function(){return Gb(t.localStore)}),t.asyncQueue.enqueueRetryable(Fe(Re().mark((function e(){return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Zd("RemoteStore","Retrying IndexedDB access"),e.next=3,r();case 3:return t._u.delete(1),e.next=6,Pw(t);case 6:case"end":return e.stop()}}),e)}))));case 8:case"end":return e.stop()}}),e)}))),Xw.apply(this,arguments)}function Jw(e,t){return t().catch((function(n){return Yw(e,n,t)}))}function ex(e){return tx.apply(this,arguments)}function tx(){return tx=Fe(Re().mark((function e(t){var n,r,i,a;return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=$d(t),r=kx(n),i=n.fu.length>0?n.fu[n.fu.length-1].batchId:-1;case 2:if(!nx(n)){e.next=19;break}return e.prev=3,e.next=6,$b(n.localStore,i);case 6:if(null!==(a=e.sent)){e.next=10;break}return 0===n.fu.length&&r.Fo(),e.abrupt("break",19);case 10:i=a.batchId,rx(n,a),e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(3),e.next=17,Yw(n,e.t0);case 17:e.next=2;break;case 19:ix(n)&&ax(n);case 20:case"end":return e.stop()}}),e,null,[[3,13]])}))),tx.apply(this,arguments)}function nx(e){return qw(e)&&e.fu.length<10}function rx(e,t){e.fu.push(t);var n=kx(e);n.ko()&&n.Yo&&n.Xo(t.mutations)}function ix(e){return qw(e)&&!kx(e).No()&&e.fu.length>0}function ax(e){kx(e).start()}function ox(e){return ux.apply(this,arguments)}function ux(){return ux=Fe(Re().mark((function e(t){return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:kx(t).eu();case 1:case"end":return e.stop()}}),e)}))),ux.apply(this,arguments)}function sx(e){return cx.apply(this,arguments)}function cx(){return cx=Fe(Re().mark((function e(t){var n,r,i,a;return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=kx(t),r=Q(t.fu);try{for(r.s();!(i=r.n()).done;)a=i.value,n.Xo(a.mutations)}catch(o){r.e(o)}finally{r.f()}case 3:case"end":return e.stop()}}),e)}))),cx.apply(this,arguments)}function lx(e,t,n){return fx.apply(this,arguments)}function fx(){return fx=Fe(Re().mark((function e(t,n,r){var i,a;return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.fu.shift(),a=$g.from(i,n,r),e.next=3,Jw(t,(function(){return t.remoteSyncer.applySuccessfulWrite(a)}));case 3:return e.next=5,ex(t);case 5:case"end":return e.stop()}}),e)}))),fx.apply(this,arguments)}function hx(e,t){return dx.apply(this,arguments)}function dx(){return dx=Fe(Re().mark((function e(t,n){return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=n&&kx(t).Yo,!e.t0){e.next=4;break}return e.next=4,function(){var e=Fe(Re().mark((function e(t,n){var r,i;return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!ym(i=n.code)||i===Yd.ABORTED){e.next=7;break}return r=t.fu.shift(),kx(t).Mo(),e.next=5,Jw(t,(function(){return t.remoteSyncer.rejectFailedWrite(r.batchId,n)}));case 5:return e.next=7,ex(t);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:ix(t)&&ax(t);case 5:case"end":return e.stop()}}),e)}))),dx.apply(this,arguments)}function px(e,t){return vx.apply(this,arguments)}function vx(){return vx=Fe(Re().mark((function e(t,n){var r,i;return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=$d(t)).asyncQueue.verifyOperationInProgress(),Zd("RemoteStore","RemoteStore received new credentials"),i=qw(r),r._u.add(3),e.next=6,Lw(r);case 6:return i&&r.gu.set("Unknown"),e.next=9,r.remoteSyncer.handleCredentialChange(n);case 9:return r._u.delete(3),e.next=12,Pw(r);case 12:case"end":return e.stop()}}),e)}))),vx.apply(this,arguments)}function yx(e,t){return mx.apply(this,arguments)}function mx(){return mx=Fe(Re().mark((function e(t,n){var r;return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=$d(t),!n){e.next=7;break}return r._u.delete(2),e.next=5,Pw(r);case 5:e.next=13;break;case 7:if(e.t0=n,e.t0){e.next=13;break}return r._u.add(2),e.next=12,Lw(r);case 12:r.gu.set("Unknown");case 13:case"end":return e.stop()}}),e)}))),mx.apply(this,arguments)}function gx(e){return e.pu||(e.pu=function(e,t,n){var r=$d(e);return r.su(),new Cw(t,r.connection,r.authCredentials,r.appCheckCredentials,r.yt,n)}(e.datastore,e.asyncQueue,{Yr:Kw.bind(null,e),Zr:Gw.bind(null,e),Wo:Qw.bind(null,e)}),e.wu.push(function(){var t=Fe(Re().mark((function t(n){return Re().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=4;break}e.pu.Mo(),Bw(e)?zw(e):e.gu.set("Unknown"),t.next=7;break;case 4:return t.next=6,e.pu.stop();case 6:Zw(e);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.pu}function kx(e){return e.Iu||(e.Iu=function(e,t,n){var r=$d(e);return r.su(),new Aw(t,r.connection,r.authCredentials,r.appCheckCredentials,r.yt,n)}(e.datastore,e.asyncQueue,{Yr:ox.bind(null,e),Zr:hx.bind(null,e),tu:sx.bind(null,e),Zo:lx.bind(null,e)}),e.wu.push(function(){var t=Fe(Re().mark((function t(n){return Re().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=6;break}return e.Iu.Mo(),t.next=4,ex(e);case 4:t.next=9;break;case 6:return t.next=8,e.Iu.stop();case 8:e.fu.length>0&&(Zd("RemoteStore","Stopping write stream with ".concat(e.fu.length," pending writes")),e.fu=[]);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.Iu}var bx=function(){function e(t,n,r,i,a){Z(this,e),this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new Jd,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}return G(e,[{key:"start",value:function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)}},{key:"skipDelay",value:function(){return this.handleDelayElapsed()}},{key:"cancel",value:function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Xd(Yd.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}},{key:"handleDelayElapsed",value:function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))}},{key:"clearTimeout",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}))}],[{key:"createAndSchedule",value:function(t,n,r,i,a){var o=new e(t,n,Date.now()+r,i,a);return o.start(r),o}}]),e}();function wx(e,t){if(Kd("AsyncQueue","".concat(t,": ").concat(e)),Vp(e))return new Xd(Yd.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}var xx=function(){function e(t){Z(this,e),this.comparator=t?function(e,n){return t(e,n)||kp.comparator(e.key,n.key)}:function(e,t){return kp.comparator(e.key,t.key)},this.keyedMap=xm(),this.sortedSet=new Jv(this.comparator)}return G(e,[{key:"has",value:function(e){return null!=this.keyedMap.get(e)}},{key:"get",value:function(e){return this.keyedMap.get(e)}},{key:"first",value:function(){return this.sortedSet.minKey()}},{key:"last",value:function(){return this.sortedSet.maxKey()}},{key:"isEmpty",value:function(){return this.sortedSet.isEmpty()}},{key:"indexOf",value:function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}},{key:"size",get:function(){return this.sortedSet.size}},{key:"forEach",value:function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"add",value:function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}},{key:"delete",value:function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}},{key:"copy",value:function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}],[{key:"emptySet",value:function(t){return new e(t.comparator)}}]),e}(),_x=function(){function e(){Z(this,e),this.Tu=new Jv(kp.comparator)}return G(e,[{key:"track",value:function(e){var t=e.doc.key,n=this.Tu.get(t);n?0!==e.type&&3===n.type?this.Tu=this.Tu.insert(t,e):3===e.type&&1!==n.type?this.Tu=this.Tu.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.Tu=this.Tu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.Tu=this.Tu.remove(t):1===e.type&&2===n.type?this.Tu=this.Tu.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):Hd():this.Tu=this.Tu.insert(t,e)}},{key:"Eu",value:function(){var e=[];return this.Tu.inorderTraversal((function(t,n){e.push(n)})),e}}]),e}(),Ix=function(){function e(t,n,r,i,a,o,u,s,c){Z(this,e),this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=u,this.excludesMetadataChanges=s,this.hasCachedResults=c}return G(e,[{key:"hasPendingWrites",get:function(){return!this.mutatedKeys.isEmpty()}},{key:"isEqual",value:function(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Cy(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}],[{key:"fromInitialDocuments",value:function(t,n,r,i,a){var o=[];return n.forEach((function(e){o.push({type:0,doc:e})})),new e(t,n,xx.emptySet(n),o,r,i,!0,!1,a)}}]),e}(),Sx=G((function e(){Z(this,e),this.Au=void 0,this.listeners=[]})),Ex=G((function e(){Z(this,e),this.queries=new gm((function(e){return Ay(e)}),Cy),this.onlineState="Unknown",this.Ru=new Set}));function Tx(e,t){return Cx.apply(this,arguments)}function Cx(){return Cx=Fe(Re().mark((function e(t,n){var r,i,a,o,u;return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=$d(t),i=n.query,a=!1,(o=r.queries.get(i))||(a=!0,o=new Sx),!a){e.next=13;break}return e.prev=3,e.next=6,r.onListen(i);case 6:o.Au=e.sent,e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(3),u=wx(e.t0,"Initialization of query '".concat(Ny(n.query),"' failed")),e.abrupt("return",void n.onError(u));case 13:r.queries.set(i,o),o.listeners.push(n),n.bu(r.onlineState),o.Au&&n.Pu(o.Au)&&Px(r);case 14:case"end":return e.stop()}}),e,null,[[3,9]])}))),Cx.apply(this,arguments)}function Ax(e,t){return Nx.apply(this,arguments)}function Nx(){return Nx=Fe(Re().mark((function e(t,n){var r,i,a,o,u;return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=$d(t),i=n.query,a=!1,(o=r.queries.get(i))&&(u=o.listeners.indexOf(n))>=0&&(o.listeners.splice(u,1),a=0===o.listeners.length),!a){e.next=6;break}return e.abrupt("return",(r.queries.delete(i),r.onUnlisten(i)));case 6:case"end":return e.stop()}}),e)}))),Nx.apply(this,arguments)}function Ox(e,t){var n,r=$d(e),i=!1,a=Q(t);try{for(a.s();!(n=a.n()).done;){var o=n.value,u=o.query,s=r.queries.get(u);if(s){var c,l=Q(s.listeners);try{for(l.s();!(c=l.n()).done;){c.value.Pu(o)&&(i=!0)}}catch(f){l.e(f)}finally{l.f()}s.Au=o}}}catch(f){a.e(f)}finally{a.f()}i&&Px(r)}function Dx(e,t,n){var r=$d(e),i=r.queries.get(t);if(i){var a,o=Q(i.listeners);try{for(o.s();!(a=o.n()).done;){a.value.onError(n)}}catch(u){o.e(u)}finally{o.f()}}r.queries.delete(t)}function Px(e){e.Ru.forEach((function(e){e.next()}))}var Rx=function(){function e(t,n,r){Z(this,e),this.query=t,this.vu=n,this.Vu=!1,this.Su=null,this.onlineState="Unknown",this.options=r||{}}return G(e,[{key:"Pu",value:function(e){if(!this.options.includeMetadataChanges){var t,n=[],r=Q(e.docChanges);try{for(r.s();!(t=r.n()).done;){var i=t.value;3!==i.type&&n.push(i)}}catch(o){r.e(o)}finally{r.f()}e=new Ix(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}var a=!1;return this.Vu?this.Du(e)&&(this.vu.next(e),a=!0):this.Cu(e,this.onlineState)&&(this.xu(e),a=!0),this.Su=e,a}},{key:"onError",value:function(e){this.vu.error(e)}},{key:"bu",value:function(e){this.onlineState=e;var t=!1;return this.Su&&!this.Vu&&this.Cu(this.Su,e)&&(this.xu(this.Su),t=!0),t}},{key:"Cu",value:function(e,t){if(!e.fromCache)return!0;var n="Offline"!==t;return(!this.options.Nu||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}},{key:"Du",value:function(e){if(e.docChanges.length>0)return!0;var t=this.Su&&this.Su.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}},{key:"xu",value:function(e){e=Ix.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Vu=!0,this.vu.next(e)}}]),e}(),Lx=function(){function e(t,n){Z(this,e),this.ku=t,this.byteLength=n}return G(e,[{key:"Ou",value:function(){return"metadata"in this.ku}}]),e}(),Mx=function(){function e(t){Z(this,e),this.yt=t}return G(e,[{key:"Ji",value:function(e){return Xm(this.yt,e)}},{key:"Yi",value:function(e){return e.metadata.exists?ig(this.yt,e.document,!1):sy.newNoDocument(this.Ji(e.metadata.name),this.Xi(e.metadata.readTime))}},{key:"Xi",value:function(e){return Hm(e)}}]),e}(),Fx=function(){function e(t,n,r){Z(this,e),this.Mu=t,this.localStore=n,this.yt=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=Vx(t)}return G(e,[{key:"Fu",value:function(e){this.progress.bytesLoaded+=e.byteLength;var t=this.progress.documentsLoaded;if(e.ku.namedQuery)this.queries.push(e.ku.namedQuery);else if(e.ku.documentMetadata){this.documents.push({metadata:e.ku.documentMetadata}),e.ku.documentMetadata.exists||++t;var n=yp.fromString(e.ku.documentMetadata.name);this.collectionGroups.add(n.get(n.length-2))}else e.ku.document&&(this.documents[this.documents.length-1].document=e.ku.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}},{key:"$u",value:function(e){var t,n=new Map,r=new Mx(this.yt),i=Q(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;if(a.metadata.queries){var o,u=r.Ji(a.metadata.name),s=Q(a.metadata.queries);try{for(s.s();!(o=s.n()).done;){var c=o.value,l=(n.get(c)||Am()).add(u);n.set(c,l)}}catch(f){s.e(f)}finally{s.f()}}}}catch(f){i.e(f)}finally{i.f()}return n}},{key:"complete",value:function(){var e=Fe(Re().mark((function e(){var t,n,r,i,a;return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,iw(this.localStore,new Mx(this.yt),this.documents,this.Mu.id);case 2:t=e.sent,n=this.$u(this.documents),r=Q(this.queries),e.prev=5,r.s();case 7:if((i=r.n()).done){e.next=13;break}return a=i.value,e.next=11,ow(this.localStore,a,n.get(a.name));case 11:e.next=7;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(5),r.e(e.t0);case 18:return e.prev=18,r.f(),e.finish(18);case 21:return e.abrupt("return",(this.progress.taskState="Success",{progress:this.progress,Bu:this.collectionGroups,Lu:t}));case 22:case"end":return e.stop()}}),e,this,[[5,15,18,21]])})));return function(){return e.apply(this,arguments)}}()}]),e}();function Vx(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}var jx=G((function e(t){Z(this,e),this.key=t})),Ux=G((function e(t){Z(this,e),this.key=t})),zx=function(){function e(t,n){Z(this,e),this.query=t,this.qu=n,this.Uu=null,this.hasCachedResults=!1,this.current=!1,this.Ku=Am(),this.mutatedKeys=Am(),this.Gu=Py(t),this.Qu=new xx(this.Gu)}return G(e,[{key:"ju",get:function(){return this.qu}},{key:"Wu",value:function(e,t){var n=this,r=t?t.zu:new _x,i=t?t.Qu:this.Qu,a=t?t.mutatedKeys:this.mutatedKeys,o=i,u=!1,s="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,c="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((function(e,t){var l=i.get(e),f=Oy(n.query,t)?t:null,h=!!l&&n.mutatedKeys.has(l.key),d=!!f&&(f.hasLocalMutations||n.mutatedKeys.has(f.key)&&f.hasCommittedMutations),p=!1;l&&f?l.data.isEqual(f.data)?h!==d&&(r.track({type:3,doc:f}),p=!0):n.Hu(l,f)||(r.track({type:2,doc:f}),p=!0,(s&&n.Gu(f,s)>0||c&&n.Gu(f,c)<0)&&(u=!0)):!l&&f?(r.track({type:0,doc:f}),p=!0):l&&!f&&(r.track({type:1,doc:l}),p=!0,(s||c)&&(u=!0)),p&&(f?(o=o.add(f),a=d?a.add(e):a.delete(e)):(o=o.delete(e),a=a.delete(e)))})),null!==this.query.limit)for(;o.size>this.query.limit;){var l="F"===this.query.limitType?o.last():o.first();o=o.delete(l.key),a=a.delete(l.key),r.track({type:1,doc:l})}return{Qu:o,zu:r,$i:u,mutatedKeys:a}}},{key:"Hu",value:function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}},{key:"applyChanges",value:function(e,t,n){var r=this,i=this.Qu;this.Qu=e.Qu,this.mutatedKeys=e.mutatedKeys;var a=e.zu.Eu();a.sort((function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Hd()}};return n(e)-n(t)}(e.type,t.type)||r.Gu(e.doc,t.doc)})),this.Ju(n);var o=t?this.Yu():[],u=0===this.Ku.size&&this.current?1:0,s=u!==this.Uu;return this.Uu=u,0!==a.length||s?{snapshot:new Ix(this.query,e.Qu,i,a,e.mutatedKeys,0===u,s,!1,!!n&&n.resumeToken.approximateByteSize()>0),Xu:o}:{Xu:o}}},{key:"bu",value:function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Qu:this.Qu,zu:new _x,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Xu:[]}}},{key:"Zu",value:function(e){return!this.qu.has(e)&&!!this.Qu.has(e)&&!this.Qu.get(e).hasLocalMutations}},{key:"Ju",value:function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t.qu=t.qu.add(e)})),e.modifiedDocuments.forEach((function(e){})),e.removedDocuments.forEach((function(e){return t.qu=t.qu.delete(e)})),this.current=e.current)}},{key:"Yu",value:function(){var e=this;if(!this.current)return[];var t=this.Ku;this.Ku=Am(),this.Qu.forEach((function(t){e.Zu(t.key)&&(e.Ku=e.Ku.add(t.key))}));var n=[];return t.forEach((function(t){e.Ku.has(t)||n.push(new Ux(t))})),this.Ku.forEach((function(e){t.has(e)||n.push(new jx(e))})),n}},{key:"tc",value:function(e){this.qu=e.Hi,this.Ku=Am();var t=this.Wu(e.documents);return this.applyChanges(t,!0)}},{key:"ec",value:function(){return Ix.fromInitialDocuments(this.query,this.Qu,this.mutatedKeys,0===this.Uu,this.hasCachedResults)}}]),e}(),Bx=G((function e(t,n,r){Z(this,e),this.query=t,this.targetId=n,this.view=r})),qx=G((function e(t){Z(this,e),this.key=t,this.nc=!1})),Zx=function(){function e(t,n,r,i,a,o){Z(this,e),this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.sc={},this.ic=new gm((function(e){return Ay(e)}),Cy),this.rc=new Map,this.oc=new Set,this.uc=new Jv(kp.comparator),this.cc=new Map,this.ac=new Ib,this.hc={},this.lc=new Map,this.fc=eb.vn(),this.onlineState="Unknown",this.dc=void 0}return G(e,[{key:"isPrimaryClient",get:function(){return!0===this.dc}}]),e}();function Kx(e,t){return Wx.apply(this,arguments)}function Wx(){return Wx=Fe(Re().mark((function e(t,n){var r,i,a,o,u,s;return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=V_(t),!(o=r.ic.get(n))){e.next=6;break}i=o.targetId,r.sharedClientState.addLocalQueryTarget(i),a=o.view.ec(),e.next=15;break;case 6:return e.next=8,Yb(r.localStore,Sy(n));case 8:return u=e.sent,r.isPrimaryClient&&Fw(r.remoteStore,u),s=r.sharedClientState.addLocalQueryTarget(u.targetId),i=u.targetId,e.next=14,Gx(r,n,i,"current"===s,u.resumeToken);case 14:a=e.sent;case 15:return e.abrupt("return",a);case 16:case"end":return e.stop()}}),e)}))),Wx.apply(this,arguments)}function Gx(e,t,n,r,i){return Hx.apply(this,arguments)}function Hx(){return Hx=Fe(Re().mark((function e(t,n,r,i,a){var o,u,s,c,l,f;return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._c=function(e,n,r){return function(){var e=Fe(Re().mark((function e(t,n,r,i){var a,o,u;return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.view.Wu(r),e.t0=a.$i,!e.t0){e.next=6;break}return e.next=5,ew(t.localStore,n.query,!1).then((function(e){var t=e.documents;return n.view.Wu(t,a)}));case 5:a=e.sent;case 6:return o=i&&i.targetChanges.get(n.targetId),u=n.view.applyChanges(a,t.isPrimaryClient,o),e.abrupt("return",(p_(t,n.targetId,u.Xu),u.snapshot));case 8:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()(t,e,n,r)},e.next=3,ew(t.localStore,n,!0);case 3:return o=e.sent,u=new zx(n,o.Hi),s=u.Wu(o.documents),c=Pm.createSynthesizedTargetChangeForCurrentChange(r,i&&"Offline"!==t.onlineState,a),l=u.applyChanges(s,t.isPrimaryClient,c),p_(t,r,l.Xu),f=new Bx(n,r,u),e.abrupt("return",(t.ic.set(n,f),t.rc.has(r)?t.rc.get(r).push(n):t.rc.set(r,[n]),l.snapshot));case 11:case"end":return e.stop()}}),e)}))),Hx.apply(this,arguments)}function Qx(e,t){return $x.apply(this,arguments)}function $x(){return $x=Fe(Re().mark((function e(t,n){var r,i,a;return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=$d(t),i=r.ic.get(n),!((a=r.rc.get(i.targetId)).length>1)){e.next=3;break}return e.abrupt("return",(r.rc.set(i.targetId,a.filter((function(e){return!Cy(e,n)}))),void r.ic.delete(n)));case 3:if(!r.isPrimaryClient){e.next=11;break}if(r.sharedClientState.removeLocalQueryTarget(i.targetId),e.t0=r.sharedClientState.isActiveQueryTarget(i.targetId),e.t0){e.next=9;break}return e.next=9,Xb(r.localStore,i.targetId,!1).then((function(){r.sharedClientState.clearQueryState(i.targetId),Vw(r.remoteStore,i.targetId),h_(r,i.targetId)})).catch(Op);case 9:e.next=14;break;case 11:return h_(r,i.targetId),e.next=14,Xb(r.localStore,i.targetId,!0);case 14:case"end":return e.stop()}}),e)}))),$x.apply(this,arguments)}function Yx(e,t,n){return Xx.apply(this,arguments)}function Xx(){return Xx=Fe(Re().mark((function e(t,n,r){var i,a,o;return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=j_(t),e.prev=1,e.next=4,function(e,t){var n,r,i=$d(e),a=dp.now(),o=t.reduce((function(e,t){return e.add(t.key)}),Am());return i.persistence.runTransaction("Locally write mutations","readwrite",(function(e){var u=bm(),s=Am();return i.Gi.getEntries(e,o).next((function(e){(u=e).forEach((function(e,t){t.isValidDocument()||(s=s.add(e))}))})).next((function(){return i.localDocuments.getOverlayedDocuments(e,u)})).next((function(r){n=r;var o,u=[],s=Q(t);try{for(s.s();!(o=s.n()).done;){var c=o.value,l=im(c,n.get(c.key).overlayedDocument);null!=l&&u.push(new um(c.key,l,uy(l.value.mapValue),Xy.exists(!0)))}}catch(f){s.e(f)}finally{s.f()}return i.mutationQueue.addMutationBatch(e,a,u,t)})).next((function(t){r=t;var a=t.applyToLocalDocumentSet(n,s);return i.documentOverlayCache.saveOverlays(e,t.batchId,a)}))})).then((function(){return{batchId:r.batchId,changes:_m(n)}}))}(i.localStore,n);case 4:return a=e.sent,i.sharedClientState.addPendingMutation(a.batchId),function(e,t,n){var r=e.hc[e.currentUser.toKey()];r||(r=new Jv(lp)),r=r.insert(t,n),e.hc[e.currentUser.toKey()]=r}(i,a.batchId,r),e.next=9,m_(i,a.changes);case 9:return e.next=11,ex(i.remoteStore);case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),o=wx(e.t0,"Failed to persist write"),r.reject(o);case 17:case"end":return e.stop()}}),e,null,[[1,13]])}))),Xx.apply(this,arguments)}function Jx(e,t){return e_.apply(this,arguments)}function e_(){return e_=Fe(Re().mark((function e(t,n){var r,i;return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=$d(t),e.prev=1,e.next=4,Hb(r.localStore,n);case 4:return i=e.sent,n.targetChanges.forEach((function(e,t){var n=r.cc.get(t);n&&(Qd(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?n.nc=!0:e.modifiedDocuments.size>0?Qd(n.nc):e.removedDocuments.size>0&&(Qd(n.nc),n.nc=!1))})),e.next=8,m_(r,i,n);case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(1),e.next=14,Op(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,10]])}))),e_.apply(this,arguments)}function t_(e,t,n){var r=$d(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.ic.forEach((function(e,n){var r=n.view.bu(t);r.snapshot&&i.push(r.snapshot)})),function(e,t){var n=$d(e);n.onlineState=t;var r=!1;n.queries.forEach((function(e,n){var i,a=Q(n.listeners);try{for(a.s();!(i=a.n()).done;){i.value.bu(t)&&(r=!0)}}catch(o){a.e(o)}finally{a.f()}})),r&&Px(n)}(r.eventManager,t),i.length&&r.sc.Wo(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function n_(e,t,n){return r_.apply(this,arguments)}function r_(){return r_=Fe(Re().mark((function e(t,n,r){var i,a,o,u,s,c;return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((i=$d(t)).sharedClientState.updateQueryState(n,"rejected",r),a=i.cc.get(n),!(o=a&&a.key)){e.next=14;break}return u=(u=new Jv(kp.comparator)).insert(o,sy.newNoDocument(o,pp.min())),s=Am().add(o),c=new Dm(pp.min(),new Map,new ny(lp),u,s),e.next=9,Jx(i,c);case 9:i.uc=i.uc.remove(o),i.cc.delete(n),y_(i),e.next=16;break;case 14:return e.next=16,Xb(i.localStore,n,!1).then((function(){return h_(i,n,r)})).catch(Op);case 16:case"end":return e.stop()}}),e)}))),r_.apply(this,arguments)}function i_(e,t){return a_.apply(this,arguments)}function a_(){return a_=Fe(Re().mark((function e(t,n){var r,i,a;return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=$d(t),i=n.batch.batchId,e.prev=1,e.next=4,Wb(r.localStore,n);case 4:return a=e.sent,f_(r,i,null),l_(r,i),r.sharedClientState.updateMutationState(i,"acknowledged"),e.next=10,m_(r,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,Op(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),a_.apply(this,arguments)}function o_(e,t,n){return u_.apply(this,arguments)}function u_(){return u_=Fe(Re().mark((function e(t,n,r){var i,a;return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=$d(t),e.prev=1,e.next=4,function(e,t){var n=$d(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var r;return n.mutationQueue.lookupMutationBatch(e,t).next((function(t){return Qd(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r)})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}(i.localStore,n);case 4:return a=e.sent,f_(i,n,r),l_(i,n),i.sharedClientState.updateMutationState(n,"rejected",r),e.next=10,m_(i,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,Op(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),u_.apply(this,arguments)}function s_(e,t){return c_.apply(this,arguments)}function c_(){return c_=Fe(Re().mark((function e(t,n){var r,i,a,o;return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return qw((r=$d(t)).remoteStore)||Zd("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),e.prev=2,e.next=5,function(e){var t=$d(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(e){return t.mutationQueue.getHighestUnacknowledgedBatchId(e)}))}(r.localStore);case 5:if(-1!==(i=e.sent)){e.next=8;break}return e.abrupt("return",void n.resolve());case 8:(a=r.lc.get(i)||[]).push(n),r.lc.set(i,a),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(2),o=wx(e.t0,"Initialization of waitForPendingWrites() operation failed"),n.reject(o);case 16:case"end":return e.stop()}}),e,null,[[2,12]])}))),c_.apply(this,arguments)}function l_(e,t){(e.lc.get(t)||[]).forEach((function(e){e.resolve()})),e.lc.delete(t)}function f_(e,t,n){var r=$d(e),i=r.hc[r.currentUser.toKey()];if(i){var a=i.get(t);a&&(n?a.reject(n):a.resolve(),i=i.remove(t)),r.hc[r.currentUser.toKey()]=i}}function h_(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);var r,i=Q(e.rc.get(t));try{for(i.s();!(r=i.n()).done;){var a=r.value;e.ic.delete(a),n&&e.sc.wc(a,n)}}catch(o){i.e(o)}finally{i.f()}e.rc.delete(t),e.isPrimaryClient&&e.ac.ls(t).forEach((function(t){e.ac.containsKey(t)||d_(e,t)}))}function d_(e,t){e.oc.delete(t.path.canonicalString());var n=e.uc.get(t);null!==n&&(Vw(e.remoteStore,n),e.uc=e.uc.remove(t),e.cc.delete(n),y_(e))}function p_(e,t,n){var r,i=Q(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;a instanceof jx?(e.ac.addReference(a.key,t),v_(e,a)):a instanceof Ux?(Zd("SyncEngine","Document no longer in limbo: "+a.key),e.ac.removeReference(a.key,t),e.ac.containsKey(a.key)||d_(e,a.key)):Hd()}}catch(o){i.e(o)}finally{i.f()}}function v_(e,t){var n=t.key,r=n.path.canonicalString();e.uc.get(n)||e.oc.has(r)||(Zd("SyncEngine","New document in limbo: "+n),e.oc.add(r),y_(e))}function y_(e){for(;e.oc.size>0&&e.uc.size<e.maxConcurrentLimboResolutions;){var t=e.oc.values().next().value;e.oc.delete(t);var n=new kp(yp.fromString(t)),r=e.fc.next();e.cc.set(r,new qx(n)),e.uc=e.uc.insert(n,r),Fw(e.remoteStore,new Xg(Sy(ky(n.path)),r,2,Kp.at))}}function m_(e,t,n){return g_.apply(this,arguments)}function g_(){return g_=Fe(Re().mark((function e(t,n,r){var i,a,o,u;return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=$d(t),a=[],o=[],u=[],e.t0=i.ic.isEmpty(),e.t0){e.next=9;break}return i.ic.forEach((function(e,t){u.push(i._c(t,n,r).then((function(e){if((e||r)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(t.targetId,(null==e?void 0:e.fromCache)?"not-current":"current"),e){a.push(e);var n=Ub.Ci(t.targetId,e);o.push(n)}})))})),e.next=6,Promise.all(u);case 6:return i.sc.Wo(a),e.next=9,function(){var e=Fe(Re().mark((function e(t,n){var r,i,a,o,u,s,c,l;return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=$d(t),e.prev=1,e.next=4,r.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return Pp.forEach(n,(function(t){return Pp.forEach(t.Si,(function(n){return r.persistence.referenceDelegate.addReference(e,t.targetId,n)})).next((function(){return Pp.forEach(t.Di,(function(n){return r.persistence.referenceDelegate.removeReference(e,t.targetId,n)}))}))}))}));case 4:e.next=11;break;case 6:if(e.prev=6,e.t0=e.catch(1),Vp(e.t0)){e.next=10;break}throw e.t0;case 10:Zd("LocalStore","Failed to update sequence numbers: "+e.t0);case 11:i=Q(n);try{for(i.s();!(a=i.n()).done;)o=a.value,u=o.targetId,o.fromCache||(s=r.qi.get(u),c=s.snapshotVersion,l=s.withLastLimboFreeSnapshotVersion(c),r.qi=r.qi.insert(u,l))}catch(f){i.e(f)}finally{i.f()}case 13:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t,n){return e.apply(this,arguments)}}()(i.localStore,o);case 9:case"end":return e.stop()}}),e)}))),g_.apply(this,arguments)}function k_(e,t){return b_.apply(this,arguments)}function b_(){return b_=Fe(Re().mark((function e(t,n){var r,i;return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=$d(t)).currentUser.isEqual(n)){e.next=11;break}return Zd("SyncEngine","User change. New user:",n.toKey()),e.next=5,Zb(r.localStore,n);case 5:return i=e.sent,r.currentUser=n,function(e,t){e.lc.forEach((function(e){e.forEach((function(e){e.reject(new Xd(Yd.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.lc.clear()}(r),r.sharedClientState.handleUserChange(n,i.removedBatchIds,i.addedBatchIds),e.next=11,m_(r,i.ji);case 11:case"end":return e.stop()}}),e)}))),b_.apply(this,arguments)}function w_(e,t){var n=$d(e),r=n.cc.get(t);if(r&&r.nc)return Am().add(r.key);var i=Am(),a=n.rc.get(t);if(!a)return i;var o,u=Q(a);try{for(u.s();!(o=u.n()).done;){var s=o.value,c=n.ic.get(s);i=i.unionWith(c.view.ju)}}catch(l){u.e(l)}finally{u.f()}return i}function x_(e,t){return __.apply(this,arguments)}function __(){return __=Fe(Re().mark((function e(t,n){var r,i,a;return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=$d(t),e.next=3,ew(r.localStore,n.query,!0);case 3:return i=e.sent,a=n.view.tc(i),e.abrupt("return",(r.isPrimaryClient&&p_(r,n.targetId,a.Xu),a));case 6:case"end":return e.stop()}}),e)}))),__.apply(this,arguments)}function I_(e,t){return S_.apply(this,arguments)}function S_(){return S_=Fe(Re().mark((function e(t,n){var r;return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=$d(t),e.abrupt("return",nw(r.localStore,n).then((function(e){return m_(r,e)})));case 2:case"end":return e.stop()}}),e)}))),S_.apply(this,arguments)}function E_(e,t,n,r){return T_.apply(this,arguments)}function T_(){return T_=Fe(Re().mark((function e(t,n,r,i){var a,o;return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=$d(t),e.next=3,function(e,t){var n=$d(e),r=$d(n.mutationQueue);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(e){return r.Tn(e,t).next((function(t){return t?n.localDocuments.getDocuments(e,t):Pp.resolve(null)}))}))}(a.localStore,n);case 3:if(null===(o=e.sent)){e.next=15;break}if("pending"!==r){e.next=10;break}return e.next=8,ex(a.remoteStore);case 8:e.next=11;break;case 10:"acknowledged"===r||"rejected"===r?(f_(a,n,i||null),l_(a,n),function(e,t){$d($d(e).mutationQueue).An(t)}(a.localStore,n)):Hd();case 11:return e.next=13,m_(a,o);case 13:e.next=16;break;case 15:Zd("SyncEngine","Cannot apply mutation batch with id: "+n);case 16:case"end":return e.stop()}}),e)}))),T_.apply(this,arguments)}function C_(e,t){return A_.apply(this,arguments)}function A_(){return A_=Fe(Re().mark((function e(t,n){var r,i,a,o,u,s,c,l;return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(V_(r=$d(t)),j_(r),!0!==n||!0===r.dc){e.next=13;break}return i=r.sharedClientState.getAllActiveQueryTargets(),e.next=5,N_(r,i.toArray());case 5:return a=e.sent,r.dc=!0,e.next=9,yx(r.remoteStore,!0);case 9:o=Q(a);try{for(o.s();!(u=o.n()).done;)s=u.value,Fw(r.remoteStore,s)}catch(f){o.e(f)}finally{o.f()}e.next=25;break;case 13:if(!1!==n||!1===r.dc){e.next=25;break}return c=[],l=Promise.resolve(),r.rc.forEach((function(e,t){r.sharedClientState.isLocalQueryTarget(t)?c.push(t):l=l.then((function(){return h_(r,t),Xb(r.localStore,t,!0)})),Vw(r.remoteStore,t)})),e.next=19,l;case 19:return e.next=21,N_(r,c);case 21:return function(e){var t=$d(e);t.cc.forEach((function(e,n){Vw(t.remoteStore,n)})),t.ac.fs(),t.cc=new Map,t.uc=new Jv(kp.comparator)}(r),r.dc=!1,e.next=25,yx(r.remoteStore,!1);case 25:case"end":return e.stop()}}),e)}))),A_.apply(this,arguments)}function N_(e,t,n){return O_.apply(this,arguments)}function O_(){return O_=Fe(Re().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h,d,p,v,y,m;return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=$d(t),a=[],o=[],u=Q(n),e.prev=2,u.s();case 4:if((s=u.n()).done){e.next=45;break}if(c=s.value,l=void 0,!(f=i.rc.get(c))||0===f.length){e.next=34;break}return e.next=11,Yb(i.localStore,Sy(f[0]));case 11:l=e.sent,h=Q(f),e.prev=13,h.s();case 15:if((d=h.n()).done){e.next=24;break}return p=d.value,v=i.ic.get(p),e.next=20,x_(i,v);case 20:(y=e.sent).snapshot&&o.push(y.snapshot);case 22:e.next=15;break;case 24:e.next=29;break;case 26:e.prev=26,e.t0=e.catch(13),h.e(e.t0);case 29:return e.prev=29,h.f(),e.finish(29);case 32:e.next=42;break;case 34:return e.next=36,tw(i.localStore,c);case 36:return m=e.sent,e.next=39,Yb(i.localStore,m);case 39:return l=e.sent,e.next=42,Gx(i,D_(m),c,!1,l.resumeToken);case 42:a.push(l);case 43:e.next=4;break;case 45:e.next=50;break;case 47:e.prev=47,e.t1=e.catch(2),u.e(e.t1);case 50:return e.prev=50,u.f(),e.finish(50);case 53:return e.abrupt("return",(i.sc.Wo(o),a));case 54:case"end":return e.stop()}}),e,null,[[2,47,50,53],[13,26,29,32]])}))),O_.apply(this,arguments)}function D_(e){return gy(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function P_(e){var t=$d(e);return $d($d(t.localStore).persistence).vi()}function R_(e,t,n,r){return L_.apply(this,arguments)}function L_(){return L_=Fe(Re().mark((function e(t,n,r,i){var a,o,u,s;return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a=$d(t)).dc){e.next=3;break}return e.abrupt("return",void Zd("SyncEngine","Ignoring unexpected query state notification."));case 3:if(!((o=a.rc.get(n))&&o.length>0)){e.next=20;break}e.t0=r,e.next="current"===e.t0||"not-current"===e.t0?8:"rejected"===e.t0?15:19;break;case 8:return e.next=10,nw(a.localStore,Dy(o[0]));case 10:return u=e.sent,s=Dm.createSynthesizedRemoteEventForCurrentChange(n,"current"===r,ev.EMPTY_BYTE_STRING),e.next=14,m_(a,u,s);case 14:return e.abrupt("break",20);case 15:return e.next=17,Xb(a.localStore,n,!0);case 17:return h_(a,n,i),e.abrupt("break",20);case 19:Hd();case 20:case"end":return e.stop()}}),e)}))),L_.apply(this,arguments)}function M_(e,t,n){return F_.apply(this,arguments)}function F_(){return F_=Fe(Re().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h;return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(i=V_(t)).dc){e.next=45;break}a=Q(n),e.prev=3,a.s();case 5:if((o=a.n()).done){e.next=21;break}if(u=o.value,!i.rc.has(u)){e.next=10;break}return Zd("SyncEngine","Adding an already active target "+u),e.abrupt("continue",19);case 10:return e.next=12,tw(i.localStore,u);case 12:return s=e.sent,e.next=15,Yb(i.localStore,s);case 15:return c=e.sent,e.next=18,Gx(i,D_(s),c.targetId,!1,c.resumeToken);case 18:Fw(i.remoteStore,c);case 19:e.next=5;break;case 21:e.next=26;break;case 23:e.prev=23,e.t0=e.catch(3),a.e(e.t0);case 26:return e.prev=26,a.f(),e.finish(26);case 29:l=Q(r),e.prev=30,h=Re().mark((function e(){var t;return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=f.value,e.t0=i.rc.has(t),!e.t0){e.next=5;break}return e.next=5,Xb(i.localStore,t,!1).then((function(){Vw(i.remoteStore,t),h_(i,t)})).catch(Op);case 5:case"end":return e.stop()}}),e)})),l.s();case 33:if((f=l.n()).done){e.next=37;break}return e.delegateYield(h(),"t1",35);case 35:e.next=33;break;case 37:e.next=42;break;case 39:e.prev=39,e.t2=e.catch(30),l.e(e.t2);case 42:return e.prev=42,l.f(),e.finish(42);case 45:case"end":return e.stop()}}),e,null,[[3,23,26,29],[30,39,42,45]])}))),F_.apply(this,arguments)}function V_(e){var t=$d(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=Jx.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=w_.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=n_.bind(null,t),t.sc.Wo=Ox.bind(null,t.eventManager),t.sc.wc=Dx.bind(null,t.eventManager),t}function j_(e){var t=$d(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=i_.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=o_.bind(null,t),t}function U_(e,t,n){var r=$d(e);(function(){var e=Fe(Re().mark((function e(t,n,r){var i,a,o,u,s;return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.getMetadata();case 3:return i=e.sent,e.next=6,function(e,t){var n=$d(e),r=Hm(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",(function(e){return n.Ns.getBundleMetadata(e,t.id)})).then((function(e){return!!e&&e.createTime.compareTo(r)>=0}))}(t.localStore,i);case 6:if(!e.sent){e.next=11;break}return e.next=9,n.close();case 9:return r._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(i)),e.abrupt("return",Promise.resolve(new Set));case 11:return r._updateProgress(Vx(i)),a=new Fx(i,t.localStore,n.yt),e.next=15,n.mc();case 15:o=e.sent;case 16:if(!o){e.next=26;break}return e.next=19,a.Fu(o);case 19:return(u=e.sent)&&r._updateProgress(u),e.next=23,n.mc();case 23:o=e.sent;case 24:e.next=16;break;case 26:return e.next=28,a.complete();case 28:return s=e.sent,e.next=31,m_(t,s.Lu,void 0);case 31:return e.next=33,function(e,t){var n=$d(e);return n.persistence.runTransaction("Save bundle","readwrite",(function(e){return n.Ns.saveBundleMetadata(e,t)}))}(t.localStore,i);case 33:return r._completeWith(s.progress),e.abrupt("return",Promise.resolve(s.Bu));case 37:return e.prev=37,e.t0=e.catch(0),e.abrupt("return",(Wd("SyncEngine","Loading bundle failed with ".concat(e.t0)),r._failWith(e.t0),Promise.resolve(new Set)));case 40:case"end":return e.stop()}}),e,null,[[0,37]])})));return function(t,n,r){return e.apply(this,arguments)}})()(r,t,n).then((function(e){r.sharedClientState.notifyBundleLoaded(e)}))}var z_=function(){function e(){Z(this,e),this.synchronizeTabs=!1}return G(e,[{key:"initialize",value:function(){var e=Fe(Re().mark((function e(t){return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.yt=Sw(t.databaseInfo.databaseId),this.sharedClientState=this.gc(t),this.persistence=this.yc(t),e.next=5,this.persistence.start();case 5:this.localStore=this.Ic(t),this.gcScheduler=this.Tc(t,this.localStore),this.indexBackfillerScheduler=this.Ec(t,this.localStore);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Tc",value:function(e,t){return null}},{key:"Ec",value:function(e,t){return null}},{key:"Ic",value:function(e){return qb(this.persistence,new zb,e.initialUser,this.yt)}},{key:"yc",value:function(e){return new Nb(Db.Bs,this.yt)}},{key:"gc",value:function(e){return new mw}},{key:"terminate",value:function(){var e=Fe(Re().mark((function e(){return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.gcScheduler&&this.gcScheduler.stop(),e.next=3,this.sharedClientState.shutdown();case 3:return e.next=5,this.persistence.shutdown();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),B_=function(e){X(n,e);var t=ne(n);function n(e,r,i){var a;return Z(this,n),(a=t.call(this)).Ac=e,a.cacheSizeBytes=r,a.forceOwnership=i,a.synchronizeTabs=!1,a}return G(n,[{key:"initialize",value:function(){var e=Fe(Re().mark((function e(t){var r=this;return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,bn(J(n.prototype),"initialize",this).call(this,t);case 2:return e.next=4,this.Ac.initialize(this,t);case 4:return e.next=6,j_(this.Ac.syncEngine);case 6:return e.next=8,ex(this.Ac.remoteStore);case 8:return e.next=10,this.persistence.li((function(){return r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(),r.indexBackfillerScheduler&&!r.indexBackfillerScheduler.started&&r.indexBackfillerScheduler.start(),Promise.resolve()}));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Ic",value:function(e){return qb(this.persistence,new zb,e.initialUser,this.yt)}},{key:"Tc",value:function(e,t){var n=this.persistence.referenceDelegate.garbageCollector;return new ub(n,e.asyncQueue,t)}},{key:"Ec",value:function(e,t){var n=new Zp(t,this.persistence);return new qp(e.asyncQueue,n)}},{key:"yc",value:function(e){var t=jb(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?Wk.withCacheSize(this.cacheSizeBytes):Wk.DEFAULT;return new Mb(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,_w(),Iw(),this.yt,this.sharedClientState,!!this.forceOwnership)}},{key:"gc",value:function(e){return new mw}}]),n}(z_),q_=function(e){X(n,e);var t=ne(n);function n(e,r){var i;return Z(this,n),(i=t.call(this,e,r,!1)).Ac=e,i.cacheSizeBytes=r,i.synchronizeTabs=!0,i}return G(n,[{key:"initialize",value:function(){var e=Fe(Re().mark((function e(t){var r,i=this;return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,bn(J(n.prototype),"initialize",this).call(this,t);case 2:if(r=this.Ac.syncEngine,e.t0=this.sharedClientState instanceof yw,!e.t0){e.next=8;break}return this.sharedClientState.syncEngine={Fr:E_.bind(null,r),$r:R_.bind(null,r),Br:M_.bind(null,r),vi:P_.bind(null,r),Mr:I_.bind(null,r)},e.next=8,this.sharedClientState.start();case 8:return e.next=10,this.persistence.li(function(){var e=Fe(Re().mark((function e(t){return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C_(i.Ac.syncEngine,t);case 2:i.gcScheduler&&(t&&!i.gcScheduler.started?i.gcScheduler.start():t||i.gcScheduler.stop()),i.indexBackfillerScheduler&&(t&&!i.indexBackfillerScheduler.started?i.indexBackfillerScheduler.start():t||i.indexBackfillerScheduler.stop());case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"gc",value:function(e){var t=_w();if(!yw.C(t))throw new Xd(Yd.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=jb(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new yw(t,e.asyncQueue,n,e.clientId,e.initialUser)}}]),n}(B_),Z_=function(){function e(){Z(this,e)}return G(e,[{key:"initialize",value:function(){var e=Fe(Re().mark((function e(t,n){var r=this;return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.localStore,e.t0){e.next=12;break}return this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return t_(r.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=k_.bind(null,this.syncEngine),e.next=12,yx(this.remoteStore,this.syncEngine.isPrimaryClient);case 12:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"createEventManager",value:function(e){return new Ex}},{key:"createDatastore",value:function(e){var t,n=Sw(e.databaseInfo.databaseId),r=(t=e.databaseInfo,new xw(t));return function(e,t,n,r){return new Nw(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,r,n)}},{key:"createRemoteStore",value:function(e){var t,n,r,i,a,o=this;return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=function(e){return t_(o.syncEngine,e,0)},a=kw.C()?new kw:new gw,new Dw(t,n,r,i,a)}},{key:"createSyncEngine",value:function(e,t){return function(e,t,n,r,i,a,o){var u=new Zx(e,t,n,r,i,a);return o&&(u.dc=!0),u}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}},{key:"terminate",value:function(){return function(){var e=Fe(Re().mark((function e(t){var n;return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=$d(t),Zd("RemoteStore","RemoteStore shutting down."),n._u.add(5),e.next=5,Lw(n);case 5:n.mu.shutdown(),n.gu.set("Unknown");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(this.remoteStore)}}]),e}();function K_(e,t,n){if(!n)throw new Xd(Yd.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function W_(e,t,n,r){if(!0===t&&!0===r)throw new Xd(Yd.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))}function G_(e){if(!kp.isDocumentKey(e))throw new Xd(Yd.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function H_(e){if(kp.isDocumentKey(e))throw new Xd(Yd.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function Q_(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}return"function"==typeof e?"a function":Hd()}function $_(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Xd(Yd.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=Q_(e);throw new Xd(Yd.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}return e}function Y_(e,t){if(t<=0)throw new Xd(Yd.INVALID_ARGUMENT,"Function ".concat(e,"() requires a positive number, but it was: ").concat(t,"."))}var X_=new Map,J_=function(){function e(t){var n;if(Z(this,e),void 0===t.host){if(void 0!==t.ssl)throw new Xd(Yd.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(n=t.ssl)||void 0===n||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new Xd(Yd.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,W_("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return G(e,[{key:"isEqual",value:function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}]),e}(),eI=function(){function e(t,n,r,i){Z(this,e),this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new J_({}),this._settingsFrozen=!1}return G(e,[{key:"app",get:function(){if(!this._app)throw new Xd(Yd.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}},{key:"_initialized",get:function(){return this._settingsFrozen}},{key:"_terminated",get:function(){return void 0!==this._terminateTask}},{key:"_setSettings",value:function(e){if(this._settingsFrozen)throw new Xd(Yd.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new J_(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new tp;switch(e.type){case"gapi":var t=e.client;return new ap(t,e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new Xd(Yd.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}},{key:"_getSettings",value:function(){return this._settings}},{key:"_freezeSettings",value:function(){return this._settingsFrozen=!0,this._settings}},{key:"_delete",value:function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}},{key:"toJSON",value:function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}},{key:"_terminate",value:function(){return function(e){var t=X_.get(e);t&&(Zd("ComponentProvider","Removing Datastore"),X_.delete(e),t.terminate())}(this),Promise.resolve()}}]),e}();function tI(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=(e=$_(e,eI))._getSettings();if("firestore.googleapis.com"!==a.host&&a.host!==t&&Wd("Host has been set in both settings() and useEmulator(), emulator host will be used"),e._setSettings(Object.assign(Object.assign({},a),{host:"".concat(t,":").concat(n),ssl:!1})),i.mockUserToken){var o,u;if("string"==typeof i.mockUserToken)o=i.mockUserToken,u=Ud.MOCK_USER;else{o=function(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[ue(JSON.stringify({alg:"none",type:"JWT"})),ue(JSON.stringify(a)),""].join(".")}(i.mockUserToken,null===(r=e._app)||void 0===r?void 0:r.options.projectId);var s=i.mockUserToken.sub||i.mockUserToken.user_id;if(!s)throw new Xd(Yd.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new Ud(s)}e._authCredentials=new np(new ep(o,u))}}var nI=function(){function e(t,n,r){Z(this,e),this.converter=n,this._key=r,this.type="document",this.firestore=t}return G(e,[{key:"_path",get:function(){return this._key.path}},{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"path",get:function(){return this._key.path.canonicalString()}},{key:"parent",get:function(){return new iI(this.firestore,this.converter,this._key.path.popLast())}},{key:"withConverter",value:function(t){return new e(this.firestore,t,this._key)}}]),e}(),rI=function(){function e(t,n,r){Z(this,e),this.converter=n,this._query=r,this.type="query",this.firestore=t}return G(e,[{key:"withConverter",value:function(t){return new e(this.firestore,t,this._query)}}]),e}(),iI=function(e){X(n,e);var t=ne(n);function n(e,r,i){var a;return Z(this,n),(a=t.call(this,e,r,ky(i)))._path=i,a.type="collection",a}return G(n,[{key:"id",get:function(){return this._query.path.lastSegment()}},{key:"path",get:function(){return this._query.path.canonicalString()}},{key:"parent",get:function(){var e=this._path.popLast();return e.isEmpty()?null:new nI(this.firestore,null,new kp(e))}},{key:"withConverter",value:function(e){return new n(this.firestore,e,this._path)}}]),n}(rI);function aI(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Pe(e),K_("collection","path",t),e instanceof eI){var a=yp.fromString.apply(yp,[t].concat(r));return H_(a),new iI(e,null,a)}if(!(e instanceof nI||e instanceof iI))throw new Xd(Yd.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(yp.fromString.apply(yp,[t].concat(r)));return H_(o),new iI(e.firestore,null,o)}function oI(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Pe(e),1===arguments.length&&(t=cp.R()),K_("doc","path",t),e instanceof eI){var a=yp.fromString.apply(yp,[t].concat(r));return G_(a),new nI(e,null,new kp(a))}if(!(e instanceof nI||e instanceof iI))throw new Xd(Yd.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(yp.fromString.apply(yp,[t].concat(r)));return G_(o),new nI(e.firestore,e instanceof iI?e.converter:null,new kp(o))}function uI(e,t){return e=Pe(e),t=Pe(t),(e instanceof nI||e instanceof iI)&&(t instanceof nI||t instanceof iI)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function sI(e,t){return e=Pe(e),t=Pe(t),e instanceof rI&&t instanceof rI&&e.firestore===t.firestore&&Cy(e._query,t._query)&&e.converter===t.converter}function cI(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10240,n=0;return{read:function(){return Fe(Re().mark((function r(){var i;return Re().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!(n<e.byteLength)){r.next=3;break}return i={value:e.slice(n,n+t),done:!1},r.abrupt("return",(n+=t,i));case 3:return r.abrupt("return",{done:!0});case 4:case"end":return r.stop()}}),r)})))()},cancel:function(){return Fe(Re().mark((function e(){return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()},releaseLock:function(){},closed:Promise.reject("unimplemented")}}var lI=function(){function e(t){Z(this,e),this.observer=t,this.muted=!1}return G(e,[{key:"next",value:function(e){this.observer.next&&this.Rc(this.observer.next,e)}},{key:"error",value:function(e){this.observer.error?this.Rc(this.observer.error,e):Kd("Uncaught Error in snapshot listener:",e.toString())}},{key:"bc",value:function(){this.muted=!0}},{key:"Rc",value:function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)}}]),e}(),fI=function(){function e(t,n){var r=this;Z(this,e),this.Pc=t,this.yt=n,this.metadata=new Jd,this.buffer=new Uint8Array,this.vc=new TextDecoder("utf-8"),this.Vc().then((function(e){e&&e.Ou()?r.metadata.resolve(e.ku.metadata):r.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             ".concat(JSON.stringify(null==e?void 0:e.ku))))}),(function(e){return r.metadata.reject(e)}))}return G(e,[{key:"close",value:function(){return this.Pc.cancel()}},{key:"getMetadata",value:function(){var e=Fe(Re().mark((function e(){return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.metadata.promise);case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"mc",value:function(){var e=Fe(Re().mark((function e(){return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getMetadata();case 2:return e.abrupt("return",this.Vc());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Vc",value:function(){var e=Fe(Re().mark((function e(){var t,n,r,i;return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.Sc();case 2:if(null!==(t=e.sent)){e.next=5;break}return e.abrupt("return",null);case 5:return n=this.vc.decode(t),r=Number(n),isNaN(r)&&this.Dc("length string (".concat(n,") is not valid number")),e.next=9,this.Cc(r);case 9:return i=e.sent,e.abrupt("return",new Lx(JSON.parse(i),t.length+r));case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"xc",value:function(){return this.buffer.findIndex((function(e){return e==="{".charCodeAt(0)}))}},{key:"Sc",value:function(){var e=Fe(Re().mark((function e(){var t,n;return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.xc()<0)){e.next=7;break}return e.next=3,this.Nc();case 3:if(!e.sent){e.next=5;break}return e.abrupt("break",7);case 5:e.next=0;break;case 7:if(0!==this.buffer.length){e.next=9;break}return e.abrupt("return",null);case 9:return(t=this.xc())<0&&this.Dc("Reached the end of bundle when a length string is expected."),n=this.buffer.slice(0,t),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Cc",value:function(){var e=Fe(Re().mark((function e(t){var n;return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.buffer.length<t)){e.next=8;break}return e.next=3,this.Nc();case 3:if(e.t0=e.sent,!e.t0){e.next=6;break}this.Dc("Reached the end of bundle when more is expected.");case 6:e.next=0;break;case 8:return n=this.vc.decode(this.buffer.slice(0,t)),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Dc",value:function(e){throw this.Pc.cancel(),new Error("Invalid bundle format: ".concat(e))}},{key:"Nc",value:function(){var e=Fe(Re().mark((function e(){var t,n;return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.Pc.read();case 2:return(t=e.sent).done||((n=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),n.set(t.value,this.buffer.length),this.buffer=n),e.abrupt("return",t.done);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),hI=function(){function e(t){Z(this,e),this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return G(e,[{key:"lookup",value:function(){var e=Fe(Re().mark((function e(t){var n,r=this;return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!(this.mutations.length>0)){e.next=2;break}throw new Xd(Yd.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");case 2:return e.next=4,function(){var e=Fe(Re().mark((function e(t,n){var r,i,a,o,u,s;return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=$d(t),i=tg(r.yt)+"/documents",a={documents:n.map((function(e){return Ym(r.yt,e)}))},e.next=5,r._o("BatchGetDocuments",i,a,n.length);case 5:return o=e.sent,u=new Map,o.forEach((function(e){var t=ag(r.yt,e);u.set(t.key.toString(),t)})),s=[],e.abrupt("return",(n.forEach((function(e){var t=u.get(e.toString());Qd(!!t),s.push(t)})),s));case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,t);case 4:return n=e.sent,e.abrupt("return",(n.forEach((function(e){return r.recordVersion(e)})),n));case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"set",value:function(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"update",value:function(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())}},{key:"delete",value:function(e){this.write(new dm(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"commit",value:function(){var e=Fe(Re().mark((function e(){var t,n=this;return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!this.lastWriteError){e.next=2;break}throw this.lastWriteError;case 2:return t=this.readVersions,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(e,t){var r=kp.fromPath(t);n.mutations.push(new pm(r,n.precondition(r)))})),e.next=7,function(){var e=Fe(Re().mark((function e(t,n){var r,i,a;return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=$d(t),i=tg(r.yt)+"/documents",a={writes:n.map((function(e){return og(r.yt,e)}))},e.next=3,r.ao("Commit",i,a);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,this.mutations);case 7:this.committed=!0;case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"recordVersion",value:function(e){var t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Hd();t=pp.min()}var n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new Xd(Yd.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}},{key:"precondition",value:function(e){var t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(pp.min())?Xy.exists(!1):Xy.updateTime(t):Xy.none()}},{key:"preconditionForUpdate",value:function(e){var t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(pp.min()))throw new Xd(Yd.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Xy.updateTime(t)}return Xy.exists(!0)}},{key:"write",value:function(e){this.ensureCommitNotCalled(),this.mutations.push(e)}},{key:"ensureCommitNotCalled",value:function(){}}]),e}(),dI=function(){function e(t,n,r,i,a){Z(this,e),this.asyncQueue=t,this.datastore=n,this.options=r,this.updateFunction=i,this.deferred=a,this.kc=r.maxAttempts,this.xo=new Ew(this.asyncQueue,"transaction_retry")}return G(e,[{key:"run",value:function(){this.kc-=1,this.Oc()}},{key:"Oc",value:function(){var e=this;this.xo.Ro(Fe(Re().mark((function t(){var n,r;return Re().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=new hI(e.datastore),(r=e.Mc(n))&&r.then((function(t){e.asyncQueue.enqueueAndForget((function(){return n.commit().then((function(){e.deferred.resolve(t)})).catch((function(t){e.Fc(t)}))}))})).catch((function(t){e.Fc(t)}));case 2:case"end":return t.stop()}}),t)}))))}},{key:"Mc",value:function(e){try{var t=this.updateFunction(e);return!Yp(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}},{key:"Fc",value:function(e){var t=this;this.kc>0&&this.$c(e)?(this.kc-=1,this.asyncQueue.enqueueAndForget((function(){return t.Oc(),Promise.resolve()}))):this.deferred.reject(e)}},{key:"$c",value:function(e){if("FirebaseError"===e.name){var t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!ym(t)}return!1}}]),e}(),pI=function(){function e(t,n,r,i){var a=this;Z(this,e),this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Ud.UNAUTHENTICATED,this.clientId=cp.R(),this.authCredentialListener=function(){return Promise.resolve()},this.appCheckCredentialListener=function(){return Promise.resolve()},this.authCredentials.start(r,function(){var e=Fe(Re().mark((function e(t){return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Zd("FirestoreClient","Received user=",t.uid),e.next=3,a.authCredentialListener(t);case 3:a.user=t;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),this.appCheckCredentials.start(r,(function(e){return Zd("FirestoreClient","Received new app check token=",e),a.appCheckCredentialListener(e,a.user)}))}return G(e,[{key:"getConfiguration",value:function(){var e=Fe(Re().mark((function e(){return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100});case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setCredentialChangeListener",value:function(e){this.authCredentialListener=e}},{key:"setAppCheckTokenChangeListener",value:function(e){this.appCheckCredentialListener=e}},{key:"verifyNotTerminated",value:function(){if(this.asyncQueue.isShuttingDown)throw new Xd(Yd.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"terminate",value:function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new Jd;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(Fe(Re().mark((function n(){var r;return Re().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,n.t0=e.onlineComponents,!n.t0){n.next=5;break}return n.next=5,e.onlineComponents.terminate();case 5:if(n.t1=e.offlineComponents,!n.t1){n.next=9;break}return n.next=9,e.offlineComponents.terminate();case 9:e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve(),n.next=18;break;case 14:n.prev=14,n.t2=n.catch(0),r=wx(n.t2,"Failed to shutdown persistence"),t.reject(r);case 18:case"end":return n.stop()}}),n,null,[[0,14]])})))),t.promise}}]),e}();function vI(e,t){return yI.apply(this,arguments)}function yI(){return yI=Fe(Re().mark((function e(t,n){var r,i;return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),Zd("FirestoreClient","Initializing OfflineComponentProvider"),e.next=3,t.getConfiguration();case 3:return r=e.sent,e.next=6,n.initialize(r);case 6:i=r.initialUser,t.setCredentialChangeListener(function(){var e=Fe(Re().mark((function e(t){return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=i.isEqual(t),e.t0){e.next=5;break}return e.next=4,Zb(n.localStore,t);case 4:i=t;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),n.persistence.setDatabaseDeletedListener((function(){return t.terminate()})),t.offlineComponents=n;case 8:case"end":return e.stop()}}),e)}))),yI.apply(this,arguments)}function mI(e,t){return gI.apply(this,arguments)}function gI(){return gI=Fe(Re().mark((function e(t,n){var r,i;return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),e.next=3,kI(t);case 3:return r=e.sent,Zd("FirestoreClient","Initializing OnlineComponentProvider"),e.next=7,t.getConfiguration();case 7:return i=e.sent,e.next=10,n.initialize(r,i);case 10:t.setCredentialChangeListener((function(e){return px(n.remoteStore,e)})),t.setAppCheckTokenChangeListener((function(e,t){return px(n.remoteStore,t)})),t.onlineComponents=n;case 13:case"end":return e.stop()}}),e)}))),gI.apply(this,arguments)}function kI(e){return bI.apply(this,arguments)}function bI(){return bI=Fe(Re().mark((function e(t){return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.offlineComponents,e.t0){e.next=5;break}return Zd("FirestoreClient","Using default OfflineComponentProvider"),e.next=5,vI(t,new z_);case 5:return e.abrupt("return",t.offlineComponents);case 6:case"end":return e.stop()}}),e)}))),bI.apply(this,arguments)}function wI(e){return xI.apply(this,arguments)}function xI(){return xI=Fe(Re().mark((function e(t){return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.onlineComponents,e.t0){e.next=5;break}return Zd("FirestoreClient","Using default OnlineComponentProvider"),e.next=5,mI(t,new Z_);case 5:return e.abrupt("return",t.onlineComponents);case 6:case"end":return e.stop()}}),e)}))),xI.apply(this,arguments)}function _I(e){return kI(e).then((function(e){return e.persistence}))}function II(e){return kI(e).then((function(e){return e.localStore}))}function SI(e){return wI(e).then((function(e){return e.remoteStore}))}function EI(e){return wI(e).then((function(e){return e.syncEngine}))}function TI(e){return wI(e).then((function(e){return e.datastore}))}function CI(e){return AI.apply(this,arguments)}function AI(){return AI=Fe(Re().mark((function e(t){var n,r;return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,wI(t);case 2:return n=e.sent,r=n.eventManager,e.abrupt("return",(r.onListen=Kx.bind(null,n.syncEngine),r.onUnlisten=Qx.bind(null,n.syncEngine),r));case 5:case"end":return e.stop()}}),e)}))),AI.apply(this,arguments)}function NI(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new Jd;return e.asyncQueue.enqueueAndForget(Fe(Re().mark((function i(){return Re().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new lI({next:function(a){t.enqueueAndForget((function(){return Ax(e,o)}));var u=a.docs.has(n);!u&&a.fromCache?i.reject(new Xd(Yd.UNAVAILABLE,"Failed to get document because the client is offline.")):u&&a.fromCache&&r&&"server"===r.source?i.reject(new Xd(Yd.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(a)},error:function(e){return i.reject(e)}}),o=new Rx(ky(n.path),a,{includeMetadataChanges:!0,Nu:!0});return Tx(e,o)},i.next=3,CI(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}function OI(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new Jd;return e.asyncQueue.enqueueAndForget(Fe(Re().mark((function i(){return Re().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new lI({next:function(n){t.enqueueAndForget((function(){return Ax(e,o)})),n.fromCache&&"server"===r.source?i.reject(new Xd(Yd.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(e){return i.reject(e)}}),o=new Rx(n,a,{includeMetadataChanges:!0,Nu:!0});return Tx(e,o)},i.next=3,CI(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}var DI=function(){function e(){var t=this;Z(this,e),this.Bc=Promise.resolve(),this.Lc=[],this.qc=!1,this.Uc=[],this.Kc=null,this.Gc=!1,this.Qc=!1,this.jc=[],this.xo=new Ew(this,"async_queue_retry"),this.Wc=function(){var e=Iw();e&&Zd("AsyncQueue","Visibility state changed to "+e.visibilityState),t.xo.Po()};var n=Iw();n&&"function"==typeof n.addEventListener&&n.addEventListener("visibilitychange",this.Wc)}return G(e,[{key:"isShuttingDown",get:function(){return this.qc}},{key:"enqueueAndForget",value:function(e){this.enqueue(e)}},{key:"enqueueAndForgetEvenWhileRestricted",value:function(e){this.zc(),this.Hc(e)}},{key:"enterRestrictedMode",value:function(e){if(!this.qc){this.qc=!0,this.Qc=e||!1;var t=Iw();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Wc)}}},{key:"enqueue",value:function(e){var t=this;if(this.zc(),this.qc)return new Promise((function(){}));var n=new Jd;return this.Hc((function(){return t.qc&&t.Qc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)})).then((function(){return n.promise}))}},{key:"enqueueRetryable",value:function(e){var t=this;this.enqueueAndForget((function(){return t.Lc.push(e),t.Jc()}))}},{key:"Jc",value:function(){var e=Fe(Re().mark((function e(){var t=this;return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0===this.Lc.length){e.next=14;break}return e.prev=1,e.next=4,this.Lc[0]();case 4:this.Lc.shift(),this.xo.reset(),e.next=13;break;case 8:if(e.prev=8,e.t0=e.catch(1),Vp(e.t0)){e.next=12;break}throw e.t0;case 12:Zd("AsyncQueue","Operation failed with retryable error: "+e.t0);case 13:this.Lc.length>0&&this.xo.Ro((function(){return t.Jc()}));case 14:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"Hc",value:function(e){var t=this,n=this.Bc.then((function(){return t.Gc=!0,e().catch((function(e){t.Kc=e,t.Gc=!1;var n=function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw Kd("INTERNAL UNHANDLED ERROR: ",n),e})).then((function(e){return t.Gc=!1,e}))}));return this.Bc=n,n}},{key:"enqueueAfterDelay",value:function(e,t,n){var r=this;this.zc(),this.jc.indexOf(e)>-1&&(t=0);var i=bx.createAndSchedule(this,e,t,n,(function(e){return r.Yc(e)}));return this.Uc.push(i),i}},{key:"zc",value:function(){this.Kc&&Hd()}},{key:"verifyOperationInProgress",value:function(){}},{key:"Xc",value:function(){var e=Fe(Re().mark((function e(){var t;return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.Bc,e.next=3,t;case 3:if(t!==this.Bc){e.next=0;break}case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Zc",value:function(e){var t,n=Q(this.Uc);try{for(n.s();!(t=n.n()).done;){if(t.value.timerId===e)return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"ta",value:function(e){var t=this;return this.Xc().then((function(){t.Uc.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));var n,r=Q(t.Uc);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.skipDelay(),"all"!==e&&i.timerId===e)break}}catch(a){r.e(a)}finally{r.f()}return t.Xc()}))}},{key:"ea",value:function(e){this.jc.push(e)}},{key:"Yc",value:function(e){var t=this.Uc.indexOf(e);this.Uc.splice(t,1)}}]),e}();function PI(e){return function(e,t){if("object"!=typeof e||null===e)return!1;var n,r=e,i=Q(["next","error","complete"]);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"==typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e)}var RI=function(){function e(){Z(this,e),this._progressObserver={},this._taskCompletionResolver=new Jd,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}return G(e,[{key:"onProgress",value:function(e,t,n){this._progressObserver={next:e,error:t,complete:n}}},{key:"catch",value:function(e){return this._taskCompletionResolver.promise.catch(e)}},{key:"then",value:function(e,t){return this._taskCompletionResolver.promise.then(e,t)}},{key:"_completeWith",value:function(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}},{key:"_failWith",value:function(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}},{key:"_updateProgress",value:function(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}]),e}(),LI=function(e){X(n,e);var t=ne(n);function n(e,r,i,a){var o;return Z(this,n),(o=t.call(this,e,r,i,a)).type="firestore",o._queue=new DI,o._persistenceKey=(null==a?void 0:a.name)||"[DEFAULT]",o}return G(n,[{key:"_terminate",value:function(){return this._firestoreClient||FI(this),this._firestoreClient.terminate()}}]),n}(eI);function MI(e){return e._firestoreClient||FI(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function FI(e){var t,n=e._freezeSettings(),r=function(e,t,n,r){return new Wp(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new pI(e._authCredentials,e._appCheckCredentials,e._queue,r)}function VI(e,t,n){var r=new Jd;return e.asyncQueue.enqueue(Fe(Re().mark((function i(){var a;return Re().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,vI(e,n);case 3:return i.next=5,mI(e,t);case 5:r.resolve(),i.next=14;break;case 8:if(i.prev=8,i.t0=i.catch(0),function(e){return"FirebaseError"===e.name?e.code===Yd.FAILED_PRECONDITION||e.code===Yd.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||(22===e.code||20===e.code||11===e.code)}(a=i.t0)){i.next=13;break}throw a;case 13:Wd("Error enabling offline persistence. Falling back to persistence disabled: "+a),r.reject(a);case 14:case"end":return i.stop()}}),i,null,[[0,8]])})))).then((function(){return r.promise}))}function jI(e){return function(e){return e.asyncQueue.enqueue(Fe(Re().mark((function t(){var n,r;return Re().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,_I(e);case 2:return n=t.sent,t.next=5,SI(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!0),function(e){var t=$d(e);return t._u.delete(0),Pw(t)}(r)));case 7:case"end":return t.stop()}}),t)}))))}(MI(e=$_(e,LI)))}function UI(e){return function(e){return e.asyncQueue.enqueue(Fe(Re().mark((function t(){var n,r;return Re().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,_I(e);case 2:return n=t.sent,t.next=5,SI(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!1),function(){var e=Fe(Re().mark((function e(t){var n;return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=$d(t))._u.add(0),e.next=4,Lw(n);case 4:n.gu.set("Offline");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(r)));case 7:case"end":return t.stop()}}),t)}))))}(MI(e=$_(e,LI)))}function zI(e,t){var n=MI(e=$_(e,LI)),r=new RI;return function(e,t,n,r){var i=function(e,t){return function(e,t){return new fI(e,t)}(function(e,t){if(e instanceof Uint8Array)return cI(e,t);if(e instanceof ArrayBuffer)return cI(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}("string"==typeof e?(new TextEncoder).encode(e):e),t)}(n,Sw(t));e.asyncQueue.enqueueAndForget(Fe(Re().mark((function t(){return Re().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=U_,t.next=3,EI(e);case 3:t.t1=t.sent,t.t2=i,t.t3=r,(0,t.t0)(t.t1,t.t2,t.t3);case 7:case"end":return t.stop()}}),t)}))))}(n,e._databaseId,t,r),r}function BI(e,t){return function(e,t){return e.asyncQueue.enqueue(Fe(Re().mark((function n(){return Re().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=function(e,t){var n=$d(e);return n.persistence.runTransaction("Get named query","readonly",(function(e){return n.Ns.getNamedQuery(e,t)}))},n.next=3,II(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)}))))}(MI(e=$_(e,LI)),t).then((function(t){return t?new rI(e,null,t.query):null}))}function qI(e){if(e._initialized||e._terminated)throw new Xd(Yd.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var ZI=function(){function e(t){Z(this,e),this._byteString=t}return G(e,[{key:"toBase64",value:function(){return this._byteString.toBase64()}},{key:"toUint8Array",value:function(){return this._byteString.toUint8Array()}},{key:"toString",value:function(){return"Bytes(base64: "+this.toBase64()+")"}},{key:"isEqual",value:function(e){return this._byteString.isEqual(e._byteString)}}],[{key:"fromBase64String",value:function(t){try{return new e(ev.fromBase64String(t))}catch(t){throw new Xd(Yd.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}},{key:"fromUint8Array",value:function(t){return new e(ev.fromUint8Array(t))}}]),e}(),KI=function(){function e(){Z(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0;i<n.length;++i)if(0===n[i].length)throw new Xd(Yd.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new gp(n)}return G(e,[{key:"isEqual",value:function(e){return this._internalPath.isEqual(e._internalPath)}}]),e}();var WI=G((function e(t){Z(this,e),this._methodName=t})),GI=function(){function e(t,n){if(Z(this,e),!isFinite(t)||t<-90||t>90)throw new Xd(Yd.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new Xd(Yd.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return G(e,[{key:"latitude",get:function(){return this._lat}},{key:"longitude",get:function(){return this._long}},{key:"isEqual",value:function(e){return this._lat===e._lat&&this._long===e._long}},{key:"toJSON",value:function(){return{latitude:this._lat,longitude:this._long}}},{key:"_compareTo",value:function(e){return lp(this._lat,e._lat)||lp(this._long,e._long)}}]),e}(),HI=/^__.*__$/,QI=function(){function e(t,n,r){Z(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return G(e,[{key:"toMutation",value:function(e,t){return null!==this.fieldMask?new um(e,this.data,this.fieldMask,t,this.fieldTransforms):new om(e,this.data,t,this.fieldTransforms)}}]),e}(),$I=function(){function e(t,n,r){Z(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return G(e,[{key:"toMutation",value:function(e,t){return new um(e,this.data,this.fieldMask,t,this.fieldTransforms)}}]),e}();function YI(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Hd()}}var XI=function(){function e(t,n,r,i,a,o){Z(this,e),this.settings=t,this.databaseId=n,this.yt=r,this.ignoreUndefinedProperties=i,void 0===a&&this.na(),this.fieldTransforms=a||[],this.fieldMask=o||[]}return G(e,[{key:"path",get:function(){return this.settings.path}},{key:"sa",get:function(){return this.settings.sa}},{key:"ia",value:function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.yt,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}},{key:"ra",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.ia({path:n,oa:!1});return r.ua(e),r}},{key:"ca",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.ia({path:n,oa:!1});return r.na(),r}},{key:"aa",value:function(e){return this.ia({path:void 0,oa:!0})}},{key:"ha",value:function(e){return gS(e,this.settings.methodName,this.settings.la||!1,this.path,this.settings.fa)}},{key:"contains",value:function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))}},{key:"na",value:function(){if(this.path)for(var e=0;e<this.path.length;e++)this.ua(this.path.get(e))}},{key:"ua",value:function(e){if(0===e.length)throw this.ha("Document fields must not be empty");if(YI(this.sa)&&HI.test(e))throw this.ha('Document fields cannot begin and end with "__"')}}]),e}(),JI=function(){function e(t,n,r){Z(this,e),this.databaseId=t,this.ignoreUndefinedProperties=n,this.yt=r||Sw(t)}return G(e,[{key:"da",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new XI({sa:e,methodName:t,fa:n,path:gp.emptyPath(),oa:!1,la:r},this.databaseId,this.yt,this.ignoreUndefinedProperties)}}]),e}();function eS(e){var t=e._freezeSettings(),n=Sw(e._databaseId);return new JI(e._databaseId,!!t.ignoreUndefinedProperties,n)}function tS(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},o=e.da(a.merge||a.mergeFields?2:0,t,n,i);pS("Data must be an object, but it was:",o,r);var u,s,c=hS(r,o);if(a.merge)u=new ay(o.fieldMask),s=o.fieldTransforms;else if(a.mergeFields){var l,f=[],h=Q(a.mergeFields);try{for(h.s();!(l=h.n()).done;){var d=vS(t,l.value,n);if(!o.contains(d))throw new Xd(Yd.INVALID_ARGUMENT,"Field '".concat(d,"' is specified in your field mask but missing from your input data."));kS(f,d)||f.push(d)}}catch(p){h.e(p)}finally{h.f()}u=new ay(f),s=o.fieldTransforms.filter((function(e){return u.covers(e.field)}))}else u=null,s=o.fieldTransforms;return new QI(new oy(c),u,s)}var nS=function(e){X(n,e);var t=ne(n);function n(){return Z(this,n),t.apply(this,arguments)}return G(n,[{key:"_toFieldTransform",value:function(e){if(2!==e.sa)throw 1===e.sa?e.ha("".concat(this._methodName,"() can only appear at the top level of your update data")):e.ha("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(WI);function rS(e,t,n){return new XI({sa:3,fa:t.settings.fa,methodName:e._methodName,oa:n},t.databaseId,t.yt,t.ignoreUndefinedProperties)}var iS=function(e){X(n,e);var t=ne(n);function n(){return Z(this,n),t.apply(this,arguments)}return G(n,[{key:"_toFieldTransform",value:function(e){return new $y(e.path,new By)}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(WI),aS=function(e){X(n,e);var t=ne(n);function n(e,r){var i;return Z(this,n),(i=t.call(this,e))._a=r,i}return G(n,[{key:"_toFieldTransform",value:function(e){var t=rS(this,e,!0),n=this._a.map((function(e){return fS(e,t)})),r=new qy(n);return new $y(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(WI),oS=function(e){X(n,e);var t=ne(n);function n(e,r){var i;return Z(this,n),(i=t.call(this,e))._a=r,i}return G(n,[{key:"_toFieldTransform",value:function(e){var t=rS(this,e,!0),n=this._a.map((function(e){return fS(e,t)})),r=new Ky(n);return new $y(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(WI),uS=function(e){X(n,e);var t=ne(n);function n(e,r){var i;return Z(this,n),(i=t.call(this,e)).wa=r,i}return G(n,[{key:"_toFieldTransform",value:function(e){var t=new Gy(e.yt,Fy(e.yt,this.wa));return new $y(e.path,t)}},{key:"isEqual",value:function(e){return this===e}}]),n}(WI);function sS(e,t,n,r){var i=e.da(1,t,n);pS("Data must be an object, but it was:",i,r);var a=[],o=oy.empty();Qp(r,(function(e,r){var u=mS(t,e,n);r=Pe(r);var s=i.ca(u);if(r instanceof nS)a.push(u);else{var c=fS(r,s);null!=c&&(a.push(u),o.set(u,c))}}));var u=new ay(a);return new $I(o,u,i.fieldTransforms)}function cS(e,t,n,r,i,a){var o=e.da(1,t,n),u=[vS(t,r,n)],s=[i];if(a.length%2!=0)throw new Xd(Yd.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(var c=0;c<a.length;c+=2)u.push(vS(t,a[c])),s.push(a[c+1]);for(var l=[],f=oy.empty(),h=u.length-1;h>=0;--h)if(!kS(l,u[h])){var d=u[h],p=s[h];p=Pe(p);var v=o.ca(d);if(p instanceof nS)l.push(d);else{var y=fS(p,v);null!=y&&(l.push(d),f.set(d,y))}}var m=new ay(l);return new $I(f,m,o.fieldTransforms)}function lS(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return fS(n,e.da(r?4:3,t))}function fS(e,t){if(dS(e=Pe(e)))return pS("Unsupported field value:",t,e),hS(e,t);if(e instanceof WI)return function(e,t){if(!YI(t.sa))throw t.ha("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.ha("".concat(e._methodName,"() is not currently supported inside arrays"));var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.oa&&4!==t.sa)throw t.ha("Nested arrays are not supported");return function(e,t){var n,r=[],i=0,a=Q(e);try{for(a.s();!(n=a.n()).done;){var o=fS(n.value,t.aa(i));null==o&&(o={nullValue:"NULL_VALUE"}),r.push(o),i++}}catch(u){a.e(u)}finally{a.f()}return{arrayValue:{values:r}}}(e,t)}return function(e,t){if(null===(e=Pe(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return Fy(t.yt,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=dp.fromDate(e);return{timestampValue:Km(t.yt,n)}}if(e instanceof dp){var r=new dp(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:Km(t.yt,r)}}if(e instanceof GI)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof ZI)return{bytesValue:Wm(t.yt,e._byteString)};if(e instanceof nI){var i=t.databaseId,a=e.firestore._databaseId;if(!a.isEqual(i))throw t.ha("Document reference is for database ".concat(a.projectId,"/").concat(a.database," but should be for database ").concat(i.projectId,"/").concat(i.database));return{referenceValue:Qm(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.ha("Unsupported field value: ".concat(Q_(e)))}(e,t)}function hS(e,t){var n={};return $p(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Qp(e,(function(e,r){var i=fS(r,t.ra(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function dS(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof dp||e instanceof GI||e instanceof ZI||e instanceof nI||e instanceof WI)}function pS(e,t,n){if(!dS(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){var r=Q_(n);throw"an object"===r?t.ha(e+" a custom object"):t.ha(e+" "+r)}}function vS(e,t,n){if((t=Pe(t))instanceof KI)return t._internalPath;if("string"==typeof t)return mS(e,t);throw gS("Field path arguments must be of type string or ",e,!1,void 0,n)}var yS=new RegExp("[~\\*/\\[\\]]");function mS(e,t,n){if(t.search(yS)>=0)throw gS("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return re(KI,(0,Le.Z)(t.split(".")))._internalPath}catch(nT){throw gS("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function gS(e,t,n,r,i){var a=r&&!r.isEmpty(),o=void 0!==i,u="Function ".concat(t,"() called with invalid data");n&&(u+=" (via `toFirestore()`)"),u+=". ";var s="";return(a||o)&&(s+=" (found",a&&(s+=" in field ".concat(r)),o&&(s+=" in document ".concat(i)),s+=")"),new Xd(Yd.INVALID_ARGUMENT,u+e+s)}function kS(e,t){return e.some((function(e){return e.isEqual(t)}))}var bS=function(){function e(t,n,r,i,a){Z(this,e),this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}return G(e,[{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"ref",get:function(){return new nI(this._firestore,this._converter,this._key)}},{key:"exists",value:function(){return null!==this._document}},{key:"data",value:function(){if(this._document){if(this._converter){var e=new wS(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}},{key:"get",value:function(e){if(this._document){var t=this._document.data.field(xS("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}]),e}(),wS=function(e){X(n,e);var t=ne(n);function n(){return Z(this,n),t.apply(this,arguments)}return G(n,[{key:"data",value:function(){return bn(J(n.prototype),"data",this).call(this)}}]),n}(bS);function xS(e,t){return"string"==typeof t?mS(e,t):t instanceof KI?t._internalPath:t._delegate._internalPath}function _S(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new Xd(Yd.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var IS=G((function e(){Z(this,e)})),SS=function(e){X(n,e);var t=ne(n);function n(){return Z(this,n),t.apply(this,arguments)}return G(n)}(IS);function ES(e,t){for(var n=[],r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a];t instanceof IS&&n.push(t),function(e){var t=e.filter((function(e){return e instanceof CS})).length,n=e.filter((function(e){return e instanceof TS})).length;if(t>1||t>0&&n>0)throw new Xd(Yd.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n=n.concat(i));var o,u=Q(n);try{for(u.s();!(o=u.n()).done;){e=o.value._apply(e)}}catch(s){u.e(s)}finally{u.f()}return e}var TS=function(e){X(n,e);var t=ne(n);function n(e,r,i){var a;return Z(this,n),(a=t.call(this))._field=e,a._op=r,a._value=i,a.type="where",a}return G(n,[{key:"_apply",value:function(e){var t=this._parse(e);return US(e._query,t),new rI(e.firestore,e.converter,Ey(e._query,t))}},{key:"_parse",value:function(e){var t=eS(e.firestore),n=function(e,t,n,r,i,a,o){var u;if(i.isKeyField()){if("array-contains"===a||"array-contains-any"===a)throw new Xd(Yd.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(a,"' queries on documentId()."));if("in"===a||"not-in"===a){jS(o,a);var s,c=[],l=Q(o);try{for(l.s();!(s=l.n()).done;){var f=s.value;c.push(VS(r,e,f))}}catch(h){l.e(h)}finally{l.f()}u={arrayValue:{values:c}}}else u=VS(r,e,o)}else"in"!==a&&"not-in"!==a&&"array-contains-any"!==a||jS(o,a),u=lS(n,"where",o,"in"===a||"not-in"===a);return Pv.create(i,a,u)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value);return n}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(SS);var CS=function(e){X(n,e);var t=ne(n);function n(e,r){var i;return Z(this,n),(i=t.call(this)).type=e,i._queryConstraints=r,i}return G(n,[{key:"_parse",value:function(e){var t=this._queryConstraints.map((function(t){return t._parse(e)})).filter((function(e){return e.getFilters().length>0}));return 1===t.length?t[0]:Rv.create(t,this._getOperator())}},{key:"_apply",value:function(e){var t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){var n,r=e,i=Q(t.getFlattenedFilters());try{for(i.s();!(n=i.n()).done;){var a=n.value;US(r,a),r=Ey(r,a)}}catch(o){i.e(o)}finally{i.f()}}(e._query,t),new rI(e.firestore,e.converter,Ey(e._query,t)))}},{key:"_getQueryConstraints",value:function(){return this._queryConstraints}},{key:"_getOperator",value:function(){return"and"===this.type?"and":"or"}}],[{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(IS);var AS=function(e){X(n,e);var t=ne(n);function n(e,r){var i;return Z(this,n),(i=t.call(this))._field=e,i._direction=r,i.type="orderBy",i}return G(n,[{key:"_apply",value:function(e){var t=function(e,t,n){if(null!==e.startAt)throw new Xd(Yd.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new Xd(Yd.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new Yv(t,n);return function(e,t){if(null===wy(e)){var n=xy(e);null!==n&&zS(e,n,t.field)}}(e,r),r}(e._query,this._field,this._direction);return new rI(e.firestore,e.converter,function(e,t){var n=e.explicitOrderBy.concat([t]);return new my(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}],[{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(SS);var NS=function(e){X(n,e);var t=ne(n);function n(e,r,i){var a;return Z(this,n),(a=t.call(this)).type=e,a._limit=r,a._limitType=i,a}return G(n,[{key:"_apply",value:function(e){return new rI(e.firestore,e.converter,Ty(e._query,this._limit,this._limitType))}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(SS);var OS=function(e){X(n,e);var t=ne(n);function n(e,r,i){var a;return Z(this,n),(a=t.call(this)).type=e,a._docOrFields=r,a._inclusive=i,a}return G(n,[{key:"_apply",value:function(e){var t=FS(e,this.type,this._docOrFields,this._inclusive);return new rI(e.firestore,e.converter,function(e,t){return new my(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(SS);function DS(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return OS._create("startAt",t,!0)}function PS(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return OS._create("startAfter",t,!1)}var RS=function(e){X(n,e);var t=ne(n);function n(e,r,i){var a;return Z(this,n),(a=t.call(this)).type=e,a._docOrFields=r,a._inclusive=i,a}return G(n,[{key:"_apply",value:function(e){var t=FS(e,this.type,this._docOrFields,this._inclusive);return new rI(e.firestore,e.converter,function(e,t){return new my(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(SS);function LS(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return RS._create("endBefore",t,!1)}function MS(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return RS._create("endAt",t,!0)}function FS(e,t,n,r){if(n[0]=Pe(n[0]),n[0]instanceof bS)return function(e,t,n,r,i){if(!r)throw new Xd(Yd.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for ".concat(n,"()."));var a,o=[],u=Q(Iy(e));try{for(u.s();!(a=u.n()).done;){var s=a.value;if(s.field.isKeyField())o.push(mv(t,r.key));else{var c=r.data.field(s.field);if(av(c))throw new Xd(Yd.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+s.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=s.field.canonicalString();throw new Xd(Yd.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '".concat(l,"' (used as the orderBy) does not exist."))}o.push(c)}}}catch(f){u.e(f)}finally{u.f()}return new Av(o,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);var i=eS(e.firestore);return function(e,t,n,r,i,a){var o=e.explicitOrderBy;if(i.length>o.length)throw new Xd(Yd.INVALID_ARGUMENT,"Too many arguments provided to ".concat(r,"(). The number of arguments must be less than or equal to the number of orderBy() clauses"));for(var u=[],s=0;s<i.length;s++){var c=i[s];if(o[s].field.isKeyField()){if("string"!=typeof c)throw new Xd(Yd.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in ".concat(r,"(), but got a ").concat(typeof c));if(!_y(e)&&-1!==c.indexOf("/"))throw new Xd(Yd.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by documentId(), the value passed to ".concat(r,"() must be a plain document ID, but '").concat(c,"' contains a slash."));var l=e.path.child(yp.fromString(c));if(!kp.isDocumentKey(l))throw new Xd(Yd.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by documentId(), the value passed to ".concat(r,"() must result in a valid document path, but '").concat(l,"' is not because it contains an odd number of segments."));var f=new kp(l);u.push(mv(t,f))}else{var h=lS(n,r,c);u.push(h)}}return new Av(u,a)}(e._query,e.firestore._databaseId,i,t,n,r)}function VS(e,t,n){if("string"==typeof(n=Pe(n))){if(""===n)throw new Xd(Yd.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!_y(t)&&-1!==n.indexOf("/"))throw new Xd(Yd.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));var r=t.path.child(yp.fromString(n));if(!kp.isDocumentKey(r))throw new Xd(Yd.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return mv(e,new kp(r))}if(n instanceof nI)return mv(e,n._key);throw new Xd(Yd.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(Q_(n),"."))}function jS(e,t){if(!Array.isArray(e)||0===e.length)throw new Xd(Yd.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."));if(e.length>10)throw new Xd(Yd.INVALID_ARGUMENT,"Invalid Query. '".concat(t.toString(),"' filters support a maximum of 10 elements in the value array."))}function US(e,t){if(t.isInequality()){var n=xy(e),r=t.field;if(null!==n&&!n.isEqual(r))throw new Xd(Yd.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '".concat(n.toString(),"' and '").concat(r.toString(),"'"));var i=wy(e);null!==i&&zS(e,r,i)}var a=function(e,t){var n,r=Q(e);try{for(r.s();!(n=r.n()).done;){var i,a=Q(n.value.getFlattenedFilters());try{for(a.s();!(i=a.n()).done;){var o=i.value;if(t.indexOf(o.op)>=0)return o.op}}catch(u){a.e(u)}finally{a.f()}}}catch(u){r.e(u)}finally{r.f()}return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==a)throw a===t.op?new Xd(Yd.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new Xd(Yd.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(a.toString(),"' filters."))}function zS(e,t,n){if(!n.isEqual(t))throw new Xd(Yd.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '".concat(t.toString(),"' and so you must also use '").concat(t.toString(),"' as your first argument to orderBy(), but your first orderBy() is on field '").concat(n.toString(),"' instead."))}var BS=function(){function e(){Z(this,e)}return G(e,[{key:"convertValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(lv(e)){case 0:return null;case 1:return e.booleanValue;case 2:return rv(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(iv(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Hd()}}},{key:"convertObject",value:function(e,t){var n=this,r={};return Qp(e.fields,(function(e,i){r[e]=n.convertValue(i,t)})),r}},{key:"convertGeoPoint",value:function(e){return new GI(rv(e.latitude),rv(e.longitude))}},{key:"convertArray",value:function(e,t){var n=this;return(e.values||[]).map((function(e){return n.convertValue(e,t)}))}},{key:"convertServerTimestamp",value:function(e,t){switch(t){case"previous":var n=ov(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(uv(e));default:return null}}},{key:"convertTimestamp",value:function(e){var t=nv(e);return new dp(t.seconds,t.nanos)}},{key:"convertDocumentKey",value:function(e,t){var n=yp.fromString(e);Qd(kg(n));var r=new Gp(n.get(1),n.get(3)),i=new kp(n.popFirst(5));return r.isEqual(t)||Kd("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}]),e}();function qS(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var ZS=function(e){X(n,e);var t=ne(n);function n(e){var r;return Z(this,n),(r=t.call(this)).firestore=e,r}return G(n,[{key:"convertBytes",value:function(e){return new ZI(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new nI(this.firestore,null,t)}}]),n}(BS),KS=function(){function e(t,n){Z(this,e),this.hasPendingWrites=t,this.fromCache=n}return G(e,[{key:"isEqual",value:function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}]),e}(),WS=function(e){X(n,e);var t=ne(n);function n(e,r,i,a,o,u){var s;return Z(this,n),(s=t.call(this,e,r,i,a,u))._firestore=e,s._firestoreImpl=e,s.metadata=o,s}return G(n,[{key:"exists",value:function(){return bn(J(n.prototype),"exists",this).call(this)}},{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){var t=new GS(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){var n=this._document.data.field(xS("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}]),n}(bS),GS=function(e){X(n,e);var t=ne(n);function n(){return Z(this,n),t.apply(this,arguments)}return G(n,[{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return bn(J(n.prototype),"data",this).call(this,e)}}]),n}(WS),HS=function(){function e(t,n,r,i){Z(this,e),this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new KS(i.hasPendingWrites,i.fromCache),this.query=r}return G(e,[{key:"docs",get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e}},{key:"size",get:function(){return this._snapshot.docs.size}},{key:"empty",get:function(){return 0===this.size}},{key:"forEach",value:function(e,t){var n=this;this._snapshot.docs.forEach((function(r){e.call(t,new GS(n._firestore,n._userDataWriter,r.key,r,new KS(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))}},{key:"docChanges",value:function(){var e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new Xd(Yd.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map((function(t){var r=new GS(e._firestore,e._userDataWriter,t.doc.key,t.doc,new KS(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);return t.doc,{type:"added",doc:r,oldIndex:-1,newIndex:n++}}))}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var n=new GS(e._firestore,e._userDataWriter,t.doc.key,t.doc,new KS(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,a=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(a=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:QS(t.type),doc:n,oldIndex:i,newIndex:a}}))}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}]),e}();function QS(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Hd()}}function $S(e,t){return e instanceof WS&&t instanceof WS?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof HS&&t instanceof HS&&e._firestore===t._firestore&&sI(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}var YS=function(e){X(n,e);var t=ne(n);function n(e){var r;return Z(this,n),(r=t.call(this)).firestore=e,r}return G(n,[{key:"convertBytes",value:function(e){return new ZI(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new nI(this.firestore,null,t)}}]),n}(BS);function XS(e){e=$_(e,nI);var t=$_(e.firestore,LI),n=MI(t),r=new YS(t);return function(e,t){var n=new Jd;return e.asyncQueue.enqueueAndForget(Fe(Re().mark((function r(){return Re().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=Fe(Re().mark((function e(t,n,r){var i,a;return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,function(e,t){var n=$d(e);return n.persistence.runTransaction("read document","readonly",(function(e){return n.localDocuments.getDocument(e,t)}))}(t,n);case 3:(i=e.sent).isFoundDocument()?r.resolve(i):i.isNoDocument()?r.resolve(null):r.reject(new Xd(Yd.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),a=wx(e.t0,"Failed to get document '".concat(n," from cache")),r.reject(a);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,II(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._key).then((function(n){return new WS(t,r,e._key,n,new KS(null!==n&&n.hasLocalMutations,!0),e.converter)}))}function JS(e){e=$_(e,rI);var t=$_(e.firestore,LI),n=MI(t),r=new YS(t);return function(e,t){var n=new Jd;return e.asyncQueue.enqueueAndForget(Fe(Re().mark((function r(){return Re().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=Fe(Re().mark((function e(t,n,r){var i,a,o,u,s;return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ew(t,n,!0);case 3:i=e.sent,a=new zx(n,i.Hi),o=a.Wu(i.documents),u=a.applyChanges(o,!1),r.resolve(u.snapshot),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),s=wx(e.t0,"Failed to execute query '".concat(n," against cache")),r.reject(s);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,II(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._query).then((function(n){return new HS(t,r,e,n)}))}function eE(e,t,n){e=$_(e,nI);var r=$_(e.firestore,LI),i=qS(e.converter,t,n);return iE(r,[tS(eS(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,Xy.none())])}function tE(e,t,n){e=$_(e,nI);for(var r=$_(e.firestore,LI),i=eS(r),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return iE(r,[("string"==typeof(t=Pe(t))||t instanceof KI?cS(i,"updateDoc",e._key,t,n,o):sS(i,"updateDoc",e._key,t)).toMutation(e._key,Xy.exists(!0))])}function nE(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,a,o;e=Pe(e);var u={includeMetadataChanges:!1},s=0;"object"!=typeof n[s]||PI(n[s])||(u=n[s],s++);var c,l,f,h={includeMetadataChanges:u.includeMetadataChanges};if(PI(n[s])){var d=n[s];n[s]=null===(i=d.next)||void 0===i?void 0:i.bind(d),n[s+1]=null===(a=d.error)||void 0===a?void 0:a.bind(d),n[s+2]=null===(o=d.complete)||void 0===o?void 0:o.bind(d)}if(e instanceof nI)l=$_(e.firestore,LI),f=ky(e._key.path),c={next:function(t){n[s]&&n[s](aE(l,e,t))},error:n[s+1],complete:n[s+2]};else{var p=$_(e,rI);l=$_(p.firestore,LI),f=p._query;var v=new YS(l);c={next:function(e){n[s]&&n[s](new HS(l,v,p,e))},error:n[s+1],complete:n[s+2]},_S(e._query)}return function(e,t,n,r){var i=new lI(r),a=new Rx(t,i,n);return e.asyncQueue.enqueueAndForget(Fe(Re().mark((function t(){return Re().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=Tx,t.next=3,CI(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){i.bc(),e.asyncQueue.enqueueAndForget(Fe(Re().mark((function t(){return Re().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=Ax,t.next=3,CI(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(MI(l),f,h,c)}function rE(e,t){return function(e,t){var n=new lI(t);return e.asyncQueue.enqueueAndForget(Fe(Re().mark((function t(){return Re().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){$d(e).Ru.add(t),t.next()},t.next=3,CI(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){n.bc(),e.asyncQueue.enqueueAndForget(Fe(Re().mark((function t(){return Re().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){$d(e).Ru.delete(t)},t.next=3,CI(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(MI(e=$_(e,LI)),PI(t)?t:{next:t})}function iE(e,t){return function(e,t){var n=new Jd;return e.asyncQueue.enqueueAndForget(Fe(Re().mark((function r(){return Re().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=Yx,r.next=3,EI(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(MI(e),t)}function aE(e,t,n){var r=n.docs.get(t._key),i=new YS(e);return new WS(e,i,t._key,r,new KS(n.hasPendingWrites,n.fromCache),t.converter)}var oE={maxAttempts:5},uE=function(){function e(t,n){Z(this,e),this._firestore=t,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=eS(t)}return G(e,[{key:"set",value:function(e,t,n){this._verifyNotCommitted();var r=sE(e,this._firestore),i=qS(r.converter,t,n),a=tS(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(a.toMutation(r._key,Xy.none())),this}},{key:"update",value:function(e,t,n){this._verifyNotCommitted();for(var r,i=sE(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return r="string"==typeof(t=Pe(t))||t instanceof KI?cS(this._dataReader,"WriteBatch.update",i._key,t,n,o):sS(this._dataReader,"WriteBatch.update",i._key,t),this._mutations.push(r.toMutation(i._key,Xy.exists(!0))),this}},{key:"delete",value:function(e){this._verifyNotCommitted();var t=sE(e,this._firestore);return this._mutations=this._mutations.concat(new dm(t._key,Xy.none())),this}},{key:"commit",value:function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}},{key:"_verifyNotCommitted",value:function(){if(this._committed)throw new Xd(Yd.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}]),e}();function sE(e,t){if((e=Pe(e)).firestore!==t)throw new Xd(Yd.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}var cE=function(e){X(n,e);var t=ne(n);function n(e,r){var i;return Z(this,n),(i=t.call(this,e,r))._firestore=e,i}return G(n,[{key:"get",value:function(e){var t=this,r=sE(e,this._firestore),i=new YS(this._firestore);return bn(J(n.prototype),"get",this).call(this,e).then((function(e){return new WS(t._firestore,i,r._key,e._document,new KS(!1,!1),r.converter)}))}}]),n}(function(){function e(t,n){Z(this,e),this._firestore=t,this._transaction=n,this._dataReader=eS(t)}return G(e,[{key:"get",value:function(e){var t=this,n=sE(e,this._firestore),r=new ZS(this._firestore);return this._transaction.lookup([n._key]).then((function(e){if(!e||1!==e.length)return Hd();var i=e[0];if(i.isFoundDocument())return new bS(t._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new bS(t._firestore,r,n._key,null,n.converter);throw Hd()}))}},{key:"set",value:function(e,t,n){var r=sE(e,this._firestore),i=qS(r.converter,t,n),a=tS(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,a),this}},{key:"update",value:function(e,t,n){for(var r,i=sE(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return r="string"==typeof(t=Pe(t))||t instanceof KI?cS(this._dataReader,"Transaction.update",i._key,t,n,o):sS(this._dataReader,"Transaction.update",i._key,t),this._transaction.update(i._key,r),this}},{key:"delete",value:function(e){var t=sE(e,this._firestore);return this._transaction.delete(t._key),this}}]),e}());function lE(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new aS("arrayUnion",t)}function fE(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new oS("arrayRemove",t)}!function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){zd=e}(Rt),Tt(new Ve("firestore",(function(e,n){var r=n.instanceIdentifier,i=n.options,a=e.getProvider("app").getImmediate(),o=new LI(new rp(e.getProvider("auth-internal")),new up(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new Xd(Yd.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Gp(e.options.projectId,t)}(a,r),a);return i=Object.assign({useFetchStreams:t},i),o._setSettings(i),o}),"PUBLIC").setMultipleInstances(!0)),Ut(jd,"3.8.3",e),Ut(jd,"3.8.3","esm2017")}();var hE="@firebase/firestore-compat",dE="0.3.3";function pE(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new Xd("invalid-argument","Invalid options passed to function ".concat(e,"(): You cannot ")+'specify both "merge" and "mergeFields".');return t}function vE(){if("undefined"===typeof Uint8Array)throw new Xd("unimplemented","Uint8Arrays are not available in this environment.")}function yE(){if("undefined"==typeof atob)throw new Xd("unimplemented","Blobs are unavailable in Firestore in this environment.")}var mE=function(){function e(t){Z(this,e),this._delegate=t}return G(e,[{key:"toBase64",value:function(){return yE(),this._delegate.toBase64()}},{key:"toUint8Array",value:function(){return vE(),this._delegate.toUint8Array()}},{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}},{key:"toString",value:function(){return"Blob(base64: "+this.toBase64()+")"}}],[{key:"fromBase64String",value:function(t){return yE(),new e(ZI.fromBase64String(t))}},{key:"fromUint8Array",value:function(t){return vE(),new e(ZI.fromUint8Array(t))}}]),e}();function gE(e){return function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=e,i=Q(t);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"===typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e,["next","error","complete"])}var kE=function(){function e(){Z(this,e)}return G(e,[{key:"enableIndexedDbPersistence",value:function(e,t){return function(e,t){qI(e=$_(e,LI));var n=MI(e),r=e._freezeSettings(),i=new Z_;return VI(n,i,new B_(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})}},{key:"enableMultiTabIndexedDbPersistence",value:function(e){return function(e){qI(e=$_(e,LI));var t=MI(e),n=e._freezeSettings(),r=new Z_;return VI(t,r,new q_(r,n.cacheSizeBytes))}(e._delegate)}},{key:"clearIndexedDbPersistence",value:function(e){return function(e){if(e._initialized&&!e._terminated)throw new Xd(Yd.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var t=new Jd;return e._queue.enqueueAndForgetEvenWhileRestricted(Fe(Re().mark((function n(){return Re().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,function(){var e=Fe(Re().mark((function e(t){var n;return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Lp.C()){e.next=2;break}return e.abrupt("return",Promise.resolve());case 2:return n=t+"main",e.next=5,Lp.delete(n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(jb(e._databaseId,e._persistenceKey));case 3:t.resolve(),n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),t.reject(n.t0);case 9:case"end":return n.stop()}}),n,null,[[0,6]])})))),t.promise}(e._delegate)}}]),e}(),bE=function(){function e(t,n,r){var i=this;Z(this,e),this._delegate=n,this._persistenceProvider=r,this.INTERNAL={delete:function(){return i.terminate()}},t instanceof Gp||(this._appCompat=t)}return G(e,[{key:"_databaseId",get:function(){return this._delegate._databaseId}},{key:"settings",value:function(e){var t=this._delegate._getSettings();e.merge||t.host===e.host||Wd("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}},{key:"useEmulator",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};tI(this._delegate,e,t,n)}},{key:"enableNetwork",value:function(){return jI(this._delegate)}},{key:"disableNetwork",value:function(){return UI(this._delegate)}},{key:"enablePersistence",value:function(e){var t=!1,n=!1;return e&&W_("synchronizeTabs",t=!!e.synchronizeTabs,"experimentalForceOwningTab",n=!!e.experimentalForceOwningTab),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}},{key:"clearPersistence",value:function(){return this._persistenceProvider.clearIndexedDbPersistence(this)}},{key:"terminate",value:function(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}},{key:"waitForPendingWrites",value:function(){return function(e){return function(e){var t=new Jd;return e.asyncQueue.enqueueAndForget(Fe(Re().mark((function n(){return Re().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=s_,n.next=3,EI(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)})))),t.promise}(MI(e=$_(e,LI)))}(this._delegate)}},{key:"onSnapshotsInSync",value:function(e){return rE(this._delegate,e)}},{key:"app",get:function(){if(!this._appCompat)throw new Xd("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}},{key:"collection",value:function(e){try{return new RE(this,aI(this._delegate,e))}catch(t){throw EE(t,"collection()","Firestore.collection()")}}},{key:"doc",value:function(e){try{return new SE(this,oI(this._delegate,e))}catch(t){throw EE(t,"doc()","Firestore.doc()")}}},{key:"collectionGroup",value:function(e){try{return new OE(this,function(e,t){if(e=$_(e,eI),K_("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new Xd(Yd.INVALID_ARGUMENT,"Invalid collection ID '".concat(t,"' passed to function collectionGroup(). Collection IDs must not contain '/'."));return new rI(e,null,function(e){return new my(yp.emptyPath(),e)}(t))}(this._delegate,e))}catch(t){throw EE(t,"collectionGroup()","Firestore.collectionGroup()")}}},{key:"runTransaction",value:function(e){var t=this;return function(e,t,n){e=$_(e,LI);var r=Object.assign(Object.assign({},oE),n);return function(e){if(e.maxAttempts<1)throw new Xd(Yd.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(e,t,n){var r=new Jd;return e.asyncQueue.enqueueAndForget(Fe(Re().mark((function i(){var a;return Re().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,TI(e);case 2:a=i.sent,new dI(e.asyncQueue,a,n,t,r).run();case 4:case"end":return i.stop()}}),i)})))),r.promise}(MI(e),(function(n){return t(new cE(e,n))}),r)}(this._delegate,(function(n){return e(new xE(t,n))}))}},{key:"batch",value:function(){var e=this;return MI(this._delegate),new _E(new uE(this._delegate,(function(t){return iE(e._delegate,t)})))}},{key:"loadBundle",value:function(e){return zI(this._delegate,e)}},{key:"namedQuery",value:function(e){var t=this;return BI(this._delegate,e).then((function(e){return e?new OE(t,e):null}))}}]),e}(),wE=function(e){X(n,e);var t=ne(n);function n(e){var r;return Z(this,n),(r=t.call(this)).firestore=e,r}return G(n,[{key:"convertBytes",value:function(e){return new mE(new ZI(e))}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return SE.forKey(t,this.firestore,null)}}]),n}(BS);var xE=function(){function e(t,n){Z(this,e),this._firestore=t,this._delegate=n,this._userDataWriter=new wE(t)}return G(e,[{key:"get",value:function(e){var t=this,n=LE(e);return this._delegate.get(n).then((function(e){return new AE(t._firestore,new WS(t._firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,n.converter))}))}},{key:"set",value:function(e,t,n){var r=LE(e);return n?(pE("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,u=LE(e);2===arguments.length?this._delegate.update(u,t):(o=this._delegate).update.apply(o,[u,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=LE(e);return this._delegate.delete(t),this}}]),e}(),_E=function(){function e(t){Z(this,e),this._delegate=t}return G(e,[{key:"set",value:function(e,t,n){var r=LE(e);return n?(pE("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,u=LE(e);2===arguments.length?this._delegate.update(u,t):(o=this._delegate).update.apply(o,[u,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=LE(e);return this._delegate.delete(t),this}},{key:"commit",value:function(){return this._delegate.commit()}}]),e}(),IE=function(){function e(t,n,r){Z(this,e),this._firestore=t,this._userDataWriter=n,this._delegate=r}return G(e,[{key:"fromFirestore",value:function(e,t){var n=new GS(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new NE(this._firestore,n),null!==t&&void 0!==t?t:{})}},{key:"toFirestore",value:function(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}}],[{key:"getInstance",value:function(t,n){var r=e.INSTANCES,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var a=i.get(n);return a||(a=new e(t,new wE(t),n),i.set(n,a)),a}}]),e}();IE.INSTANCES=new WeakMap;var SE=function(){function e(t,n){Z(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new wE(t)}return G(e,[{key:"id",get:function(){return this._delegate.id}},{key:"parent",get:function(){return new RE(this.firestore,this._delegate.parent)}},{key:"path",get:function(){return this._delegate.path}},{key:"collection",value:function(e){try{return new RE(this.firestore,aI(this._delegate,e))}catch(t){throw EE(t,"collection()","DocumentReference.collection()")}}},{key:"isEqual",value:function(e){return(e=Pe(e))instanceof nI&&uI(this._delegate,e)}},{key:"set",value:function(e,t){t=pE("DocumentReference.set",t);try{return t?eE(this._delegate,e,t):eE(this._delegate,e)}catch(n){throw EE(n,"setDoc()","DocumentReference.set()")}}},{key:"update",value:function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];try{return 1===arguments.length?tE(this._delegate,e):tE.apply(void 0,[this._delegate,e,t].concat(r))}catch(a){throw EE(a,"updateDoc()","DocumentReference.update()")}}},{key:"delete",value:function(){return function(e){return iE($_(e.firestore,LI),[new dm(e._key,Xy.none())])}(this._delegate)}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=TE(n),a=CE(n,(function(t){return new AE(e.firestore,new WS(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))}));return nE(this._delegate,i,a)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?XS(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=$_(e,nI);var t=$_(e.firestore,LI);return NI(MI(t),e._key,{source:"server"}).then((function(n){return aE(t,e,n)}))}(this._delegate):function(e){e=$_(e,nI);var t=$_(e.firestore,LI);return NI(MI(t),e._key).then((function(n){return aE(t,e,n)}))}(this._delegate),t.then((function(e){return new AE(n.firestore,new WS(n.firestore._delegate,n._userDataWriter,e._key,e._document,e.metadata,n._delegate.converter))}))}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(IE.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}],[{key:"forPath",value:function(t,n,r){if(t.length%2!==0)throw new Xd("invalid-argument","Invalid document reference. Document references must have an even number of segments, but "+"".concat(t.canonicalString()," has ").concat(t.length));return new e(n,new nI(n._delegate,r,new kp(t)))}},{key:"forKey",value:function(t,n,r){return new e(n,new nI(n._delegate,r,t))}}]),e}();function EE(e,t,n){return e.message=e.message.replace(t,n),e}function TE(e){var t,n=Q(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;if("object"===typeof r&&!gE(r))return r}}catch(i){n.e(i)}finally{n.f()}return{}}function CE(e,t){var n,r,i;return{next:function(e){i.next&&i.next(t(e))},error:null===(n=(i=gE(e[0])?e[0]:gE(e[1])?e[1]:"function"===typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var AE=function(){function e(t,n){Z(this,e),this._firestore=t,this._delegate=n}return G(e,[{key:"ref",get:function(){return new SE(this._firestore,this._delegate.ref)}},{key:"id",get:function(){return this._delegate.id}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"exists",get:function(){return this._delegate.exists()}},{key:"data",value:function(e){return this._delegate.data(e)}},{key:"get",value:function(e,t){return this._delegate.get(e,t)}},{key:"isEqual",value:function(e){return $S(this._delegate,e._delegate)}}]),e}(),NE=function(e){X(n,e);var t=ne(n);function n(){return Z(this,n),t.apply(this,arguments)}return G(n,[{key:"data",value:function(e){var t=this._delegate.data(e);return function(e,t){e||Hd()}(void 0!==t),t}}]),n}(AE),OE=function(){function e(t,n){Z(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new wE(t)}return G(e,[{key:"where",value:function(t,n,r){try{return new e(this.firestore,ES(this._delegate,function(e,t,n){var r=t,i=xS("where",e);return TS._create(i,r,n)}(t,n,r)))}catch(i){throw EE(i,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"orderBy",value:function(t,n){try{return new e(this.firestore,ES(this._delegate,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=xS("orderBy",e);return AS._create(n,t)}(t,n)))}catch(r){throw EE(r,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"limit",value:function(t){try{return new e(this.firestore,ES(this._delegate,function(e){return Y_("limit",e),NS._create("limit",e,"F")}(t)))}catch(n){throw EE(n,"limit()","Query.limit()")}}},{key:"limitToLast",value:function(t){try{return new e(this.firestore,ES(this._delegate,function(e){return Y_("limitToLast",e),NS._create("limitToLast",e,"L")}(t)))}catch(n){throw EE(n,"limitToLast()","Query.limitToLast()")}}},{key:"startAt",value:function(){try{return new e(this.firestore,ES(this._delegate,DS.apply(void 0,arguments)))}catch(t){throw EE(t,"startAt()","Query.startAt()")}}},{key:"startAfter",value:function(){try{return new e(this.firestore,ES(this._delegate,PS.apply(void 0,arguments)))}catch(t){throw EE(t,"startAfter()","Query.startAfter()")}}},{key:"endBefore",value:function(){try{return new e(this.firestore,ES(this._delegate,LS.apply(void 0,arguments)))}catch(t){throw EE(t,"endBefore()","Query.endBefore()")}}},{key:"endAt",value:function(){try{return new e(this.firestore,ES(this._delegate,MS.apply(void 0,arguments)))}catch(t){throw EE(t,"endAt()","Query.endAt()")}}},{key:"isEqual",value:function(e){return sI(this._delegate,e._delegate)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?JS(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=$_(e,rI);var t=$_(e.firestore,LI),n=MI(t),r=new YS(t);return OI(n,e._query,{source:"server"}).then((function(n){return new HS(t,r,e,n)}))}(this._delegate):function(e){e=$_(e,rI);var t=$_(e.firestore,LI),n=MI(t),r=new YS(t);return _S(e._query),OI(n,e._query).then((function(n){return new HS(t,r,e,n)}))}(this._delegate),t.then((function(e){return new PE(n.firestore,new HS(n.firestore._delegate,n._userDataWriter,n._delegate,e._snapshot))}))}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=TE(n),a=CE(n,(function(t){return new PE(e.firestore,new HS(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))}));return nE(this._delegate,i,a)}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(IE.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}]),e}(),DE=function(){function e(t,n){Z(this,e),this._firestore=t,this._delegate=n}return G(e,[{key:"type",get:function(){return this._delegate.type}},{key:"doc",get:function(){return new NE(this._firestore,this._delegate.doc)}},{key:"oldIndex",get:function(){return this._delegate.oldIndex}},{key:"newIndex",get:function(){return this._delegate.newIndex}}]),e}(),PE=function(){function e(t,n){Z(this,e),this._firestore=t,this._delegate=n}return G(e,[{key:"query",get:function(){return new OE(this._firestore,this._delegate.query)}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"size",get:function(){return this._delegate.size}},{key:"empty",get:function(){return this._delegate.empty}},{key:"docs",get:function(){var e=this;return this._delegate.docs.map((function(t){return new NE(e._firestore,t)}))}},{key:"docChanges",value:function(e){var t=this;return this._delegate.docChanges(e).map((function(e){return new DE(t._firestore,e)}))}},{key:"forEach",value:function(e,t){var n=this;this._delegate.forEach((function(r){e.call(t,new NE(n._firestore,r))}))}},{key:"isEqual",value:function(e){return $S(this._delegate,e._delegate)}}]),e}(),RE=function(e){X(n,e);var t=ne(n);function n(e,r){var i;return Z(this,n),(i=t.call(this,e,r)).firestore=e,i._delegate=r,i}return G(n,[{key:"id",get:function(){return this._delegate.id}},{key:"path",get:function(){return this._delegate.path}},{key:"parent",get:function(){var e=this._delegate.parent;return e?new SE(this.firestore,e):null}},{key:"doc",value:function(e){try{return new SE(this.firestore,void 0===e?oI(this._delegate):oI(this._delegate,e))}catch(t){throw EE(t,"doc()","CollectionReference.doc()")}}},{key:"add",value:function(e){var t=this;return function(e,t){var n=$_(e.firestore,LI),r=oI(e),i=qS(e.converter,t);return iE(n,[tS(eS(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,Xy.exists(!1))]).then((function(){return r}))}(this._delegate,e).then((function(e){return new SE(t.firestore,e)}))}},{key:"isEqual",value:function(e){return uI(this._delegate,e._delegate)}},{key:"withConverter",value:function(e){return new n(this.firestore,e?this._delegate.withConverter(IE.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}]),n}(OE);function LE(e){return $_(e,nI)}var ME=function(){function e(){Z(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];this._delegate=re(KI,n)}return G(e,[{key:"isEqual",value:function(e){return(e=Pe(e))instanceof KI&&this._delegate._internalPath.isEqual(e._internalPath)}}],[{key:"documentId",value:function(){return new e(gp.keyField().canonicalString())}}]),e}(),FE=function(){function e(t){Z(this,e),this._delegate=t}return G(e,[{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}}],[{key:"serverTimestamp",value:function(){var t=new iS("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)}},{key:"delete",value:function(){var t=new nS("deleteField");return t._methodName="FieldValue.delete",new e(t)}},{key:"arrayUnion",value:function(){var t=lE.apply(void 0,arguments);return t._methodName="FieldValue.arrayUnion",new e(t)}},{key:"arrayRemove",value:function(){var t=fE.apply(void 0,arguments);return t._methodName="FieldValue.arrayRemove",new e(t)}},{key:"increment",value:function(t){var n=function(e){return new uS("increment",e)}(t);return n._methodName="FieldValue.increment",new e(n)}}]),e}(),VE={Firestore:bE,GeoPoint:GI,Timestamp:dp,Blob:mE,Transaction:xE,WriteBatch:_E,DocumentReference:SE,DocumentSnapshot:AE,Query:OE,QueryDocumentSnapshot:NE,QuerySnapshot:PE,CollectionReference:RE,FieldPath:ME,FieldValue:FE,setLogLevel:function(e){!function(e){Bd.setLogLevel(e)}(e)},CACHE_SIZE_UNLIMITED:-1};!function(e){!function(e,t){e.INTERNAL.registerComponent(new Ve("firestore-compat",(function(e){var n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(n,r)}),"PUBLIC").setServiceProps(Object.assign({},VE)))}(e,(function(e,t){return new bE(e,t,new kE)})),e.registerVersion(hE,dE)}(yn);var jE=yn.initializeApp({apiKey:"AIzaSyD4br9ES9gqp1WdnczMXi09YLpfGCh5JkM",authDomain:"linkedin-clone-d0914.firebaseapp.com",projectId:"linkedin-clone-d0914",storageBucket:"linkedin-clone-d0914.appspot.com",messagingSenderId:"1000606372592",appId:"1:1000606372592:web:9ca310baa0665dcc806835"}).firestore();yn.auth();var UE=function(){var e=(0,t.useState)(""),n=(0,a.Z)(e,2),r=n[0],i=n[1],o=(0,t.useState)([]),u=(0,a.Z)(o,2),s=u[0],c=u[1];return(0,t.useEffect)((function(){jE.collection("posts").orderBy("timestamp","desc").onSnapshot((function(e){return c(e.docs.map((function(e){return{id:e.id,data:e.data()}})))}))}),[]),(0,d.jsxs)("div",{className:"feed",children:[(0,d.jsxs)("div",{className:"feed__inputContainer",children:[(0,d.jsxs)("div",{className:"feed__input",children:[(0,d.jsx)(P.Z,{}),(0,d.jsxs)("form",{children:[(0,d.jsx)("input",{value:r,onChange:function(e){return i(e.target.value)},type:"text"}),(0,d.jsx)("button",{onClick:function(e){e.preventDefault(),jE.collection("posts").add({name:"Yash Paota",description:"This is a test",message:r,photoUrl:"",timestamp:yn.firestore.FieldValue.serverTimestamp()}),i("")},type:"submit",children:"Send "})]})]}),(0,d.jsxs)("div",{className:"feed__inputOptions",children:[(0,d.jsx)(D,{Icon:R.Z,title:"Photo",color:"#70B5F9"}),(0,d.jsx)(D,{Icon:L.Z,title:"Video",color:"#E7A33E"}),(0,d.jsx)(D,{Icon:M.Z,title:"Event",color:"#C0CBCD"}),(0,d.jsx)(D,{Icon:F.Z,title:"Write Article",color:"#7FC15E"})]})]}),s.map((function(e){var t=e.id,n=e.data,r=n.name,i=n.description,a=n.message,o=n.photoUrl;return(0,d.jsx)(B,{name:r,description:i,message:a,photoUrl:o},t)}))]})},zE=n(5584),BE=n(7267);var qE=function(){var e=function(e,t){return(0,d.jsxs)("div",{className:"widgets__article",children:[(0,d.jsx)("div",{className:"widgets__articleLeft",children:(0,d.jsx)(BE.Z,{})}),(0,d.jsxs)("div",{className:"widgets__articleRight",children:[(0,d.jsx)("h4",{children:e}),(0,d.jsx)("p",{children:t})]})]})};return(0,d.jsxs)("div",{className:"widgets",children:[(0,d.jsxs)("div",{className:"widgets__header",children:[(0,d.jsx)("h2",{children:"LinkedIn News"}),(0,d.jsx)(zE.Z,{})]}),e("Thank you so much for Signing up to YP's LinkedIN Clone","Top news - 999999+ readers"),e("Kedarkantha Trek the Best Winter trek ","Top news - 999 readers"),e("Ali Bedni Bugyal Trek and Roopkund Lake Trek to be the next trek.","International news - 600 readers"),e("Jammu and Kashmir Congress president Ghulam Ahmad Mir resigns Jammu and Kashmir Congress president Ghulam Ahmad Mir resigns","National news - 100000 readers"),e("Galaxy Watch 5 leak gives best look yet at Samsung\u2019s upcoming smartwatches","Techie Delight news - 78999 readers"),e("Amazon Prime day sale abbout to go Live on 23rd - 24th July in India","Top news - 616 readers")]})},ZE=n(7248),KE=n(327);n(2110),n(6900);"undefined"===typeof window||"undefined"===typeof window.document||window.document.createElement;var WE;function GE(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Error("[Immer] minified error nr: "+e+(n.length?" "+n.map((function(e){return"'"+e+"'"})).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function HE(e){return!!e&&!!e[FT]}function QE(e){var t;return!!e&&(function(e){if(!e||"object"!=typeof e)return!1;var t=Object.getPrototypeOf(e);if(null===t)return!0;var n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object||"function"==typeof n&&Function.toString.call(n)===VT}(e)||Array.isArray(e)||!!e[MT]||!!(null===(t=e.constructor)||void 0===t?void 0:t[MT])||nT(e)||rT(e))}function $E(e,t,n){void 0===n&&(n=!1),0===YE(e)?(n?Object.keys:jT)(e).forEach((function(r){n&&"symbol"==typeof r||t(r,e[r],e)})):e.forEach((function(n,r){return t(r,n,e)}))}function YE(e){var t=e[FT];return t?t.i>3?t.i-4:t.i:Array.isArray(e)?1:nT(e)?2:rT(e)?3:0}function XE(e,t){return 2===YE(e)?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function JE(e,t){return 2===YE(e)?e.get(t):e[t]}function eT(e,t,n){var r=YE(e);2===r?e.set(t,n):3===r?e.add(n):e[t]=n}function tT(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}function nT(e){return DT&&e instanceof Map}function rT(e){return PT&&e instanceof Set}function iT(e){return e.o||e.t}function aT(e){if(Array.isArray(e))return Array.prototype.slice.call(e);var t=UT(e);delete t[FT];for(var n=jT(t),r=0;r<n.length;r++){var i=n[r],a=t[i];!1===a.writable&&(a.writable=!0,a.configurable=!0),(a.get||a.set)&&(t[i]={configurable:!0,writable:!0,enumerable:a.enumerable,value:e[i]})}return Object.create(Object.getPrototypeOf(e),t)}function oT(e,t){return void 0===t&&(t=!1),sT(e)||HE(e)||!QE(e)||(YE(e)>1&&(e.set=e.add=e.clear=e.delete=uT),Object.freeze(e),t&&$E(e,(function(e,t){return oT(t,!0)}),!0)),e}function uT(){GE(2)}function sT(e){return null==e||"object"!=typeof e||Object.isFrozen(e)}function cT(e){var t=zT[e];return t||GE(18,e),t}function lT(e,t){zT[e]||(zT[e]=t)}function fT(){return NT}function hT(e,t){t&&(cT("Patches"),e.u=[],e.s=[],e.v=t)}function dT(e){pT(e),e.p.forEach(yT),e.p=null}function pT(e){e===NT&&(NT=e.l)}function vT(e){return NT={p:[],l:NT,h:e,m:!0,_:0}}function yT(e){var t=e[FT];0===t.i||1===t.i?t.j():t.O=!0}function mT(e,t){t._=t.p.length;var n=t.p[0],r=void 0!==e&&e!==n;return t.h.g||cT("ES5").S(t,e,r),r?(n[FT].P&&(dT(t),GE(4)),QE(e)&&(e=gT(t,e),t.l||bT(t,e)),t.u&&cT("Patches").M(n[FT].t,e,t.u,t.s)):e=gT(t,n,[]),dT(t),t.u&&t.v(t.u,t.s),e!==LT?e:void 0}function gT(e,t,n){if(sT(t))return t;var r=t[FT];if(!r)return $E(t,(function(i,a){return kT(e,r,t,i,a,n)}),!0),t;if(r.A!==e)return t;if(!r.P)return bT(e,r.t,!0),r.t;if(!r.I){r.I=!0,r.A._--;var i=4===r.i||5===r.i?r.o=aT(r.k):r.o,a=i,o=!1;3===r.i&&(a=new Set(i),i.clear(),o=!0),$E(a,(function(t,a){return kT(e,r,i,t,a,n,o)})),bT(e,i,!1),n&&e.u&&cT("Patches").N(r,n,e.u,e.s)}return r.o}function kT(e,t,n,r,i,a,o){if(HE(i)){var u=gT(e,i,a&&t&&3!==t.i&&!XE(t.R,r)?a.concat(r):void 0);if(eT(n,r,u),!HE(u))return;e.m=!1}else o&&n.add(i);if(QE(i)&&!sT(i)){if(!e.h.D&&e._<1)return;gT(e,i),t&&t.A.l||bT(e,i)}}function bT(e,t,n){void 0===n&&(n=!1),!e.l&&e.h.D&&e.m&&oT(t,n)}function wT(e,t){var n=e[FT];return(n?iT(n):e)[t]}function xT(e,t){if(t in e)for(var n=Object.getPrototypeOf(e);n;){var r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Object.getPrototypeOf(n)}}function _T(e){e.P||(e.P=!0,e.l&&_T(e.l))}function IT(e){e.o||(e.o=aT(e.t))}function ST(e,t,n){var r=nT(t)?cT("MapSet").F(t,n):rT(t)?cT("MapSet").T(t,n):e.g?function(e,t){var n=Array.isArray(e),r={i:n?1:0,A:t?t.A:fT(),P:!1,I:!1,R:{},l:t,t:e,k:null,o:null,j:null,C:!1},i=r,a=BT;n&&(i=[r],a=qT);var o=Proxy.revocable(i,a),u=o.revoke,s=o.proxy;return r.k=s,r.j=u,s}(t,n):cT("ES5").J(t,n);return(n?n.A:fT()).p.push(r),r}function ET(e){return HE(e)||GE(22,e),function e(t){if(!QE(t))return t;var n,r=t[FT],i=YE(t);if(r){if(!r.P&&(r.i<4||!cT("ES5").K(r)))return r.t;r.I=!0,n=TT(t,i),r.I=!1}else n=TT(t,i);return $E(n,(function(t,i){r&&JE(r.t,t)===i||eT(n,t,e(i))})),3===i?new Set(n):n}(e)}function TT(e,t){switch(t){case 2:return new Map(e);case 3:return Array.from(e)}return aT(e)}function CT(){function e(e,t){var n=i[e];return n?n.enumerable=t:i[e]=n={configurable:!0,enumerable:t,get:function(){var t=this[FT];return BT.get(t,e)},set:function(t){var n=this[FT];BT.set(n,e,t)}},n}function t(e){for(var t=e.length-1;t>=0;t--){var i=e[t][FT];if(!i.P)switch(i.i){case 5:r(i)&&_T(i);break;case 4:n(i)&&_T(i)}}}function n(e){for(var t=e.t,n=e.k,r=jT(n),i=r.length-1;i>=0;i--){var a=r[i];if(a!==FT){var o=t[a];if(void 0===o&&!XE(t,a))return!0;var u=n[a],s=u&&u[FT];if(s?s.t!==o:!tT(u,o))return!0}}var c=!!t[FT];return r.length!==jT(t).length+(c?0:1)}function r(e){var t=e.k;if(t.length!==e.t.length)return!0;var n=Object.getOwnPropertyDescriptor(t,t.length-1);if(n&&!n.get)return!0;for(var r=0;r<t.length;r++)if(!t.hasOwnProperty(r))return!0;return!1}var i={};lT("ES5",{J:function(t,n){var r=Array.isArray(t),i=function(t,n){if(t){for(var r=Array(n.length),i=0;i<n.length;i++)Object.defineProperty(r,""+i,e(i,!0));return r}var a=UT(n);delete a[FT];for(var o=jT(a),u=0;u<o.length;u++){var s=o[u];a[s]=e(s,t||!!a[s].enumerable)}return Object.create(Object.getPrototypeOf(n),a)}(r,t),a={i:r?5:4,A:n?n.A:fT(),P:!1,I:!1,R:{},l:n,t:t,k:i,o:null,O:!1,C:!1};return Object.defineProperty(i,FT,{value:a,writable:!0}),i},S:function(e,n,i){i?HE(n)&&n[FT].A===e&&t(e.p):(e.u&&function e(t){if(t&&"object"==typeof t){var n=t[FT];if(n){var i=n.t,a=n.k,o=n.R,u=n.i;if(4===u)$E(a,(function(t){t!==FT&&(void 0!==i[t]||XE(i,t)?o[t]||e(a[t]):(o[t]=!0,_T(n)))})),$E(i,(function(e){void 0!==a[e]||XE(a,e)||(o[e]=!1,_T(n))}));else if(5===u){if(r(n)&&(_T(n),o.length=!0),a.length<i.length)for(var s=a.length;s<i.length;s++)o[s]=!1;else for(var c=i.length;c<a.length;c++)o[c]=!0;for(var l=Math.min(a.length,i.length),f=0;f<l;f++)a.hasOwnProperty(f)||(o[f]=!0),void 0===o[f]&&e(a[f])}}}}(e.p[0]),t(e.p))},K:function(e){return 4===e.i?n(e):r(e)}})}!function(e){e}(KE.useSyncExternalStoreWithSelector),function(e){e}(ZE.useSyncExternalStore),WE=r.unstable_batchedUpdates;var AT,NT,OT="undefined"!=typeof Symbol&&"symbol"==typeof Symbol("x"),DT="undefined"!=typeof Map,PT="undefined"!=typeof Set,RT="undefined"!=typeof Proxy&&void 0!==Proxy.revocable&&"undefined"!=typeof Reflect,LT=OT?Symbol.for("immer-nothing"):((AT={})["immer-nothing"]=!0,AT),MT=OT?Symbol.for("immer-draftable"):"__$immer_draftable",FT=OT?Symbol.for("immer-state"):"__$immer_state",VT=("undefined"!=typeof Symbol&&Symbol.iterator,""+Object.prototype.constructor),jT="undefined"!=typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:void 0!==Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,UT=Object.getOwnPropertyDescriptors||function(e){var t={};return jT(e).forEach((function(n){t[n]=Object.getOwnPropertyDescriptor(e,n)})),t},zT={},BT={get:function(e,t){if(t===FT)return e;var n=iT(e);if(!XE(n,t))return function(e,t,n){var r,i=xT(t,n);return i?"value"in i?i.value:null===(r=i.get)||void 0===r?void 0:r.call(e.k):void 0}(e,n,t);var r=n[t];return e.I||!QE(r)?r:r===wT(e.t,t)?(IT(e),e.o[t]=ST(e.A.h,r,e)):r},has:function(e,t){return t in iT(e)},ownKeys:function(e){return Reflect.ownKeys(iT(e))},set:function(e,t,n){var r=xT(iT(e),t);if(null==r?void 0:r.set)return r.set.call(e.k,n),!0;if(!e.P){var i=wT(iT(e),t),a=null==i?void 0:i[FT];if(a&&a.t===n)return e.o[t]=n,e.R[t]=!1,!0;if(tT(n,i)&&(void 0!==n||XE(e.t,t)))return!0;IT(e),_T(e)}return e.o[t]===n&&(void 0!==n||t in e.o)||Number.isNaN(n)&&Number.isNaN(e.o[t])||(e.o[t]=n,e.R[t]=!0),!0},deleteProperty:function(e,t){return void 0!==wT(e.t,t)||t in e.t?(e.R[t]=!1,IT(e),_T(e)):delete e.R[t],e.o&&delete e.o[t],!0},getOwnPropertyDescriptor:function(e,t){var n=iT(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r?{writable:!0,configurable:1!==e.i||"length"!==t,enumerable:r.enumerable,value:n[t]}:r},defineProperty:function(){GE(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){GE(12)}},qT={};$E(BT,(function(e,t){qT[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}})),qT.deleteProperty=function(e,t){return qT.set.call(this,e,t,void 0)},qT.set=function(e,t,n){return BT.set.call(this,e[0],t,n,e[0])};var ZT=function(){function e(e){var t=this;this.g=RT,this.D=!0,this.produce=function(e,n,r){if("function"==typeof e&&"function"!=typeof n){var i=n;n=e;var a=t;return function(e){var t=this;void 0===e&&(e=i);for(var r=arguments.length,o=Array(r>1?r-1:0),u=1;u<r;u++)o[u-1]=arguments[u];return a.produce(e,(function(e){var r;return(r=n).call.apply(r,[t,e].concat(o))}))}}var o;if("function"!=typeof n&&GE(6),void 0!==r&&"function"!=typeof r&&GE(7),QE(e)){var u=vT(t),s=ST(t,e,void 0),c=!0;try{o=n(s),c=!1}finally{c?dT(u):pT(u)}return"undefined"!=typeof Promise&&o instanceof Promise?o.then((function(e){return hT(u,r),mT(e,u)}),(function(e){throw dT(u),e})):(hT(u,r),mT(o,u))}if(!e||"object"!=typeof e){if(void 0===(o=n(e))&&(o=e),o===LT&&(o=void 0),t.D&&oT(o,!0),r){var l=[],f=[];cT("Patches").M(e,o,l,f),r(l,f)}return o}GE(21,e)},this.produceWithPatches=function(e,n){if("function"==typeof e)return function(n){for(var r=arguments.length,i=Array(r>1?r-1:0),a=1;a<r;a++)i[a-1]=arguments[a];return t.produceWithPatches(n,(function(t){return e.apply(void 0,[t].concat(i))}))};var r,i,a=t.produce(e,n,(function(e,t){r=e,i=t}));return"undefined"!=typeof Promise&&a instanceof Promise?a.then((function(e){return[e,r,i]})):[a,r,i]},"boolean"==typeof(null==e?void 0:e.useProxies)&&this.setUseProxies(e.useProxies),"boolean"==typeof(null==e?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze)}var t=e.prototype;return t.createDraft=function(e){QE(e)||GE(8),HE(e)&&(e=ET(e));var t=vT(this),n=ST(this,e,void 0);return n[FT].C=!0,pT(t),n},t.finishDraft=function(e,t){var n=(e&&e[FT]).A;return hT(n,t),mT(void 0,n)},t.setAutoFreeze=function(e){this.D=e},t.setUseProxies=function(e){e&&!RT&&GE(20),this.g=e},t.applyPatches=function(e,t){var n;for(n=t.length-1;n>=0;n--){var r=t[n];if(0===r.path.length&&"replace"===r.op){e=r.value;break}}n>-1&&(t=t.slice(n+1));var i=cT("Patches").$;return HE(e)?i(e,t):this.produce(e,(function(e){return i(e,t)}))},e}(),KT=new ZT,WT=KT.produce,GT=(KT.produceWithPatches.bind(KT),KT.setAutoFreeze.bind(KT),KT.setUseProxies.bind(KT),KT.applyPatches.bind(KT),KT.createDraft.bind(KT),KT.finishDraft.bind(KT),WT);"function"===typeof Symbol&&Symbol.observable;var HT=function(){return Math.random().toString(36).substring(7).split("").join(".")};HT(),HT();function QT(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce((function(e,t){return function(){return e(t.apply(void 0,arguments))}}))}var $T=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),YT=function(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:u(0),throw:u(1),return:u(2)},"function"===typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function u(a){return function(u){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(i=(i=o.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(u){a=[6,u],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,u])}}},XT=function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e},JT=Object.defineProperty,eC=Object.defineProperties,tC=Object.getOwnPropertyDescriptors,nC=Object.getOwnPropertySymbols,rC=Object.prototype.hasOwnProperty,iC=Object.prototype.propertyIsEnumerable,aC=function(e,t,n){return t in e?JT(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n},oC=function(e,t){for(var n in t||(t={}))rC.call(t,n)&&aC(e,n,t[n]);if(nC)for(var r=0,i=nC(t);r<i.length;r++){n=i[r];iC.call(t,n)&&aC(e,n,t[n])}return e},uC=function(e,t){return eC(e,tC(t))},sC=function(e,t,n){return new Promise((function(r,i){var a=function(e){try{u(n.next(e))}catch(t){i(t)}},o=function(e){try{u(n.throw(e))}catch(t){i(t)}},u=function(e){return e.done?r(e.value):Promise.resolve(e.value).then(a,o)};u((n=n.apply(e,t)).next())}))};"undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__,"undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__;!function(e){function t(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=e.apply(this,n)||this;return Object.setPrototypeOf(i,t.prototype),i}$T(t,e),Object.defineProperty(t,Symbol.species,{get:function(){return t},enumerable:!1,configurable:!0}),t.prototype.concat=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.prototype.concat.apply(this,t)},t.prototype.prepend=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return 1===e.length&&Array.isArray(e[0])?new(t.bind.apply(t,XT([void 0],e[0].concat(this)))):new(t.bind.apply(t,XT([void 0],e.concat(this))))}}(Array);function cC(e){return QE(e)?GT(e,(function(){})):e}function lC(e,t){function n(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];if(t){var i=t.apply(void 0,n);if(!i)throw new Error("prepareAction did not return an object");return oC(oC({type:e,payload:i.payload},"meta"in i&&{meta:i.meta}),"error"in i&&{error:i.error})}return{type:e,payload:n[0]}}return n.toString=function(){return""+e},n.type=e,n.match=function(t){return t.type===e},n}function fC(e){var t,n={},r=[],i={addCase:function(e,t){var r="string"===typeof e?e:e.type;if(r in n)throw new Error("addCase cannot be called with two reducers for the same action type");return n[r]=t,i},addMatcher:function(e,t){return r.push({matcher:e,reducer:t}),i},addDefaultCase:function(e){return t=e,i}};return e(i),[n,r,t]}var hC=function(e){void 0===e&&(e=21);for(var t="",n=e;n--;)t+="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW"[64*Math.random()|0];return t},dC=["name","message","stack","code"],pC=function(e,t){this.payload=e,this.meta=t},vC=function(e,t){this.payload=e,this.meta=t},yC=function(e){if("object"===typeof e&&null!==e){for(var t={},n=0,r=dC;n<r.length;n++){var i=r[n];"string"===typeof e[i]&&(t[i]=e[i])}return t}return{message:String(e)}};!function(){function e(e,t,n){var r=lC(e+"/fulfilled",(function(e,t,n,r){return{payload:e,meta:uC(oC({},r||{}),{arg:n,requestId:t,requestStatus:"fulfilled"})}})),i=lC(e+"/pending",(function(e,t,n){return{payload:void 0,meta:uC(oC({},n||{}),{arg:t,requestId:e,requestStatus:"pending"})}})),a=lC(e+"/rejected",(function(e,t,r,i,a){return{payload:i,error:(n&&n.serializeError||yC)(e||"Rejected"),meta:uC(oC({},a||{}),{arg:r,requestId:t,rejectedWithValue:!!i,requestStatus:"rejected",aborted:"AbortError"===(null==e?void 0:e.name),condition:"ConditionError"===(null==e?void 0:e.name)})}})),o="undefined"!==typeof AbortController?AbortController:function(){function e(){this.signal={aborted:!1,addEventListener:function(){},dispatchEvent:function(){return!1},onabort:function(){},removeEventListener:function(){},reason:void 0,throwIfAborted:function(){}}}return e.prototype.abort=function(){0},e}();return Object.assign((function(e){return function(u,s,c){var l,f=(null==n?void 0:n.idGenerator)?n.idGenerator(e):hC(),h=new o;function d(e){l=e,h.abort()}var p=function(){return sC(this,null,(function(){var o,p,v,y,m,g;return YT(this,(function(k){switch(k.label){case 0:return k.trys.push([0,4,,5]),y=null==(o=null==n?void 0:n.condition)?void 0:o.call(n,e,{getState:s,extra:c}),null===(b=y)||"object"!==typeof b||"function"!==typeof b.then?[3,2]:[4,y];case 1:y=k.sent(),k.label=2;case 2:if(!1===y||h.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};return!0,m=new Promise((function(e,t){return h.signal.addEventListener("abort",(function(){return t({name:"AbortError",message:l||"Aborted"})}))})),u(i(f,e,null==(p=null==n?void 0:n.getPendingMeta)?void 0:p.call(n,{requestId:f,arg:e},{getState:s,extra:c}))),[4,Promise.race([m,Promise.resolve(t(e,{dispatch:u,getState:s,extra:c,requestId:f,signal:h.signal,abort:d,rejectWithValue:function(e,t){return new pC(e,t)},fulfillWithValue:function(e,t){return new vC(e,t)}})).then((function(t){if(t instanceof pC)throw t;return t instanceof vC?r(t.payload,f,e,t.meta):r(t,f,e)}))])];case 3:return v=k.sent(),[3,5];case 4:return g=k.sent(),v=g instanceof pC?a(null,f,e,g.payload,g.meta):a(g,f,e),[3,5];case 5:return n&&!n.dispatchConditionRejection&&a.match(v)&&v.meta.condition||u(v),[2,v]}var b}))}))}();return Object.assign(p,{abort:d,requestId:f,arg:e,unwrap:function(){return p.then(mC)}})}}),{pending:i,rejected:a,fulfilled:r,typePrefix:e})}e.withTypes=function(){return e}}();function mC(e){if(e.meta&&e.meta.rejectedWithValue)throw e.payload;if(e.error)throw e.error;return e.payload}Object.assign;var gC="listenerMiddleware";lC(gC+"/add"),lC(gC+"/removeAll"),lC(gC+"/remove");"function"===typeof queueMicrotask&&queueMicrotask.bind("undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:globalThis);var kC,bC=function(e){return function(t){setTimeout(t,e)}};"undefined"!==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame:bC(10);CT();var wC=function(e){var t=e.name;if(!t)throw new Error("`name` is a required option for createSlice");var n,r="function"==typeof e.initialState?e.initialState:cC(e.initialState),i=e.reducers||{},a=Object.keys(i),o={},u={},s={};function c(){var t="function"===typeof e.extraReducers?fC(e.extraReducers):[e.extraReducers],n=t[0],i=void 0===n?{}:n,a=t[1],o=void 0===a?[]:a,s=t[2],c=void 0===s?void 0:s,l=oC(oC({},i),u);return function(e,t,n,r){void 0===n&&(n=[]);var i,a="function"===typeof t?fC(t):[t,n,r],o=a[0],u=a[1],s=a[2];if(function(e){return"function"===typeof e}(e))i=function(){return cC(e())};else{var c=cC(e);i=function(){return c}}function l(e,t){void 0===e&&(e=i());var n=XT([o[t.type]],u.filter((function(e){return(0,e.matcher)(t)})).map((function(e){return e.reducer})));return 0===n.filter((function(e){return!!e})).length&&(n=[s]),n.reduce((function(e,n){if(n){var r;if(HE(e))return void 0===(r=n(e,t))?e:r;if(QE(e))return GT(e,(function(e){return n(e,t)}));if(void 0===(r=n(e,t))){if(null===e)return e;throw Error("A case reducer on a non-draftable value must not return undefined")}return r}return e}),e)}return l.getInitialState=i,l}(r,(function(e){for(var t in l)e.addCase(t,l[t]);for(var n=0,r=o;n<r.length;n++){var i=r[n];e.addMatcher(i.matcher,i.reducer)}c&&e.addDefaultCase(c)}))}return a.forEach((function(e){var n,r,a=i[e],c=t+"/"+e;"reducer"in a?(n=a.reducer,r=a.prepare):n=a,o[e]=n,u[c]=n,s[e]=r?lC(c,r):lC(c)})),{name:t,reducer:function(e,t){return n||(n=c()),n(e,t)},actions:s,caseReducers:o,getInitialState:function(){return n||(n=c()),n.getInitialState()}}}({name:"user",initialState:{user:null},reducers:{login:function(e,t){e.user=t.payload},logout:function(e){e.user=null}}}),xC=wC.actions;xC.login,xC.logout,wC.reducer;var _C=function(){return(0,d.jsxs)("div",{className:"app",children:[(0,d.jsx)(N,{}),(0,d.jsxs)("div",{className:"app__body",children:[(0,d.jsx)(O,{}),(0,d.jsx)(UE,{}),(0,d.jsx)(qE,{})]})]})};r.render((0,d.jsx)(_C,{}),document.getElementById("root"))}()}();
//# sourceMappingURL=main.ad27aec6.js.map